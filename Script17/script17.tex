\documentclass[../main.tex]{subfiles}

\pagestyle{main}
\renewcommand{\chaptermark}[1]{\markboth{\chaptername\ \thechapter}{}}
\setcounter{chapter}{16}

\begin{document}




\chapter{Sequences and Series of Functions}
\begin{definition}\label{dfn:17.1}\marginnote{6/23:}
    Let $A\subset\R$, and consider $X=\{f:A\to\R\}$, the collection of real-valued functions on $A$. A \textbf{sequence of functions} (on $A$) is an ordered list $(f_1,f_2,f_3,\dots)$ which we will denote $(f_n)$, where each $f_n\in X$. (More formally, we can think of the sequence as a function $F:\N\to X$, where $f_n=F(n)$, for each $n\in\N$, but this degree of formality is not particularly helpful.)\par
    We can take the sequence to start at any $n_0\in\Z$ and not just at 1, just like we did for sequences of real numbers.
\end{definition}

\begin{definition}\label{dfn:17.2}
    The sequence $(f_n)$ \textbf{converges pointwise} to a function $f:A\to\R$ if for all $x\in A$ and $\epsilon>0$, there exists $N\in\N$ such that if $n\geq N$, then $|f_n(x)-f(x)|<\epsilon$. In other words, we have that for all $x\in A$, $\lim_{n\to\infty}f_n(x)=f(x)$.
\end{definition}

\begin{definition}\label{dfn:17.3}
    The sequence $(f_n)$ \textbf{converges uniformly} to a function $f:A\to\R$ if for all $\epsilon>0$, there exists $N\in\N$ such that if $n\geq N$, then $|f_n(x)-f(x)|<\epsilon$ for every $x\in A$.\par
    Equivalently, the sequence $(f_n)$ \textbf{converges uniformly} to a function $f:A\to\R$ if for all $\epsilon>0$, there exists $N\in\N$ such that if $n\geq N$, then $\sup_{x\in A}|f_n(x)-f(x)|<\epsilon$.
\end{definition}

\begin{exercise}\label{exr:17.4}
    Suppose that a sequence $(f_n)$ converges pointwise to a function $f$. Prove that if $(f_n)$ converges uniformly to a function $g$, then $f=g$.
    \begin{proof}
        To prove that $f=g$, Definition \ref{dfn:1.16} tells us that it will suffice to show that $f(x)=g(x)$ for all $x\in A$. Suppose for the sake of contradiction that $f(x)\neq g(x)$ for some $x\in A$. Since $(f_n)$ converges pointwise to $f$ by hypothesis, Definition \ref{dfn:17.2} implies that for all $\epsilon>0$, there exists $N_1\in\N$ such that if $n\geq N_1$, then $|f_n(x)-f(x)|<\epsilon$. Additionally, since $(f_n)$ converges uniformly to $g$ by hypothesis, Definition \ref{dfn:17.3} asserts that for all $\epsilon>0$, there exists $N_2\in\N$ such that if $n\geq N_2$, then $|f_n(x)-g(x)|<\epsilon$.\par
        WLOG, let $f(x)>g(x)$. Choose $\epsilon=\frac{f(x)-g(x)}{2}$, and let $N=\max(N_1,N_2)$. Since $N\geq N_1$, $|f_N(x)-f(x)|<\frac{f(x)-g(x)}{2}$. Similarly, $|f_N(x)-g(x)|<\frac{f(x)-g(x)}{2}$. But this implies that
        \begin{align*}
            f(x)-g(x) &= |f(x)-f_N(x)+f_N(x)-g(x)|\\
            &\leq |f(x)-f_N(x)|+|f_N(x)-g(x)|\tag*{Lemma \ref{lem:8.8}}\\
            &= |f_N(x)-f(x)|+|f_N(x)-g(x)|\tag*{Exercise \ref{exr:8.5}}\\
            &< \frac{f(x)-g(x)}{2}+\frac{f(x)-g(x)}{2}\\
            &= f(x)-g(x)
        \end{align*}
        a contradiction.
    \end{proof}
\end{exercise}

\begin{exercise}\label{exr:17.5}
    For each of the following sequences of functions, determine what function the sequence $(f_n)$ converges to pointwise. Does the sequence converge uniformly to this function?
    \begin{enumerate}[label={(\alph*)}]
        \item For $n\in\N$, let $f_n:[0,1]\to\R$ be given by $f_n(x)=x^n$.
        \begin{proof}[Answer]
            Converges to the function $f:[0,1]\to\R$ defined by
            \begin{equation*}
                f(x) =
                \begin{cases}
                    0 & x<1\\
                    1 & x=1
                \end{cases}
            \end{equation*}
            Does not converge uniformly.
        \end{proof}
        \item For $n\in\N$, let $f_n:\R\to\R$ be given by $f_n(x)=\frac{\sin(nx)}{n}$. (For the purposes of this example, you may assume basic knowledge of sine.)
        \begin{proof}[Answer]
            Converges to the function $f:\R\to\R$ defined by $f(x)=0$. Does converge uniformly.
        \end{proof}
        \item For $n\in\N$, let $f_n:[0,1]\to\R$ be given by
        \begin{equation*}
            f_n(x) =
            \begin{cases}
                n^2x & 0\leq x\leq\frac{1}{n}\\
                n(2-nx) & \frac{1}{n}\leq x\leq\frac{2}{n}\\
                0 & \frac{2}{n}\leq x\leq 1
            \end{cases}
        \end{equation*}
        \begin{proof}[Answer]
            Converges to the function $f:[0,1]\to\R$ defined by $f(x)=0$. Does not converge uniformly.
        \end{proof}
    \end{enumerate}
\end{exercise}

\begin{theorem}\label{trm:17.6}
    Let $(f_n)$ be a sequence of functions, and suppose that each $f_n:A\to\R$ is continuous. If $(f_n)$ converges uniformly to $f:A\to\R$, then $f$ is continuous.
    \begin{proof}
        % \begin{itemize}
        %     \item Definition \ref{dfn:17.3}: There exists $N\in\N$ such that if $n\geq N$, then $|f_n(a)-f(a)|<\frac{\epsilon}{3}$ for all $a\in A$.
        %     \item Thus: $|f_N(x)-f(x)|<\frac{\epsilon}{3}$ and $|f_N(y)-f(y)|<\frac{\epsilon}{3}$.
        %     \item Theorems \ref{trm:9.10} and \ref{trm:11.5}: There exists $\delta>0$ such that if $y\in A$ and $|y-x|<\delta$, then $|f_N(y)-f_N(x)|<\frac{\epsilon}{3}$.
        %     \item Choose this $\delta$ to be our $\delta$.
        %     \item Therefore:
        %     \begin{align*}
        %         |f(y)-f(x)| &\leq |f(y)-f_N(y)|+|f_N(y)-f_N(x)|+|f_N(x)-f(x)|\tag*{Lemma \ref{lem:8.8}}\\
        %         &= |f_N(y)-f(y)|+|f_N(y)-f_N(x)|+|f_N(x)-f(x)|\tag*{Exercise \ref{exr:8.5}}\\
        %         &< \frac{\epsilon}{3}+\frac{\epsilon}{3}+\frac{\epsilon}{3}\\
        %         &= \epsilon
        %     \end{align*}
        % \end{itemize}

        To prove that $f$ is continuous, Theorem \ref{trm:9.10} tells us that it will suffice to show that $f$ is continuous at every $x\in A$. Let $x$ be an arbitrary element of $A$. To show that $f$ is continuous at $x$, Theorem \ref{trm:11.5} tells us that it will suffice to verify that for every $\epsilon>0$, there exists a $\delta>0$ such that if $y\in A$ and $|y-x|<\delta$, then $|f(y)-f(x)|<\epsilon$. Let $\epsilon>0$ be arbitrary, and also let $y$ be an arbitrary element of $A$. Since $(f_n)$ converges uniformly, Definition \ref{dfn:17.3} implies that there exists $N\in\N$ such that if $n\geq N$, then $|f_n(a)-f(a)|<\frac{\epsilon}{3}$ for all $a\in A$. Thus, $|f_N(x)-f(x)|<\frac{\epsilon}{3}$ and $|f_N(y)-f(y)|<\frac{\epsilon}{3}$. Additionally, since each $f_n$ is continuous, Theorems \ref{trm:9.10} and \ref{trm:11.5} assert that there exists $\delta>0$ such that if $y\in A$ and $|y-x|<\delta$, then $|f_N(y)-f_N(x)|<\frac{\epsilon}{3}$. Choose this $\delta$ to be our $\delta$. Therefore,
        \begin{align*}
            |f(y)-f(x)| &\leq |f(y)-f_N(y)|+|f_N(y)-f_N(x)|+|f_N(x)-f(x)|\tag*{Lemma \ref{lem:8.8}}\\
            &= |f_N(y)-f(y)|+|f_N(y)-f_N(x)|+|f_N(x)-f(x)|\tag*{Exercise \ref{exr:8.5}}\\
            &< \frac{\epsilon}{3}+\frac{\epsilon}{3}+\frac{\epsilon}{3}\\
            &= \epsilon
        \end{align*}
        as desired.
    \end{proof}
\end{theorem}

\begin{theorem}\label{trm:17.7}\marginnote{6/26:}
    Suppose that $(f_n)$ is a sequence of integrable functions on $[a,b]$ and suppose that $(f_n)$ converges uniformly to $f:[a,b]\to\R$. Then
    \begin{equation*}
        \int_a^bf = \lim_{n\to\infty}\int_a^bf_n
    \end{equation*}
    \begin{lemma*}
        $f$ is integrable on $[a,b]$.
        \begin{proof}
            To prove that $f$ is integrable on $[a,b]$, Theorem \ref{trm:13.18} tells us that it will suffice to show that for every $\epsilon>0$, there exists a partition $P$ of $[a,b]$ such that $U(f,P)-L(f,P)<\epsilon$. Let $\epsilon>0$ be arbitrary. Since $(f_n)$ converges uniformly to $f$ by hypothesis, Definition \ref{dfn:17.3} asserts that there exists $N\in\N$ such that for all $n\geq N$, $|f_n(x)-f(x)|<\frac{\epsilon}{6(b-a)}$\footnote{For the purposes of this proof, we will assume that $a<b$, on the basis of the fact that the proof of the case where $a=b$ is trivial.} for all $x\in[a,b]$. This statement will be useful in the verification of the three following results.\par\medskip
            To confirm that $|U(f_N,P)-L(f_N,P)|<\frac{\epsilon}{3}$, we first invoke Theorem \ref{trm:13.18}, which tells us that since $f_N$ is integrable by hypothesis, there exists a partition $P$ of $[a,b]$ such that $U(f_N,P)-L(f_N,P)<\frac{\epsilon}{3}$. Additionally, since $L(f_N,P)\leq U(f_N,P)$ by Theorem \ref{trm:13.13}, we have by Definition \ref{dfn:8.4} that $U(f_N,P)-L(f_N,P)=|U(f_N,P)-L(f_N,P)|$. Therefore, we have by transitivity that $|U(f_N,P)-L(f_N,P)|=U(f_N,P)-L(f_N,P)<\frac{\epsilon}{3}$, as desired.\par\medskip
            To confirm that $|U(f,P)-U(f_N,P)|<\frac{\epsilon}{3}$, we begin with the following contradiction argument\footnote{Note that this argument is analogous to the proof of Additional Exercise \ref{axr:13.2}.}.\par
            Suppose for the sake of contradiction that $|M_i(f)-M_i(f_N)|\geq\frac{\epsilon}{3(b-a)}$. We divide into two cases ($M_i(f)-M_i(f_N)\geq\frac{\epsilon}{3(b-a)}$ and $M_i(f_N)-M_i(f)\geq\frac{\epsilon}{3(b-a)}$). Suppose first that $M_i(f)-M_i(f_N)\geq\frac{\epsilon}{3(b-a)}$. By Lemma \ref{lem:5.11}, there exists $f(x)\in\{f(x)\mid t_{i-1}\leq x\leq t_i\}$ such that $M_i(f)-\frac{\epsilon}{6(b-a)}<f(x)\leq M_i(f)$. Similarly, there exists $f_N(x)\in\{f_N(x)\mid t_{i-1}\leq x\leq t_i\}$ such that $M_i(f_N)-\frac{\epsilon}{6(b-a)}<f_N(x)\leq M_i(f_N)$. Thus, we have that
            \begin{equation*}
                f(x) > M_i(f)-\frac{\epsilon}{6(b-a)}
                > M_i(f)-\frac{\epsilon}{3(b-a)}
                \geq M_i(f_N)
                \geq f_N(x)
            \end{equation*}
            It follows that
            \begin{align*}
                |f(x)-f_N(x)| &= f(x)-f_N(x)\\
                &> \left( M_i(f)-\frac{\epsilon}{6(b-a)} \right)-f_N(x)\\
                &\geq \left( M_i(f)-\frac{\epsilon}{6(b-a)} \right)-M_i(f_N)\\
                &= M_i(f)-M_i(f_N)-\frac{\epsilon}{6(b-a)}\\
                &\geq \frac{\epsilon}{3(b-a)}-\frac{\epsilon}{6(b-a)}\\
                &= \frac{\epsilon}{6(b-a)}
            \end{align*}
            But this contradicts the previously proven fact that $|f(x)-f_N(x)|=|f_N(x)-f(x)|<\frac{\epsilon}{6(b-a)}$. The argument is symmetric in the other case.\par
            Thus, we know that $|M_i(f)-M_i(f_N)|<\frac{\epsilon}{3(b-a)}$. Therefore, we have that
            \begin{align*}
                |U(f,P)-U(f_N,P)| &= \left| \sum_{i=1}^kM_i(f)(t_i-t_{i-1})-\sum_{i=1}^kM_i(f_N)(t_i-t_{i-1}) \right|\tag*{Definition \ref{dfn:13.10}}\\
                &= \left| \sum_{i=1}^k(M_i(f)-M_i(f_N)(t_i-t_{i-1}) \right|\\
                &< \left| \sum_{i=1}^k\frac{\epsilon}{3(b-a)}(t_i-t_{i-1}) \right|\\
                &= \frac{\epsilon}{3(b-a)}(b-a)\\
                &= \frac{\epsilon}{3}
            \end{align*}
            as desired.\par\medskip
            The verification of the statement that $|L(f_N,P)-L(f,P)|<\frac{\epsilon}{3}$ is symmetric to the previous argument.\par\medskip
            Having established that $|U(f_N,P)-L(f_N,P)|<\frac{\epsilon}{3}$, $|U(f,P)-U(f_N,P)|<\frac{\epsilon}{3}$, and $|L(f_N,P)-L(f,P)|<\frac{\epsilon}{3}$, we can now show that
            \begin{align*}
                U(f,P)-L(f,P) &= |U(f,P)-L(f,P)|\tag*{Theorem \ref{trm:13.13}}\\
                &\leq |U(f,P)-U(f_N,P)|+|U(f_N,P)-L(f_N,P)|+|L(f_N,P)-L(f,P)|\\
                &< \frac{\epsilon}{3}+\frac{\epsilon}{3}+\frac{\epsilon}{3}\\
                &= \epsilon
            \end{align*}
            as desired.
        \end{proof}
    \end{lemma*}
    \begin{proof}[Proof of Theorem \ref{trm:17.7}]
        % \begin{itemize}
        %     \item Lemma: $f$ is integrable.
        %     \begin{itemize}
        %         \item WTS (Theorem \ref{trm:13.18}): For every $\epsilon>0$, there exists a partition $P$ of $[a,b]$ such that $U(f,P)-L(f,P)<\epsilon$.
        %         \item Let $\epsilon>0$ be arbitrary.
        %         \item Definition \ref{dfn:17.3} ($(f_n)$ converges uniformly to $f$): There exists $N\in\N$ such that for all $n\geq N$, $|f_n(x)-f(x)|<\frac{\epsilon}{6(b-a)}$ for all $x\in[a,b]$.
        %         \item $|U(f_N,P)-L(f_N,P)|<\frac{\epsilon}{3}$:
        %         \begin{itemize}
        %             \item Theorem \ref{trm:13.18} ($f_N$ is integrable): There exists a partition $P$ of $[a,b]$ such that $U(f_N,P)-L(f_N,P)<\frac{\epsilon}{3}$.
        %             \item Theorem \ref{trm:13.13}: $U(f_N,P)-L(f_N,P)=|U(f_N,P)-L(f_N,P)|$.
        %         \end{itemize}
        %         \item $|U(f,P)-U(f_N,P)|<\frac{\epsilon}{3}$.
        %         \begin{itemize}
        %             \item Suppose (contradiction): $|M_i(f)-M_i(f_N)|\geq\frac{\epsilon}{3(b-a)}$.
        %             \item We divide into two cases ($M_i(f)-M_i(f_N)\geq\frac{\epsilon}{3(b-a)}$ and $M_i(f)-M_i(f_N)\geq\frac{\epsilon}{3(b-a)}$).
        %             \item Case 1:
        %             \begin{itemize}
        %                 \item Lemma \ref{lem:5.11}: There exists $f(x)\in\{f(x)\mid t_{i-1}\leq x\leq t_i\}$ such that $M_i(f)-\frac{\epsilon}{6(b-a)}<f(x)\leq M_i(f)$.
        %                 \item Lemma \ref{lem:5.11}: There exists $f_N(x)\in\{f_N(x)\mid t_{i-1}\leq x\leq t_i\}$ such that $M_i(f_N)-\frac{\epsilon}{6(b-a)}<f_N(x)\leq M_i(f_N)$.
        %                 \item ($f(x)>M_i(f)-\frac{\epsilon}{6(b-a)}>M_i(f)-\frac{\epsilon}{3(b-a)}\geq M_i(f_N)\geq f_N(x)$):
        %                 \begin{align*}
        %                     |f(x)-f_N(x)| &= f(x)-f_N(x)\\
        %                     &> \left( M_i(f)-\frac{\epsilon}{6(b-a)} \right)-f_N(x)\\
        %                     &\geq \left( M_i(f)-\frac{\epsilon}{6(b-a)} \right)-M_i(f_N)\\
        %                     &= M_i(f)-M_i(f_N)-\frac{\epsilon}{6(b-a)}\\
        %                     &\geq \frac{\epsilon}{3(b-a)}-\frac{\epsilon}{6(b-a)}\\
        %                     &= \frac{\epsilon}{6(b-a)}
        %                 \end{align*}
        %                 \item Contradicts $|f(x)-f_N(x)|=|f_N(x)-f(x)|<\frac{\epsilon}{6(b-a)}$.
        %             \end{itemize}
        %             \item Case 2:
        %             \begin{itemize}
        %                 \item Symmetric.
        %             \end{itemize}
        %             \item Thus: $|M_i(f)-M_i(f_N)|<\frac{\epsilon}{3(b-a)}$.
        %             \item Therefore:
        %             \begin{align*}
        %                 |U(f,P)-U(f_N,P)| &= \left| \sum_{i=1}^kM_i(f)(t_i-t_{i-1})-\sum_{i=1}^kM_i(f_N)(t_i-t_{i-1}) \right|\tag*{Definition \ref{dfn:13.10}}\\
        %                 &= \left| \sum_{i=1}^k(M_i(f)-M_i(f_N)(t_i-t_{i-1}) \right|\\
        %                 &< \left| \sum_{i=1}^k\frac{\epsilon}{3(b-a)}(t_i-t_{i-1}) \right|\\
        %                 &= \frac{\epsilon}{3(b-a)}(b-a)\\
        %                 &= \frac{\epsilon}{3}
        %             \end{align*}
        %         \end{itemize}
        %         \item $|L(f_N,P)-L(f,P)|<\frac{\epsilon}{3}$.
        %         \begin{itemize}
        %             \item Symmetric.
        %         \end{itemize}
        %         \item Therefore:
        %         \begin{align*}
        %             U(f,P)-L(f,P) &= |U(f,P)-L(f,P)|\tag*{Theorem \ref{trm:13.13}}\\
        %             &\leq |U(f,P)-U(f_N,P)|+|U(f_N,P)-L(f_N,P)|+|L(f_N,P)-L(f,P)|\\
        %             &< \frac{\epsilon}{3}+\frac{\epsilon}{3}+\frac{\epsilon}{3}\\
        %             &= \epsilon
        %         \end{align*}
        %     \end{itemize}
        %     \item For the purposes of this proof, we will assume that $a<b$, on the basis of the fact that the proof of the case where $a=b$ is trivial. 
        %     \item WTS (Theorem \ref{trm:15.7}): For all $\epsilon>0$, there exists $n\in\N$ such that for all $n\geq N$, we have $|\int_a^bf_n-\int_a^bf|<\epsilon$.
        %     \item Let $\epsilon>0$ be arbitrary.
        %     \item Definition \ref{dfn:17.3} ($(f_n)$ converges uniformly to $f$): There exists $N\in\N$ such that if $n\geq N$, then $|f_n(x)-f(x)|<\frac{\epsilon}{b-a}$ for all $x\in[a,b]$.
        %     \item Choose this $N$ to be our $N$.
        %     \item Lemma, Exercise \ref{exr:8.9}: $-\frac{\epsilon}{b-a}<f_N(x)-f(x)<\frac{\epsilon}{b-a}$ for all $x\in[a,b]$.
        %     \item Theorem \ref{trm:13.24} ($f_N$ is integrable by hypothesis, $f$ is integrable by the lemma): $f_N-f$ is integrable.
        %     \item Theorem \ref{trm:13.27}: $-\frac{\epsilon}{b-a}(b-a)<\int_a^b(f_N-f)<\frac{\epsilon}{b-a}(b-a)$.
        %     \item Lemma, Exercise \ref{exr:8.9}: $|\int_a^b(f_N-f)|<\epsilon$.
        %     \item Theorem \ref{trm:13.24}: $|\int_a^bf_N-\int_a^bf|<\epsilon$.
        % \end{itemize}

        To prove that $\lim_{n\to\infty}\int_a^bf_n=\int_a^bf$, Theorem \ref{trm:15.7} tells us that it will suffice to show that for all $\epsilon>0$, there exists $N\in\N$ such that for all $n\geq N$, we have $|\int_a^bf_n-\int_a^bf|<\epsilon$. Let $\epsilon>0$ be arbitrary. Since $(f_n)$ converges uniformly to $f$, we have by Definition \ref{dfn:17.3} that there exists $N\in\N$ such that if $n\geq N$, then $|f_n(x)-f(x)|<\frac{\epsilon}{b-a}$ for all $x\in[a,b]$. Choose this $N$ to be our $N$. Let $n$ be an arbitrary natural number such that $n\geq N$. It follows from the lemma to Exercise \ref{exr:8.9} that $-\frac{\epsilon}{b-a}<f_n(x)-f(x)<\frac{\epsilon}{b-a}$ for all $x\in[a,b]$. Additionally, since $f_n$ is integrable on $[a,b]$ by hypothesis and $f$ is integrable on $[a,b]$ by the lemma, Theorem \ref{trm:13.24} implies that $f_n-f$ is integrable on $[a,b]$. Combining these last two results, we have by Theorem \ref{trm:13.27} that $-\frac{\epsilon}{b-a}(b-a)<\int_a^b(f_n-f)<\frac{\epsilon}{b-a}(b-a)$. Consequently, by Script \ref{sct:7} and the lemma to Exercise \ref{exr:8.9}, we have that $|\int_a^b(f_n-f)|<\epsilon$. Therefore, by Theorem \ref{trm:13.24}, we have that $|\int_a^bf_n-\int_a^bf|<\epsilon$, as desired.
    \end{proof}
\end{theorem}

\begin{theorem}\label{trm:17.8}
    Let $(f_n)$ be a sequence of functions defined on an open interval containing $[a,b]$ such that each $f_n$ is differentiable on $[a,b]$ and $f'_n$ is integrable on $[a,b]$. Suppose further that $(f_n)$ converges pointwise to $f$ on $[a,b]$ and that $(f'_n)$ converges uniformly to a continuous function $g$ on $[a,b]$. Then $f$ is differentiable at every $x\in[a,b]$ and
    \begin{equation*}
        f'(x) = \lim_{n\to\infty}f'_n(x)
    \end{equation*}
    \begin{proof}
        Let $x$ be an arbitrary element of $[a,b]$. Since $(f_n')$ converges uniformly to $g$, Definition \ref{dfn:17.3} and Theorem \ref{trm:15.7} imply that $\lim_{n\to\infty}f_n'(x)=g(x)$. Additionally, we have that
        \begin{align*}
            \int_a^xg &= \lim_{n\to\infty}\int_a^xf_n'\tag*{Theorem \ref{trm:17.7}}\\
            &= \lim_{n\to\infty}(f_n(x)-f_n(a))\tag*{Theorem \ref{trm:14.4}}\\
            &= \lim_{n\to\infty}f_n(x)-\lim_{n\to\infty}f_n(a)\tag*{Theorem \ref{trm:15.9}}\\
            &= f(x)-f(a)\tag*{Definition \ref{dfn:17.2}}
        \end{align*}
        This combined with the fact that $g$ is continuous (hence continuous at $x$ by Theorem \ref{trm:9.10}) implies that
        \begin{align*}
            g(x) &= \dv{x}(f(x)-f(a))\tag*{Theorem \ref{trm:14.1}}\\
            &= \dv{x}(f(x))-\dv{x}(f(a))\tag*{Exercise \ref{exr:12.9}}\\
            &= f'(x)\tag*{Exercise \ref{exr:12.8}}
        \end{align*}
        Therefore, we have by transitivity that $f'(x)=\lim_{n\to\infty}f'_n(x)$, as desired.
    \end{proof}
\end{theorem}

\begin{theorem}\label{trm:17.9}
    Let $(f_n)$ be a sequence of functions defined on a set $A$. Then the following are equivalent.
    \begin{enumerate}[label={\textup{(}\alph*\textup{)}}]
        \item There is some function $f$ such that $(f_n)$ converges uniformly to $f$ on $A$.
        \item For all $\epsilon>0$, there exists an $N\in\N$ such that when $m,n\geq N$, $|f_n(x)-f_m(x)|<\epsilon$ for all $x\in A$.
    \end{enumerate}
    \begin{proof}
        % It follows by Theorem \ref{trm:15.7} that $(f_n(x))$ converges to $f(x)$ for all $x\in A$. Therefore, by Theorem \ref{trm:15.19}, for all $\epsilon>0$, there exists an $N\in\N$ such that $|f_n(x)-f_m(x)|<\epsilon$ for all $n,m\geq N$ for all $x\in A$, as desired

        Suppose first that there is some function $f$ to which $(f_n)$ converges uniformly on $A$. Let $\epsilon>0$ be arbitrary. By Definition \ref{dfn:17.3}, there exists $N\in\N$ such that if $n\geq N$, then $|f_n(x)-f(x)|<\frac{\epsilon}{2}$ for all $x\in A$. Choose this $N$ to be our $N$. Let $n,m$ be arbitrary natural numbers such that $n,m\geq N$. Then $|f_n(x)-f(x)|<\frac{\epsilon}{2}$ and $|f_m(x)-f(x)|<\frac{\epsilon}{2}$ for all $x\in A$. Therefore, we have that
        \begin{align*}
            |f_n(x)-f_m(x)| &\leq |f_n(x)-f(x)|+|f(x)-f_m(x)|\tag*{Lemma \ref{lem:8.8}}\\
            &= |f_n(x)-f(x)|+|f_m(x)-f(x)|\tag*{Exercise \ref{exr:8.5}}\\
            &< \frac{\epsilon}{2}+\frac{\epsilon}{2}\\
            &= \epsilon
        \end{align*}
        for all $x\in A$, as desired.\par\smallskip
        Now suppose that for all $\epsilon>0$, there exists an $N\in\N$ such that when $n,m\geq N$, $|f_n(x)-f_m(x)|<\epsilon$ for all $x\in A$. It follows by Theorem \ref{trm:15.19} that $(f_n(x))$ converges for all $x\in A$, i.e., for all $x\in A$, there exists a point $f(x)\in\R$ to which $(f_n(x))$ converges. Let $f:A\to\R$ be defined by $f(x)=\lim_{n\to\infty}f_n(x)$.\par
        To prove that $(f_n)$ converges uniformly to $f$, Definition \ref{dfn:17.3} tells us that it will suffice to show that for all $\epsilon>0$, there exists $N\in\N$ such that if $n\geq N$, then $|f_n(x)-f(x)|<\epsilon$ for all $x\in A$. Let $\epsilon>0$ be arbitrary. By the hypothesis, there exists $N\in\N$ such that for all $n,m\geq N$, $|f_n(x)-f_m(x)|<\frac{\epsilon}{2}$. Choose this $N$ to be our $N$. Let $n$ be an arbitrary natural number such that $n\geq N$, and let $x$ be an arbitrary element of $A$. Since $(f_m(x))$ converges to $f(x)$, Theorem \ref{trm:15.7} asserts that there exists an $N'\in\N$ such that for all $m\geq N'$, $|f_m(x)-f(x)|<\frac{\epsilon}{2}$. Choose $M=\max(N,N')$. It follows that
        \begin{align*}
            |f_n(x)-f(x)| &\leq |f_n(x)-f_M(x)|+|f_M(x)-f(x)|\tag*{Lemma \ref{lem:8.8}}\\
            &< \frac{\epsilon}{2}+\frac{\epsilon}{2}\\
            &= \epsilon
        \end{align*}
        as desired.
    \end{proof}
\end{theorem}

\begin{definition}\label{dfn:17.10}
    We define series of functions the same way we defined series of numbers. That is, given a sequence $(f_n)$, define the sequence of partial sums $(p_n)$ by $p_n(x)=f_1(x)+\cdots+f_n(x)$ and say that $\sum_{n=1}^\infty f_n$ converges pointwise or converges uniformly to $f$ if the sequence $(p_n)$ does.
\end{definition}

\begin{theorem}\label{trm:17.11}
    Suppose that $f_n:A\to\R$ is a sequence of functions and that there exists a sequence of positive real numbers $(M_n)$ such that for all $x\in A$, we have $|f_n(x)|\leq M_n$. If $\sum_{n=1}^\infty M_n$ converges, then for each $x\in A$, the series of numbers $\sum_{n=1}^\infty f_n(x)$ converges absolutely. Furthermore, $\sum_{n=1}^\infty f_n$ converges uniformly to the function $f$ defined by $f(x)=\sum_{n=1}^\infty f_n(x)$.
    \begin{proof}
        % \begin{itemize}
        %     % \item Theorem \ref{trm:16.5} ($\sum_{n=1}^\infty M_n$ converges): There exists $N\in\N$ such that $|\sum_{n=j+1}^kM_n|<\frac{\epsilon}{2}$ for all $k>j\geq N$.
        %     % \item Choose this $N$ to be our $N$.
        %     % \item Suppose (contradiction): $\sum_{n=j+1}^\infty M_n\geq\epsilon$.
        %     % \begin{itemize}
        %     %     \item Definition \ref{dfn:16.1}: $\sum_{n=j+1}^\infty M_n=\lim_{k\to\infty}\sum_{n=j+1}^kM_n$.
        %     %     \item Theorem \ref{trm:15.7}: There is some $N'\in\N$ such that for all $k\geq N'$, $|\sum_{n=j+1}^kM_n-\sum_{n=j+1}^\infty M_n|<\frac{\epsilon}{2}$.
        %     %     \item Definition \ref{dfn:16.1}: $|\sum_{n=N'+1}^\infty M_n|<\frac{\epsilon}{2}$.
        %     %     \item $M_n$ is a sequence of positive numbers: $\sum_{n=N'+1}^\infty M_n<\frac{\epsilon}{2}$.
        %     %     \begin{align*}
        %     %         \frac{\epsilon}{2} &= \epsilon-\frac{\epsilon}{2}\\
        %     %         &\leq \sum_{n=j+1}^\infty M_n-\frac{\epsilon}{2}\\
        %     %         &= \sum_{n=j+1}^{N'}M_n+\sum_{n=N'+1}^\infty M_n-\frac{\epsilon}{2}\\
        %     %         &< \sum_{n=j+1}^{N'}M_n+\frac{\epsilon}{2}-\frac{\epsilon}{2}\\
        %     %         &= \sum_{n=j+1}^{N'}M_n
        %     %     \end{align*}
        %     %     \item Contradiction.
        %     % \end{itemize}
        %     \item Definition \ref{dfn:16.1}: $\sum_{n=1}^\infty M_n=\lim_{k\to\infty}\sum_{n=1}^kM_n$.
        %     \item Theorem \ref{trm:15.7}: There is some $N\in\N$ such that for all $k\geq N$, $|\sum_{n=1}^kM_n-\sum_{n=1}^\infty M_n|<\epsilon$.
        %     \item Script \ref{sct:16}: $|\sum_{n=N+1}^\infty M_n|<\epsilon$.
        %     \item $M_n$ is a sequence of positive numbers: $\sum_{n=N+1}^\infty M_n=|\sum_{n=N+1}^\infty M_n|$.
        %     \item Now let $j$ be an arbitrary natural number such that $j\geq N$.
        %     \item Therefore:
        %     \begin{align*}
        %         \left| \sum_{n=1}^jf_n(x)-f(x) \right| &= \left| \sum_{n=1}^jf_n(x)-\sum_{n=1}^\infty f_n(x) \right|\\
        %         &= \left| \sum_{n=j+1}^\infty f_n(x) \right|\\
        %         &\leq \sum_{n=j+1}^\infty|f_n(x)|\tag*{Theorem \ref{trm:16.11}}\\
        %         &\leq \sum_{n=j+1}^\infty M_n\\
        %         &= \left| \sum_{n=j+1}^\infty M_n \right|\\
        %         &< \epsilon
        %     \end{align*}
        % \end{itemize}

        Let $x$ be an arbitrary element of $A$. To prove that $\sum_{n=1}^\infty f_n(x)$ converges absolutely, Definition \ref{dfn:16.9} tells us that it will suffice to show that $\sum_{n=1}^\infty|f_n(x)|$ converges. Since $(M_n)$ is a sequence of positive numbers and $|f_n(x)|\leq M_n$ for all $n\geq 1$, the proof of Theorem \ref{trm:16.13} asserts that $\sum_{n=1}^\infty|f_n(x)|$ converges.\par
        To prove that $\sum_{n=1}^\infty f_n$ converges uniformly to $f$, Definition \ref{dfn:17.10} tells us that it will suffice to show that the sequence of partial sums $(p_n)$ defined by $p_k(x)=\sum_{n=1}^kf_n(x)$ converges uniformly to $f$. To do this, Definition \ref{dfn:17.3} tells us that it will suffice to verify that for all $\epsilon>0$, there exists an $N\in\N$ such that if $j\geq N$, then $|\sum_{n=1}^jf_n(x)-f(x)|<\epsilon$ for all $x\in A$. Let $\epsilon>0$ be arbitrary. By Definition \ref{dfn:16.1}, $\sum_{n=1}^\infty M_n=\lim_{k\to\infty}\sum_{n=1}^kM_n$. Thus, by Theorem \ref{trm:15.7}, there is some $N\in\N$ such that for all $j\geq N$, $|\sum_{n=1}^jM_n-\sum_{n=1}^\infty M_n|<\epsilon$. Choose this $N$ to be our $N$. Let $j$ be an arbitrary natural number such that $j\geq N$. It follows by Script \ref{sct:16} that $|\sum_{n=j+1}^\infty M_n|<\epsilon$. Additionally, since $(M_n)$ is a sequence of positive numbers, $\sum_{n=j+1}^\infty M_n=|\sum_{n=j+1}^\infty M_n|$. Therefore, combining the last several results and letting $x$ be an arbitrary element of $A$, we have that
        \begin{align*}
            \left| \sum_{n=1}^jf_n(x)-f(x) \right| &= \left| \sum_{n=1}^jf_n(x)-\sum_{n=1}^\infty f_n(x) \right|\\
            &= \left| \sum_{n=j+1}^\infty f_n(x) \right|\\
            &\leq \sum_{n=j+1}^\infty|f_n(x)|\tag*{Theorem \ref{trm:16.11}}\\
            &\leq \sum_{n=j+1}^\infty M_n\\
            &= \left| \sum_{n=j+1}^\infty M_n \right|\\
            &< \epsilon
        \end{align*}
        as desired.
    \end{proof}
\end{theorem}




\end{document}