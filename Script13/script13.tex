\documentclass[../main.tex]{subfiles}

\pagestyle{main}
\renewcommand{\chaptermark}[1]{\markboth{\chaptername\ \thechapter}{}}
\setcounter{chapter}{12}

\begin{document}




\chapter{Uniform Continuity and Integration}\label{sct:13}
\section{Journal}
\begin{definition}\label{dfn:13.1}\marginnote{4/8:}
    Let $f:A\to\R$ be a function. We say that $f$ is \textbf{uniformly continuous} if for all $\epsilon>0$, there exists a $\delta>0$ such that for all $x,y\in A$, if $|y-x|<\delta$, then $|f(y)-f(x)|<\epsilon$.
\end{definition}

\begin{theorem}\label{trm:13.2}
    If $f$ is uniformly continuous, then $f$ is continuous.
    \begin{proof}
        To prove that $f$ is continuous, Theorem \ref{trm:9.10} tells us that it will suffice to show that $f$ is continuous at every $x\in A$. Let $x$ be an arbitrary element of $A$. To show that $f$ is continuous at $x$, Theorem \ref{trm:11.5} tells us that it will suffice to verify that for every $\epsilon>0$, there exists a $\delta>0$ such that if $y\in A$ and $|y-x|<\delta$, then $|f(y)-f(x)|<\epsilon$. Let $\epsilon>0$ be arbitrary. Then since $f$ is uniformly continuous by hypothesis, Definition \ref{dfn:13.1} asserts that there exists a $\delta>0$ such that for all $y\in A$ satisfying $|y-x|<\delta$, we have $|f(y)-f(x)|<\epsilon$, as desired.
    \end{proof}
\end{theorem}

\begin{exercise}\label{exr:13.3}
    Determine with proof whether each function $f$ is uniformly continuous on the given interval $A$.
    \begin{enumerate}[label={(\alph*)}]
        \item $f(x)=x^2$ on $A=\R$.
        \begin{proof}
            % \begin{itemize}
            %     \item Suppose (contradiction): $f$ is uniformly continuous on $\R$.
            %     \item Let $\epsilon=2>0$.
            %     \item Definition \ref{dfn:13.1}: There exists a $\delta>0$ such that for all $x,y\in\R$, if $|y-x|<\delta$, then $|y^2-x^2|<\epsilon$.
            %     \item Let $x=0$.
            %     \item Theorem \ref{trm:5.2}: There exists a point $y\in\R$ such that $0<y<\delta$.
            %     \item Lemma \ref{lem:7.23}: $-\delta<0$.
            %     \item Definitions \ref{dfn:3.6} and \ref{dfn:3.10}: $y\in(-\delta,\delta)$.
            %     \item Exercise \ref{exr:8.9}: $|y|<\delta$.
            %     \item Script \ref{sct:7}: $|(y+n)-n|<\delta$.
            %     \item $|(y+n)^2-n^2|<2$.
            %     \item Script \ref{sct:7}: $|y^2+2ny|<2$.
            %     \item Choose $n=\frac{1}{y}$.
            %     \item Script \ref{sct:7}: $|y^2+2|<2$.
            %     \item Lemma \ref{lem:7.26}: $y^2>0$.
            %     \item Definition \ref{dfn:7.21}: $y^2+2>2$.
            %     \item Definition \ref{dfn:8.4}: $|y^2+2|>2$.
            %     \item Contradiction.
            % \end{itemize}

            To prove that $f$ is not uniformly continuous on $\R$, Definition \ref{dfn:13.1} tells us that it will suffice to find an $\epsilon>0$ for which no $\delta>0$ exists such that for all $x,y\in\R$, if $|y-x|<\delta$, then $|y^2-x^2|<\epsilon$. Let $\epsilon=2$, and suppose for the sake of contradiction that $\delta>0$ is a number such that for all $x,y\in\R$, if $|y-x|<\delta$, then $|y^2-x^2|<2$. By Theorem \ref{trm:5.2}, there exists a number $y$ such that $0<y<\delta$. Since $-\delta<0<y<\delta$ by Lemma \ref{lem:7.23}, it follows by Definitions \ref{dfn:3.6} and \ref{dfn:3.10} that $y\in(-\delta,\delta)$. Thus, by Exercise \ref{exr:8.9}, $|y-0|=|y|<\delta$. Consequently, $|(y+n)-n|<\delta$. It follows by the above that $|(y+n)^2-n^2|=|y^2+2yn|<2$. If we now let $n=\frac{1}{y}$, then $|y^2+2|<2$. But since $y>0$, we have that $y^2>0$ by Lemma \ref{lem:7.26}. It follows that $y^2+2>2$ by Definition \ref{dfn:7.21}. Therefore, by Definition \ref{dfn:8.4}, we can also show that $|y^2+2|>2$, a contradiction.
        \end{proof}
        \item $f(x)=x^2$ on $A=(-2,2)$.
        \begin{proof}
            To prove that $f$ is uniformly continuous on $A$, Definition \ref{dfn:13.1} tells us that it will suffice to show that for all $\epsilon>0$, there exists a $\delta>0$ such that for all $x,y\in A$, if $|y-x|<\delta$, then $|f(y)-f(x)|<\epsilon$. Let $\epsilon>0$ be arbitrary. Choose $\delta=\frac{\epsilon}{4}$, and let $x,y$ be arbitrary elements of $A$ that satisfy $|y-x|<\delta$. Since $x,y\in A$, consecutive applications of Equations \ref{eqn:8.1} and the lemma from Exercise \ref{exr:8.9} imply that $|x|<2$ and $|y|<2$. It follows that $|x|+|y|<2+2=4$. Consequently, by Lemma \ref{lem:8.8}, $|x+y|<4$. Additionally, since $0\leq|y+x|$ by Definition \ref{dfn:8.4}, we have $|x-y|\cdot|x+y|\leq\frac{\epsilon}{4}\cdot|x+y|$. Combining all of the above results, we have that
            \begin{align*}
                |f(y)-f(x)| &= |y^2-x^2|\\
                &= |y+x|\cdot|y-x|\\
                &< 4\cdot|y-x|\\
                &\leq 4\cdot\frac{\epsilon}{4}\\
                &= \epsilon
            \end{align*}
            as desired.
        \end{proof}
        \item $f(x)=\frac{1}{x}$ on $A=(0,+\infty)$.
        \begin{proof}
            To prove that $f$ is not uniformly continuous on $A$, Definition \ref{dfn:13.1} tells us that it will suffice to find an $\epsilon>0$ for which no $\delta>0$ exists such that for all $x,y\in A$, if $|y-x|<\delta$, then $|\frac{1}{y}-\frac{1}{x}|<\epsilon$. Let $\epsilon=1$, and suppose for the sake of contradiction that $\delta>0$ is a number such that for all $x,y\in A$, if $|y-x|<\delta$, then $|\frac{1}{y}-\frac{1}{x}|<1$. As in part (a), choose $0<x<\min(\delta,\frac{1}{2})$. Consequently, $|(x+x)-x|<\delta$. It follows by the above that $|\frac{1}{2x}-\frac{1}{x}|<1$. But this implies that $|\frac{x-2x}{2x^2}|=|\frac{-1}{2x}|=\frac{1}{2x}<1$. However, $x<\frac{1}{2}$ implies that $1<\frac{1}{2x}$, a contradiction.
        \end{proof}
        \item $f(x)=\frac{1}{x}$ on $A=[1,+\infty)$.
        \begin{proof}
            To prove that $f$ is uniformly continuous on $A$, Definition \ref{dfn:13.1} tells us that it will suffice to show that for all $\epsilon>0$, there exists a $\delta>0$ such that for all $x,y\in A$, if $|y-x|<\delta$, then $|f(y)-f(x)|<\epsilon$. Let $\epsilon>0$ be arbitrary. Choose $\delta=\epsilon$, and let $x,y$ be arbitrary elements of $A$ that satisfy $|y-x|<\delta$. Since $x,y\in A$, consecutive applications of Equations \ref{eqn:8.1} imply that $1\leq x$ and $1\leq y$. It follows by Script \ref{sct:7} that $1\leq|xy|$. This combined with the fact that $|y-x|<\delta=\epsilon$ implies that
            \begin{align*}
                |f(y)-f(x)| &= \left| \frac{1}{y}-\frac{1}{x} \right|\\
                &= \left| \frac{x-y}{yx} \right|\\
                &= \frac{|y-x|}{|xy|}\\
                &< \frac{\epsilon}{|xy|}\\
                &\leq \frac{\epsilon}{1}\\
                &= \epsilon
            \end{align*}
            as desired.
        \end{proof}
        \item $f(x)=\sqrt{x}$ on $A=[1,+\infty)$.
        \begin{proof}
            To prove that $f$ is uniformly continuous on $A$, Definition \ref{dfn:13.1} tells us that it will suffice to show that for all $\epsilon>0$, there exists a $\delta>0$ such that for all $x,y\in A$, if $|y-x|<\delta$, then $|f(y)-f(x)|<\epsilon$. Let $\epsilon>0$ be arbitrary. Choose $\delta=\epsilon$, and let $x,y$ be arbitrary elements of $A$ that satisfy $|y-x|<\delta$. Since $x,y\in A$, consecutive applications of Equations \ref{eqn:8.1} imply that $1\leq x$ and $1\leq y$. It follows by Script \ref{sct:7} that $1\leq\sqrt{x}$ and $1\leq\sqrt{y}$. Thus, by Script \ref{sct:7} again, $2\leq|\sqrt{y}+\sqrt{x}|$. Note that it follows that $1<|\sqrt{y}+\sqrt{x}|$. This combined with the fact that $|y-x|<\delta=\epsilon$ implies that
            \begin{align*}
                |f(y)-f(x)| &= |\sqrt{y}-\sqrt{x}|\\
                &< |\sqrt{y}-\sqrt{x}|\cdot|\sqrt{y}+\sqrt{x}|\\
                &= |y-x|\\
                &= \epsilon
            \end{align*}
            as desired.
        \end{proof}
    \end{enumerate}
\end{exercise}

\begin{exercise}\label{exr:13.4}
    Let $f:\R\to\R$ be defined by $f(x)=x^n$ for $n\in\N$. Show that $f$ is uniformly continuous if and only if $n=1$.
    \begin{proof}
        % \begin{itemize}
        %     \item Suppose (contradiction): $f$ is uniformly continuous.
        %     \item Let $\epsilon=1>0$.
        %     \item Definition \ref{dfn:13.1}: There exists a $\delta>0$ such that for all $x,y\in\R$, if $|y-x|<\delta$, then $|y^n-x^n|<\epsilon$.
        %     \item Let $x=0$.
        %     \item Theorem \ref{trm:5.2}: There exists a point $y\in\R$ such that $0<y<\delta$.
        %     \item Lemma \ref{lem:7.23}: $-\delta<0$.
        %     \item Definitions \ref{dfn:3.6} and \ref{dfn:3.10}: $y\in(-\delta,\delta)$.
        %     \item Exercise \ref{exr:8.9}: $|y|<\delta$.
        %     \item Script \ref{sct:7}: $|(y+a)-a|<\delta$.
        %     \item $|(y+a)^n-a^n|<1$.
        %     \item Additional Exercise \ref{axr:0.7}: $|\sum_{k=0}^n\binom{n}{k}y^{n-k}a^k-a^n|=|y^n+ny^{n-1}a+\sum_{k=2}^{n-1}\binom{n}{k}y^{n-k}a^k|<1$.
        %     \item Choose $a=\frac{1}{ny^{n-1}}$.
        %     \item Script \ref{sct:7}: $|y^n+1+\sum_{k=2}^{n-1}y^{n-k}a^k|<1$.
        %     \item Exercise \ref{exr:12.22}: $y^n>0$.
        %     \item Script \ref{sct:7}: $y^n+1>0$
        %     \item Script \ref{sct:7}: $\sum_{k=2}^{n-1}y^{n-k}a^k>0$ since $a,y>0$.
        %     \item Scripts \ref{sct:7} and \ref{sct:8}: $|y^n+1|<|y^n+1+\sum_{k=2}^{n-1}y^{n-k}a^k|<1$.
        %     \item Definition \ref{dfn:7.21}: $y^n+1>1$.
        %     \item Definition \ref{dfn:8.4}: $|y^n+1|>1$.
        %     \item Contradiction.
        % \end{itemize}

        Suppose first that $n=1$. To prove that $f$ is uniformly continuous, Definition \ref{dfn:13.1} tells us that it will suffice to show that for all $\epsilon>0$, there exists a $\delta>0$ such that for all $x,y\in\R$, if $|y-x|<\delta$, then $|f(y)-f(x)|<\epsilon$. Let $\epsilon>0$ be arbitrary. Choose $\delta=\epsilon$. Now let $x,y$ be arbitrary elements of $\R$ that satisfy $|y-x|<\delta$. Then by the definition of $f$, $|f(y)-f(x)|=|y-x|<\delta=\epsilon$, as desired.\par
        Now suppose that $n>1$. Additionally, suppose for the sake of contradiction that $f$ is uniformly continuous. Let $\epsilon=1>0$. Then by Definition \ref{dfn:13.1}, there exists a $\delta>0$ such that for all $x,y\in\R$, if $|y-x|<\delta$, then $|y^n-x^n|<1$. Let $x=0\in\R$. By Theorem \ref{trm:5.2}, there exists a point $y\in\R$ such that $0<y<\delta$. Additionally, since $\delta>0$, Lemma \ref{lem:7.23} asserts that $-\delta<0$. This combined with the previous result demonstrates by transitivity that $-\delta<0<y<\delta$, so by the lemma from Exercise \ref{exr:8.9}, we have that $|y|<\delta$. Consequently, by Script \ref{sct:7}, we know that $|(y+a)-a|<\delta$ for any $a\in\R$. It follows by the above that $|(y+a)^n-a^n|<1$. Thus, by Additional Exercise \ref{axr:0.7}, $|\sum_{k=0}^n\binom{n}{k}y^{n-k}a^k-a^n|=|y^n+ny^{n-1}a+\sum_{k=2}^{n-1}\binom{n}{k}y^{n-k}a^k|<1$. If we now choose $a=\frac{1}{ny^{n-1}}$, Script \ref{sct:7} reduces the above to $|y^n+1+\sum_{k=2}^{n-1}y^{n-k}a^k|<1$. We now seek to reduce the previous statement further to $|y^n+1|<1$. To begin, Exercise \ref{exr:12.22} implies that $y^n>0$ since $y>0$ and $0^n=0$, meaning by Script \ref{sct:7} that $y^n+1>0$. Additionally, Script \ref{sct:7} asserts that $\sum_{k=2}^{n-1}y^{n-k}a^k>0$ since $a>0$ and $y>0$. This combined with the previous result implies by Scripts \ref{sct:7} and \ref{sct:8} that $|y^n+1|<|y^n+1+\sum_{k=2}^{n-1}y^{n-k}a^k|<1$, as desired. However, since $y^n>0$, Definition \ref{dfn:7.21} asserts that $y^n+1>1$. But by Definition \ref{dfn:8.4}, this implies that $|y^n+1|>1$, a contradiction.
    \end{proof}\par\medskip
    % \textbf{Challenge}: Let $p:\R\to\R$ be a polynomial with real coefficients. Show that $p$ is uniformly continuous on $\R$ if and only if $\deg(p)\leq 1$.
    % \begin{lemma*}
    %     Let $f$ be such that it is not uniformly continuous on $A\subset\R$, and let $g$ be uniformly continuous on $A\subset\R$. It follows that
    %     \begin{enumerate}[label={\textup{(}\alph*\textup{)}}]
    %         \item The function $f+g$ is not uniformly continuous on $A$.
    %         \begin{proof}
    %             % \begin{itemize}
    %             %     \item WTS: There exists $\epsilon>0$ such that for all $\delta>0$, there exist $x,y\in A$ with $|y-x|<\delta$ such that $|(f+g)(y)-(f+g)(x)|\geq\epsilon$.
    %             %     \item Definition \ref{dfn:13.1}: There exists a number $2\epsilon>0$ such that for all $\delta_1>0$, there exist $x,y\in A$ with $|y-x|<\delta_1$ such that $|f(y)-f(x)|\geq 2\epsilon$.
    %             %     \item Pick $\epsilon$ to be our $\epsilon$, and let $\delta>0$ be arbitrary.
    %             %     \item The above: There exist $a,b\in A$ with $|b-a|<\delta$ such that $|f(b)-f(a)|\geq 2\epsilon$.
    %             %     \item Definition \ref{dfn:13.1}: There exists a $\delta_2>0$ such that for all $x,y\in A$, if $|y-x|<\delta_2$, then $|g(y)-g(x)|<\epsilon$.
    %             %     \item Divide into two cases ($\delta\leq\delta_2$ and $\delta>\delta_2$):
    %             %     \item If $\delta\leq\delta_2$:
    %             %     \begin{itemize}
    %             %         \item Transitivity: $|b-a|<\delta_2$.
    %             %         \item The above: $|g(b)-g(a)|<\epsilon$.
    %             %         \item Scripts \ref{sct:7} and \ref{sct:8}: $|f(b)-f(a)+g(b)-g(a)|\geq\epsilon$.
    %             %         \item Therefore: $|(f+g)(b)-(f+g)(a)|\geq\epsilon$.
    %             %     \end{itemize}
    %             %     \item If $\delta>\delta_2$:
    %             %     \begin{itemize}
    %             %         \item The above: There exist $c,d\in A$ with $|d-c|<\delta_2$ such that $|f(d)-f(c)|\geq 2\epsilon$.
    %             %         \item The above: $|g(d)-g(c)|<\epsilon$.
    %             %         \item Transitivity: $|d-c|<\delta$.
    %             %         \item Scripts \ref{sct:7} and \ref{sct:8}: $|f(d)-g(c)+f(d)-f(c)|\geq\epsilon$.
    %             %         \item Therefore: $|(f+g)(d)-(f+g)(c)|\geq\epsilon$.
    %             %     \end{itemize}
    %             % \end{itemize}
                
    %             % It follows from the above that there exist $a,b\in A$ with $|b-a|<\delta$ such that $|f(b)-f(a)|\geq 2\epsilon$. Additionally, since $g$ is uniformly continuous, we have by Definition \ref{dfn:13.1} that there exists a $\delta_2>0$ such that for all $x,y\in A$, if $|y-x|<\delta_2$, then $|g(y)-g(x)|<\epsilon$. We now divide into two cases ($\delta\leq\delta_2$ and $\delta>\delta_2$). If $\delta\leq\delta_2$, then since $|b-a|<\delta$, transitivity implies that $|b-a|<\delta_2$. It follows by the above that $|g(b)-g(a)|<\epsilon$. This combined with the fact that $|f(b)-f(a)|\geq 2\epsilon$ implies by Scripts \ref{sct:7} and \ref{sct:8} that $|f(b)-f(a)+g(b)-g(a)|\geq\epsilon$. Therefore, $|(f+g)(b)-(f+g)(a)|\geq\epsilon$, as desired. On the other hand, suppose $\delta>\delta_2$. We know by the above that there exist $c,d\in A$ with $|d-c|<\delta_2$ such that $|f(d)-f(c)|\geq 2\epsilon$. Additionally, we know that $|g(d)-g(c)|<\epsilon$. It follows from the previous two results as before that $|(f+g)(d)-(f+g)(c)|\geq\epsilon$, and since transitivity implies that $|d-c|<\delta_2<\delta$, we have proven the claim in this other case, too.

    %             To prove that $f+g$ is not uniformly continuous on $A$, the contrapositive of Definition \ref{dfn:13.1} tells us that it will suffice to find an $\epsilon>0$ such that for all $\delta>0$, there exist $x,y\in A$ with $|y-x|<\delta$ such that $|(f+g)(y)-(f+g)(x)|\geq\epsilon$. Since $f$ is not uniformly continuous, Definition \ref{dfn:13.1} tells us that there exists a number $2\epsilon>0$ such that for all $\delta_1>0$, there exist $x,y\in A$ with $|y-x|<\delta_1$ such that $|f(y)-f(x)|\geq 2\epsilon$. Choose $\frac{2\epsilon}{2}=\epsilon$ be our $\epsilon$. Let $\delta>0$ be arbitrary. Since $g$ is uniformly continuous, we have by Definition \ref{dfn:13.1} that there exists a $\delta_2>0$ such that for all $x,y\in A$, if $|y-x|<\delta_2$, then $|g(y)-g(x)|<\epsilon$. We now divide into two cases ($\delta\leq\delta_2$ and $\delta>\delta_2$). Suppose $\delta\leq\delta_2$. We know by the above that there exist $a,b\in A$ with $|b-a|<\delta$ such that $|f(b)-f(a)|\geq 2\epsilon$. Additionally, since $|b-a|<\delta$, transitivity implies that $|b-a|<\delta_2$. It follows by the above that $|g(b)-g(a)|<\epsilon$. This combined with the fact that $|f(b)-f(a)|\geq 2\epsilon$ implies by Scripts \ref{sct:7} and \ref{sct:8} that $|f(b)-f(a)+g(b)-g(a)|\geq\epsilon$. Therefore, $|(f+g)(b)-(f+g)(a)|\geq\epsilon$, as desired. On the other hand, suppose $\delta>\delta_2$. We know by the above that there exist $c,d\in A$ with $|d-c|<\delta_2$ such that $|f(d)-f(c)|\geq 2\epsilon$. Additionally, we know that $|g(d)-g(c)|<\epsilon$. It follows from the previous two results as before that $|(f+g)(d)-(f+g)(c)|\geq\epsilon$, and since transitivity implies that $|d-c|<\delta_2<\delta$, we have proven the claim in this case, too.
    %         \end{proof}
    %         \item For any constant $c\in\R$ such that $c\neq 0$, the function $c\cdot f$ is not uniformly continuous on $A$.
    %         \begin{proof}
    %             To prove that $c\cdot f$ is not uniformly continuous on $A$, the contrapositive of Definition \ref{dfn:13.1} tells us that it will suffice to find an $\epsilon>0$ such that for all $\delta>0$, there exist $x,y\in A$ with $|y-x|<\delta$ such that $|c\cdot f(y)-c\cdot f(x)|\geq\epsilon$. Since $f$ is not uniformly continuous, Definition \ref{dfn:13.1} tells us that there exists a number $\frac{\epsilon}{|c|}>0$ such that for all $\delta_1>0$, there exist $x,y\in A$ with $|y-x|<\delta_1$ such that $|f(y)-f(x)|\geq\frac{\epsilon}{|c|}$. Choose $|c|\cdot\frac{\epsilon}{|c|}=\epsilon$ to be our $\epsilon$. Let $\delta>0$ be arbitrary. We know by the above that there exist $a,b\in A$ with $|b-a|<\delta$ such that $|f(b)-f(a)|\geq\frac{\epsilon}{|c|}$. Therefore,
    %             \begin{align*}
    %                 |c|\cdot|f(b)-f(a)| &\geq \epsilon\\
    %                 |c\cdot f(b)-c\cdot f(a)| &\geq \epsilon
    %             \end{align*}
    %             as desired.
    %         \end{proof}
    %     \end{enumerate}
    % \end{lemma*}
    % \begin{proof}[Proof of Challenge]
    %     Suppose first that $\deg(p)\leq 1$. Then by Definition \ref{dfn:11.11}, $p(x)=ax+b$ where $a,b\in\R$. To prove that $p$ is uniformly continuous, Definition \ref{dfn:13.1} tells us that it will suffice to show that for all $\epsilon>0$, there exists a $\delta>0$ such that for all $x,y\in\R$, if $|y-x|<\delta$, then $|f(y)-f(x)|<\epsilon$. Let $\epsilon>0$ be arbitrary. We divide into two cases ($a=0$ and $a\neq 0$). If $a=0$, then choose $\delta=1$. Now let $x,y$ be arbitrary elements of $\R$ that satisfy $|y-x|<1$. Then by the definition of $f$, we have
    %     \begin{align*}
    %         |f(y)-f(x)| &= |0\cdot y+b-(0\cdot x+b)|\\
    %         &= |b-b|\\
    %         &= 0\\
    %         &< \epsilon
    %     \end{align*}
    %     as desired. If $a\neq 0$, then choose $\delta=\frac{\epsilon}{|a|}$. Now let $x,y$ be arbitrary elements of $\R$ that satisfy $|y-x|<\frac{\epsilon}{|a|}$. Then by the definition of $f$, we have
    %     \begin{align*}
    %         |f(y)-f(x)| &= |ay+b-(ax+b)|\\
    %         &= |ay-ax|\\
    %         &= |a|\cdot|y-x|\\
    %         &< |a|\cdot\frac{\epsilon}{|a|}\\
    %         &= \epsilon
    %     \end{align*}
    %     as desired.\par
    %     Now suppose that $\deg(p)>1$. Thus, by Definition \ref{dfn:11.11}, $p$ contains at least one term of the form $a_nx^n$ where $n>2$ and $a_n\neq 0$. Since $x^n$ is not uniformly continuous by Exercise \ref{exr:13.4} and $a_n\neq 0$, Lemma (b) implies that $a_nx^n$ is not uniformly continuous. It follows by Lemma (a) that $p$, as the sum of some uniformly continuous terms (at least 0) and some not uniformly continuous terms (at least $a_nx^n$), is not uniformly continuous.

    %     % This proof is not actually accurate. Maybe just prove that $a_{n+1}x^{n+1}+a_nx^n$ is not uniformly continuous for $n\geq 1$ and induct?
    % \end{proof}
\end{exercise}

\begin{exercise}\label{exr:13.5}
    Let $f$ and $g$ be uniformly continuous on $A\subset\R$. Show that
    \begin{enumerate}[label={(\alph*)}]
        \item The function $f+g$ is uniformly continuous on $A$.
        \item For any constant $c\in\R$, the function $c\cdot f$ is uniformly continuous on $A$.
    \end{enumerate}
    \begin{proof}[Proof of a]
        To prove that $f+g$ is uniformly continuous on $A$, Definition \ref{dfn:13.1} tells us that it will suffice to show that for all $\epsilon>0$, there exists a $\delta>0$ such that for all $x,y\in A$, if $|y-x|<\delta$, then $|(f+g)(y)-(f+g)(x)|<\epsilon$. Let $\epsilon>0$ be arbitrary. Since $f,g$ are uniformly continuous on $A$, consecutive applications of Definition \ref{dfn:13.1} reveal that there exist $\delta_1,\delta_2>0$ such that for all $x,y\in A$, $|y-x|<\delta_1$ implies $|f(y)-f(x)|<\frac{\epsilon}{2}$ and $|y-x|<\delta_2$ implies $|g(y)-f(x)|<\frac{\epsilon}{2}$. Choose $\delta=\min(\delta_1,\delta_2)$. Let $x,y$ be arbitrary elements of $A$ that satisfy $|y-x|<\delta$. It follows that $|y-x|<\delta_1$ (so $|f(y)-f(x)|<\frac{\epsilon}{2}$), and that $|y-x|<\delta_2$ (so $|g(y)-g(x)|<\frac{\epsilon}{2}$). These two results when combined imply by Script \ref{sct:7} that $|f(y)-f(x)|+|g(y)-g(x)|<\frac{\epsilon}{2}+\frac{\epsilon}{2}$. Therefore, since $|f(y)-f(x)+g(y)-g(x)|\leq|f(y)-f(x)|+|g(y)-g(x)|$ by Lemma \ref{lem:8.8}, we have that
        \begin{align*}
            |(f+g)(y)-(f+g)(x)| &= |f(y)-f(x)+g(y)-g(x)|\\
            &\leq |f(y)-f(x)|+|g(y)-g(x)|\\
            &< \frac{\epsilon}{2}+\frac{\epsilon}{2}\\
            &= \epsilon
        \end{align*}
        as desired.
    \end{proof}
    \begin{proof}[Proof of b]
        To prove that $c\cdot f$ is uniformly continuous on $A$, Definition \ref{dfn:13.1} tells us that it will suffice to show that for all $\epsilon>0$, there exists a $\delta>0$ such that for all $x,y\in A$, if $|y-x|<\delta$, then $|c\cdot f(y)-c\cdot f(x)|<\epsilon$. Let $\epsilon>0$ be arbitrary. We divide into two cases ($c=0$ and $c\neq 0$). Suppose first that $c=0$. Choose $\delta=1$. Let $x,y$ be arbitrary elements of $A$ that satisfy $|y-x|<\delta$. It follows that $|0\cdot f(y)-0\cdot f(x)|=0<\epsilon$, as desired. Now suppose that $c\neq 0$. Then since $f$ is uniformly continuous on $A$, Definition \ref{dfn:13.1} tells us that there exists a $\delta>0$ such that for all $x,y\in A$, if $|y-x|<\delta$, then $|f(y)-f(x)|<\frac{\epsilon}{|c|}$. Choose this $\delta$ to be our $\delta$. Let $x,y$ be arbitrary elements of $A$ that satisfy $|y-x|<\delta$. Then by the above, we have that $|f(y)-f(x)|<\frac{\epsilon}{|c|}$. Therefore, $|c|\cdot|f(y)-f(x)|<\epsilon$, so we have that $|c\cdot f(y)-c\cdot f(x)|<\epsilon$, as desired.
    \end{proof}
\end{exercise}

\begin{theorem}\label{trm:13.6}\marginnote{\emph{4/13:}}
    Suppose that $X\subset\R$ is compact and $f:X\to\R$ is continuous. Then $f$ is uniformly continuous.
    \begin{proof}
        % \begin{itemize}
        %     \item Theorem \ref{trm:9.10}: $f$ is continuous at every $x\in X$.
        %     \item Theorem \ref{trm:11.5}: For every $x\in X$, there exists a $\delta_x>0$ such that if $y\in X$ and $|y-x|<\delta_x$, then $|f(y)-f(x)|<\frac{\epsilon}{2}$.
        %     \item Let $\mathcal{G}=\{(x-\frac{\delta_x}{2},x+\frac{\delta_x}{2})\mid x\in X\}$.
        %     \item (Confirm $\mathcal{G}$ is an open cover of $X$) Definition \ref{dfn:10.3}: Demonstrate that every $x\in X$ is an element of $(x-\frac{\delta_x}{2},x+\frac{\delta_x}{2})$ for some $(x-\frac{\delta_x}{2},x+\frac{\delta_x}{2})\in\mathcal{G}$.
        %     \begin{itemize}
        %         \item Let $x$ be an arbitrary element of $X$.
        %         \item Exercise \ref{exr:8.9}: $|x-x|=0<\frac{\delta_x}{2} \Rightarrow x\in(x-\frac{\delta_x}{2},x+\frac{\delta_x}{2})$.
        %         \item The above: $(x-\frac{\delta_x}{2},x+\frac{\delta_x}{2})\in\mathcal{G}$.
        %         \item We are done.
        %     \end{itemize}
        %     \item Definition \ref{dfn:10.4}: There exists a finite subset $\mathcal{G}'$ of $\mathcal{G}$ that is also an open cover of $X$.
        %     \item $\mathcal{G}'$ will be of the form $\{(x_i-\frac{\delta_{x_i}}{2},x+\frac{\delta_{x_i}}{2})\mid 1\leq i\leq n\}$.
        %     \item Choose $\delta=\min_{1\leq i\leq n}(\frac{\delta_{x_i}}{2})$.
        %     \item Let $x,y$ be arbitrary elements of $X$ that satisfy $|y-x|<\delta$.
        %     \item Definition \ref{dfn:10.3}: $x\in(x_i-\frac{\delta_{x_i}}{2},x_i+\frac{\delta_{x_i}}{2})$ for some $(x_i-\frac{\delta_{x_i}}{2},x_i+\frac{\delta_{x_i}}{2})\in\mathcal{G}'$.
        %     \item Exercise \ref{exr:8.9}: $|x-x_i|<\frac{\delta_{x_i}}{2}$.
        %     \item Script \ref{sct:7}: $|y-x|+|x-x_i|<\delta+\frac{\delta_{x_i}}{2}$.
        %     \item By definition: $\delta\leq\frac{\delta_{x_i}}{2}$.
        %     \item Combining the last few results:
        %     \begin{align*}
        %         |y-x_i| &\leq |y-x|+|x-x_i|\tag*{Lemma \ref{lem:8.8}}\\
        %         &< \delta+\frac{\delta_{x_i}}{2}\\
        %         &\leq \frac{\delta_{x_i}}{2}+\frac{\delta_{x_i}}{2}\\
        %         &= \delta_{x_i}
        %     \end{align*}
        %     \item The above: $|f(y)-f(x_i)|<\frac{\epsilon}{2}$.
        %     \item Additionally: $|x-x_i|<\frac{\delta_{x_i}}{2}<\delta_{x_i}$.
        %     \item The above: $|f(x)-f(x_i)|<\frac{\epsilon}{2}$.
        %     \item Script \ref{sct:7}: $|f(y)-f(x_i)|+|f(x)-f(x_i)|<\frac{\epsilon}{2}+\frac{\epsilon}{2}$.
        %     \item Combining the last few results:
        %     \begin{align*}
        %         |f(y)-f(x)| &\leq |f(y)-f(x_i)|+|f(x_i)-f(x)|\tag*{Lemma \ref{lem:8.8}}\\
        %         &= |f(y)-f(x_i)|+|f(x)-f(x_i)|\tag*{Exercise \ref{exr:8.5}}\\
        %         &< \frac{\epsilon}{2}+\frac{\epsilon}{2}\\
        %         &= \epsilon
        %     \end{align*}
        % \end{itemize}

        To prove that $f$ is uniformly continuous, Definition \ref{dfn:13.1} tells us that it will suffice to show that for all $\epsilon>0$, there exists a $\delta>0$ such that for all $x,y\in A$, if $|y-x|<\delta$, then $|f(y)-f(x)|<\epsilon$. Let $\epsilon>0$ be arbitrary. Since $f$ is continuous on $X$, Theorem \ref{trm:9.10} asserts that $f$ is continuous at every $x\in X$. Thus, by Theorem \ref{trm:11.5}, for every $x\in X$, there exists a $\delta_x>0$ such that if $y\in X$ and $|y-x|<\delta_x$, then $|f(y)-f(x)|<\frac{\epsilon}{2}$. Let $\mathcal{G}=\{(x-\frac{\delta_x}{2},x+\frac{\delta_x}{2})\mid x\in X\}$. We will now confirm that $\mathcal{G}$ is an open cover of $X$. To do so, Definition \ref{dfn:10.3} tells us that it will suffice to demonstrate that every $x\in X$ is an element of $(x-\frac{\delta_x}{2},x+\frac{\delta_x}{2})$ for some $(x-\frac{\delta_x}{2},x+\frac{\delta_x}{2})\in\mathcal{G}$. Let $x$ be an arbitrary element of $X$. We know that $|x-x|=0<\frac{\delta_x}{2}$. Thus, by Exercise \ref{exr:8.9}, we have that $x\in(x-\frac{\delta_x}{2},x+\frac{\delta_x}{2})$. Since it follows from the above that $(x-\frac{\delta_x}{2},x+\frac{\delta_x}{2})\in\mathcal{G}$, we are done.\par
        Having shown that $\mathcal{G}$ is an open cover of $X$, the fact that $X$ is compact implies by Definition \ref{dfn:10.4} that there exists a finite subset $\mathcal{G}'$ of $\mathcal{G}$ that is also an open cover of $X$. It follows that $\mathcal{G}'$ will be of the form $\{(x_i-\frac{\delta_{x_i}}{2},x+\frac{\delta_{x_i}}{2})\mid 1\leq i\leq n\}$ where $n$ is some natural number. Thus, choose $\delta=\min_{1\leq i\leq n}(\frac{\delta_{x_i}}{2})$.\par
        Let $x,y$ be arbitrary elements of $X$ that satisfy $|y-x|<\delta$. Since $\mathcal{G}'$ is an open cover of $X$, Definition \ref{dfn:10.3} implies that $x\in(x_i-\frac{\delta_{x_i}}{2},x_i+\frac{\delta_{x_i}}{2})$ for some $(x_i-\frac{\delta_{x_i}}{2},x_i+\frac{\delta_{x_i}}{2})\in\mathcal{G}'$. Considering this $x_i$ more closely, we can determine from the previous result and Exercise \ref{exr:8.9} that $|x-x_i|<\frac{\delta_{x_i}}{2}$. This combined with the hypothesis that $|y-x|<\delta$ implies by Script \ref{sct:7} that $|y-x|+|x-x_i|<\delta+\frac{\delta_{x_i}}{2}$. Additionally, note that by definition, $\delta\leq\frac{\delta_{x_i}}{2}$. Thus, combining the last few results, we have that
        \begin{align*}
            |y-x_i| &\leq |y-x|+|x-x_i|\tag*{Lemma \ref{lem:8.8}}\\
            &< \delta+\frac{\delta_{x_i}}{2}\\
            &\leq \frac{\delta_{x_i}}{2}+\frac{\delta_{x_i}}{2}\\
            &= \delta_{x_i}
        \end{align*}\par
        At this point, we know that $|x-x_i|<\frac{\delta_{x_i}}{2}<\delta_{x_i}$ and that $|y-x_i|<\delta_{x_i}$. It follows by consecutive applications of the above that $|f(x)-f(x_i)|<\frac{\epsilon}{2}$ and $|f(y)-f(x_i)|<\frac{\epsilon}{2}$, respectively. Consequently, we have by Script \ref{sct:7} that $|f(y)-f(x_i)|+|f(x)-f(x_i)|<\frac{\epsilon}{2}+\frac{\epsilon}{2}$. Therefore, if we combine the last several results, we get
        \begin{align*}
            |f(y)-f(x)| &\leq |f(y)-f(x_i)|+|f(x_i)-f(x)|\tag*{Lemma \ref{lem:8.8}}\\
            &= |f(y)-f(x_i)|+|f(x)-f(x_i)|\tag*{Exercise \ref{exr:8.5}}\\
            &< \frac{\epsilon}{2}+\frac{\epsilon}{2}\\
            &= \epsilon
        \end{align*}
        as desired.
    \end{proof}
\end{theorem}

\begin{exercise}\label{exr:13.7}
    Prove that $f(x)=\sqrt{x}$ is uniformly continuous on $A=[0,+\infty)$.
    \begin{lemma*}
        Let $x,y$ be arbitrary elements of $A$. Then $|\sqrt{y}-\sqrt{x}|^2\leq|(\sqrt{y}-\sqrt{x})(\sqrt{y}+\sqrt{x})|$.
        \begin{proof}
            We will first verify that $|\sqrt{y}-\sqrt{x}|\leq|\sqrt{y}+\sqrt{x}|$. To do so, we divide into two cases ($\sqrt{y}\geq\sqrt{x}$ and $\sqrt{y}<\sqrt{x}$). If $\sqrt{y}\geq\sqrt{x}$, then by Definition \ref{dfn:7.21}, $\sqrt{y}-\sqrt{x}\geq 0$. It follows by Definition \ref{dfn:8.4} that $|\sqrt{y}-\sqrt{x}|=\sqrt{y}-\sqrt{x}$. Additionally, we have by an extension of Exercise \ref{exr:12.22} that $\sqrt{x}\geq 0$, implying that $2\sqrt{x}\geq 0$ by Definition \ref{dfn:7.21}. Thus, combining the last few results, we have that $|\sqrt{y}-\sqrt{x}|=\sqrt{y}-\sqrt{x}\leq\sqrt{y}-\sqrt{x}+2\sqrt{x}=\sqrt{y}+\sqrt{x}$. Consequently, we know that $0\leq|\sqrt{y}-\sqrt{x}|\leq\sqrt{y}+\sqrt{x}$, so Definition \ref{dfn:8.4} implies that $|\sqrt{y}+\sqrt{x}|=\sqrt{y}+\sqrt{x}$. Therefore, we have that $|\sqrt{y}-\sqrt{x}|\leq\sqrt{y}+\sqrt{x}=|\sqrt{y}+\sqrt{x}|$, as desired. The argument is symmetric in the other case.\par
            Having established that $|\sqrt{y}-\sqrt{x}|\leq|\sqrt{y}+\sqrt{x}|$ and knowing that $0\leq|\sqrt{y}-\sqrt{x}|$, we have by Lemma \ref{lem:7.24} that $|\sqrt{y}-\sqrt{x}|\cdot|\sqrt{y}-\sqrt{x}|\leq|\sqrt{y}+\sqrt{x}|\cdot|\sqrt{y}-\sqrt{x}|$. It follows by basic algebra that $|\sqrt{y}-\sqrt{x}|^2\leq|(\sqrt{y}-\sqrt{x})(\sqrt{y}+\sqrt{x})|$, as desired.
        \end{proof}
    \end{lemma*}
    \begin{proof}[Proof of Exercise \ref{exr:13.7}]
        To prove that $f$ is uniformly continuous on $A$, Definition \ref{dfn:13.1} tells us that it will suffice to show that for all $\epsilon>0$, there exists a $\delta>0$ such that for all $x,y\in A$, if $|y-x|<\delta$, then $|f(y)-f(x)|<\epsilon$. Let $\epsilon>0$ be arbitrary. Choose $\delta=\epsilon^2$. Let $x,y$ be arbitrary elements of $X$ that satisfy $|y-x|<\delta$. Thus, since $(\sqrt{y}-\sqrt{x})(\sqrt{y}+\sqrt{x})=y-x$, the lemma asserts that $|\sqrt{y}-\sqrt{x}|^2\leq|(\sqrt{y}-\sqrt{x})(\sqrt{y}+\sqrt{x})|=|y-x|<\epsilon^2$. Therefore, by Script \ref{sct:7}, $|\sqrt{y}-\sqrt{x}|<\epsilon$, i.e., $|f(y)-f(x)|<\epsilon$, as desired.
    \end{proof}
\end{exercise}

\begin{corollary}\label{cly:13.8}
    Suppose that $f:[a,b]\to\R$ is continuous. Then $f$ is uniformly continuous.
    \begin{proof}
        By Theorem \ref{trm:10.14}, $[a,b]$ is compact. This combined with the hypothesis that $f$ is continuous proves by Theorem \ref{trm:13.6} that $f$ is uniformly continuous.
    \end{proof}
\end{corollary}

\begin{exercise}\label{exr:13.9}
    Show that if $f$ and $g$ are bounded on $A$ and uniformly continuous on $A$, then $fg$ is uniformly continuous on $A$.
    \begin{proof}
        To prove that $fg$ is uniformly continuous on $A$, Definition \ref{dfn:13.1} tells us that it will suffice to show that for all $\epsilon>0$, there exists a $\delta>0$ such that for all $x,y\in A$, if $|y-x|<\delta$, then $|(fg)(y)-(fg)(x)|<\epsilon$. Let $\epsilon>0$ be arbitrary.\par
        Since $f$ is bounded on $A$, Definition \ref{dfn:10.1} implies that $f(A)$ is a bounded subset of $\R$. Thus, by consecutive applications of Definition \ref{dfn:5.6}, there exist numbers $l,u$ such that for all $f(x)\in f(A)$, $l\leq f(x)\leq u$. Let $a=\max(|l|,|u|)+1$. It follows by Scripts \ref{sct:7} and \ref{sct:8} that $-a<f(x)<a$ for all $f(x)\in f(A)$. Thus, by the lemma from Exercise \ref{exr:8.9}, $|f(x)|<a$ for all $f(x)\in f(A)$. Similarly, there exists a number $b$ such that $|g(x)|<b$ for all $g(x)\in g(A)$.\par
        Since $f$ is uniformly continuous on $A$, Definition \ref{dfn:13.1} implies that there exists a $\delta_1>0$ such that for all $x,y\in A$, if $|y-x|<\delta_1$, then $|f(y)-f(x)|<\frac{\epsilon}{2b}$. Similarly, there exists a $\delta_2>0$ such that for all $x,y\in A$, if $|y-x|<\delta_2$, then $|g(y)-g(x)|<\frac{\epsilon}{2a}$. Choose $\delta=\min(\delta_1,\delta_2)$. Let $x,y$ be arbitrary elements of $A$ that satisfy $|y-x|<\delta$. It follows by consecutive applications of the above that $|f(x)|<a$ and $|g(y)|<b$. Additionally, $|y-x|<\delta\leq\delta_1$ implies that $|f(y)-f(x)|<\frac{\epsilon}{2b}$ and $|y-x|<\delta\leq\delta_2$ implies that $|g(y)-g(x)|<\frac{\epsilon}{2a}$. Therefore, combining the last four results, we have that
        \begin{align*}
            |(fg)(y)-(fg)(x)| &= |f(x)g(x)-f(y)g(y)|\\
            &= |f(x)g(x)-f(x)g(y)+f(x)g(y)-f(y)g(y)|\\
            &= |f(x)(g(x)-g(y))+g(y)(f(x)-f(y))|\\
            &\leq |f(x)|\cdot|g(x)-g(y)|+|g(y)|\cdot|f(x)-f(y)|\tag*{Lemma \ref{lem:8.8}}\\
            &< a\cdot\frac{\epsilon}{2a}+b\cdot\frac{\epsilon}{2b}\\
            &= \epsilon
        \end{align*}
        as desired.
    \end{proof}
\end{exercise}

\begin{definition}\label{dfn:13.10}\marginnote{4/15:}
    A \textbf{partition} of the interval $[a,b]$ is a finite set of points in $[a,b]$ that includes $a$ and $b$. We usually write partitions as $P=\{t_0,t_1,\dots,t_n\}$, with the convention that
    \begin{equation*}
        a = t_0 < t_1 < \cdots < t_{n-1} < t_n = b
    \end{equation*}
    If $P$ and $Q$ are partitions of the interval $[a,b]$ and $P\subset Q$, we refer to $Q$ as a \textbf{refinement} of $P$.
\end{definition}

\begin{definition}\label{dfn:13.11}
    Suppose that $f:[a,b]\to\R$ is bounded and that $P=\{t_0,\dots,t_n\}$ is a partition of $[a,b]$. Define
    \begin{align*}
        m_i(f) &= \inf\{f(x)\mid t_{i-1}\leq x\leq t_i\}&
        M_i(f) &= \sup\{f(x)\mid t_{i-1}\leq x\leq t_i\}
    \end{align*}
    The \textbf{lower sum} of $f$ for the partition $P$ is the number
    \begin{equation*}
        L(f,P) = \sum_{i=1}^nm_i(f)(t_i-t_{i-1})
    \end{equation*}
    The \textbf{upper sum} of $f$ for the partition $P$ is the number
    \begin{equation*}
        U(f,P) = \sum_{i=1}^nM_i(f)(t_i-t_{i-1})
    \end{equation*}
    Notice that it is always the case that $L(f,P)\leq U(f,P)$.
\end{definition}

\begin{lemma}\label{lem:13.12}
    Suppose that $P$ and $Q$ are partitions of $[a,b]$ and that $Q$ is a refinement of $P$. Then $L(f,P)\leq L(f,Q)$ and $U(f,P)\geq U(f,Q)$.
    \begin{lemma*}
        Let $P$ be a partition of $[a,b]$ and let $y$ be an arbitrary element of $[a,b]\setminus P$. Then $L(f,P)\leq L(f,P\cup\{y\})$ and $U(f,P)\geq U(f,P\cup\{y\})$.
        \begin{proof}
            We will prove that $L(f,P)\leq L(f,P\cup\{y\})$. The proof will be symmetric in the other case. Let's begin.\par
            By Definition \ref{dfn:13.10}, $P$ is of the form $\{t_0,\dots,t_n\}$ where $a=t_0<\cdots<t_n=b$. This combined with the hypothesis that $y\in[a,b]\setminus P$ implies by Theorem \ref{trm:3.5} that $a=t_0<\cdots<t_{k-1}<y<t_k<\cdots<t_n=b$. Thus, we have by consecutive applications of Definition \ref{dfn:13.11} that
            \begin{align*}
                L(f,P) &= \sum_{i=1}^nm_i(f)(t_i-t_{i-1})\\
                &= \sum_{i=1}^{k-1}m_i(f)(t_i-t_{i-1})+m_k(f)(t_k-t_{k-1})+\sum_{i=k+1}^nm_i(f)(t_i-t_{i-1})
            \end{align*}
            and that
            \begin{equation*}
                L(f,P\cup\{y\}) = \sum_{i=1}^{k-1}m_i(f)(t_i-t_{i-1})+m_y^-(f)(y-t_{k-1})+m_y^+(f)(t_k-y)+\sum_{i=k+1}^nm_i(f)(t_i-t_{i-1})
            \end{equation*}
            where
            \begin{align*}
                m_y^-(f) &= \inf\{f(x)\mid t_{k-1}\leq x\leq y\}&
                m_y^+(f) &= \inf\{f(x)\mid y\leq x\leq t_k\}
            \end{align*}\par
            As such, to prove that $L(f,P)\leq L(f,P\cup\{y\})$, it will suffice to show that $m_k(f)(t_k-t_{k-1})\leq m_y^-(f)(y-t_{k-1})+m_y^+(f)(t_k-y)$. To do so, it will suffice to show that $m_k(f)(y-t_{k-1})+m_k(f)(t_k-y)\leq m_y^-(f)(y-t_{k-1})+m_y^+(f)(t_k-y)$, i.e., that $m_k(f)(y-t_{k-1})\leq m_y^-(f)(y-t_{k-1})$ and that $m_k(f)(t_k-y)\leq m_y^+(f)(t_k-y)$, i.e., that $m_k(f)\leq m_y^-(f)$ and that $m_k(f)\leq m_y^+(f)$.\par
            For the sake of proving the first expression, let $A=\{f(x)\mid t_{k-1}<x<t_k\}$ and let $B=\{f(x)\mid t_{k-1}\leq x\leq y\}$. It follows by Definition \ref{dfn:13.10} that $m_k(f)=\inf A$ and $m_y^-(f)=\inf B$. Thus, we need only show that $\inf A\leq\inf B$. Since $y<t_k$, we know by Script \ref{sct:1} that $B\subset A$. Thus, since $\inf A$ is a lower bound on $A$, Script \ref{sct:5} implies that it is also a lower bound on $B$. Consequently, by Definition \ref{dfn:5.7}, $\inf A\leq\inf B$, as desired.\par
            The argument is symmetric for the other statement.
        \end{proof}
    \end{lemma*}
    \begin{proof}[Proof of Lemma \ref{lem:13.12}]
        % \begin{itemize}
        %     \item First address the $L(f,P)\leq L(f,Q)$ statement.
        %     \item Definition \ref{dfn:13.10}: $P\subset Q$.
        %     \item Theorem \ref{exr:1.34}: $|P|\leq|Q|$, $|Q|=|P|+|Q\setminus P|$, $|Q\setminus P|=n\in\Z^+$.
        %     \item We divide into two cases ($n=0$ and $n\in\N$).
        %     \item If $n=0$:
        %     \begin{itemize}
        %         \item $P=Q$.
        %         \item Therefore, $L(f,P)=L(f,Q)$, so we can weaken this to $L(f,P)\leq L(f,Q)$.
        %     \end{itemize}
        %     \item If $n\in\N$, we continue.
        %     \item We induct on $n$.
        %     \item For the base case $n=1$:
        %     \begin{itemize}
        %         \item Script \ref{sct:1}: $|Q\setminus P|=1$ implies that $Q=P\cup\{x\}$ where $x\notin P$.
        %         \item Lemma: $L(f,P)\leq L(f,Q)$
        %     \end{itemize}
        %     \item Now suppose inductively that the claim holds for $n$. We now seek to prove it for $n+1$.
        %     \begin{itemize}
        %         \item Let $x$ be an arbitrary element of $Q\setminus P$.
        %         \item Script \ref{sct:1}: $|(Q\setminus\{x\})\setminus P|=n$.
        %         \item Inductive hypothesis: $L(f,P)\leq L(f,Q\setminus\{x\})$.
        %         \item Lemma: $L(f,Q\setminus\{x\})\leq L(f,Q)$.
        %         \item Transitivity: $L(f,P)\leq L(f,Q)$.
        %     \end{itemize}
        %     \item The proof is symmetric in the other direction.
        % \end{itemize}

        We will prove that $L(f,P)\leq L(f,Q)$. The proof will be symmetric in the other case. Let's begin.\par
        By Definition \ref{dfn:13.10}, $P\subset Q$. Thus, by Theorem \ref{exr:1.34}, $|P|\leq|Q|$. It follows by Script \ref{sct:1} that $|Q|-|P|=n\in\Z^+$. Thus, to prove the claim for $P$ and $Q$ in general, it will suffice to prove it for each $n$. To do so, we divide into two cases ($n=0$ and $n\in\N$). If $n=0$, then $|P|=|Q|$. This combined with the fact that $P\subset Q$ implies by Script \ref{sct:1} that $P=Q$. Therefore, $L(f,P)=L(f,Q)$, which we can weaken to $L(f,P)\leq L(f,Q)$, as desired.\par
        On the other hand, if $n\in\N$, then we induct on $n$. For the base case $n=1$, we have by Script \ref{sct:1} that $Q=P\cup\{y\}$ where $y\notin P$. Therefore, by the lemma, we have that $L(f,P)\leq L(f,P\cup\{y\})=L(f,Q)$, as desired. Now suppose inductively that the claim holds or $n$; we wish to prove it for $n+1$. Let $y$ be an arbitrary element of $Q$. Then by Script \ref{sct:1}, $|Q\setminus\{y\}|-|P|=n$. Thus, by the inductive hypothesis, $L(f,P)\leq L(f,Q\setminus\{x\})$. Additionally, by the lemma, $L(f,Q\setminus\{x\})\leq L(f,Q)$. Therefore, by transitivity, $L(f,P)\leq L(f,Q)$, as desired.
    \end{proof}
\end{lemma}

\begin{theorem}\label{trm:13.13}
    Let $P_1$ and $P_2$ be partitions of $[a,b]$ and suppose that $f:[a,b]\to\R$ is bounded. Then $L(f,P_1)\leq U(f,P_2)$.
    \begin{proof}
        To confirm that $P_1\cup P_2$ is a partition of $[a,b]$, Definition \ref{dfn:13.10} tells us that it will suffice to demonstrate that it is a finite set, that it is a subset of $[a,b]$, and that it includes $a$ and $b$. Since $P_1,P_2$ are partitions of $[a,b]$, Definition \ref{dfn:13.10} implies that they are finite subsets of $[a,b]$ that contain $a,b$. It follows by Script \ref{sct:1} that their union is finite, a subset of $[a,b]$, and a set containing $a$ and $b$. Additionally, we have by Theorem \ref{trm:1.7} that $P_1\subset P_1\cup P_2$ and that $P_2\subset P_1\cup P_2$. Combining the last two results with consecutive applications of Definition \ref{dfn:13.10} reveals that $P_1\cup P_2$ is a refinement of both $P_1$ and $P_2$.\par
        Since $P_1$ and $P_1\cup P_2$ are partitions of $[a,b]$ and $P_1\cup P_2$ is a refinement of $P_1$, Lemma \ref{lem:13.12} implies that $L(f,P_1)\leq L(f,P_1\cup P_2)$. Similarly, $U(f,P_1\cup P_2)\leq U(f,P_2)$. Additionally, we have by Definition \ref{dfn:13.11} that $L(f,P_1\cup P_2)\leq U(f,P_1\cup P_2)$. Therefore, if we combine the last three results with transitivity, we have that $L(f,P_1)\leq U(f,P_2)$, as desired.
    \end{proof}
\end{theorem}

\begin{definition}\label{dfn:13.14}
    Let $f:[a,b]\to\R$ be bounded. We define
    \begin{align*}
        L(f) &= \sup\{L(f,P)\mid P\text{ is a partition of }[a,b]\}&
        U(f) &= \inf\{U(f,P)\mid P\text{ is a partition of }[a,b]\}
    \end{align*}
    to be, respectively, the \textbf{lower integral} and \textbf{upper integral} of $f$ from $a$ to $b$.
\end{definition}

\begin{exercise}\label{exr:13.15}
    Why do $L(f)$ and $U(f)$ exist? Find a function $f$ for which $L(f)=U(f)$. Find a function $f$ for which $L(f)\neq U(f)$. Prove that $L(f)\leq U(f)$.
    \begin{lemma*}
        Given $a,b\in\R$ with $a<b$, there exists $p\in\R$ such that $p\notin\Q$ and $a<p<b$.
        \begin{proof}
            By Definition \ref{dfn:7.21}, $a+\sqrt{2}<b+\sqrt{2}$. Thus, by Lemma \ref{lem:6.10}, there exists a point $\frac{c}{d}\in\Q$ such that $a+\sqrt{2}<\frac{c}{d}<b+\sqrt{2}$. It follows that $a<\frac{c}{d}-\sqrt{2}<b$.\par
            Now suppose for the sake of contradiction that $\frac{c}{d}-\sqrt{2}$ is rational. Then by Script \ref{sct:2}, $\frac{c}{d}-\sqrt{2}=\frac{e}{f}$ where $e,f\in\Z$ and $f\neq 0$. It follows by Theorem \ref{trm:2.10} that $\sqrt{2}=\frac{cf-de}{df}$, i.e., that $\sqrt{2}$ is rational. But by the proof of Exercise \ref{exr:4.24}, $\sqrt{2}$ is not rational, a contradiction.
        \end{proof}
    \end{lemma*}
    \begin{proof}[Proof of Exercise \ref{exr:13.15}]
        Let $A=\{L(f,P)\mid P\text{ is a partition of }[a,b]\}$. To prove that $L(f)=\sup A$ exists, Theorem \ref{trm:5.17} tells us that it will suffice to show that $A$ is nonempty and bounded above.\par
        To confirm that $A$ is nonempty, Definition \ref{dfn:1.8} tells us that it will suffice to find an element of it. Since $\{a,b\}$ is a finite set of points in $[a,b]$ that includes $a$ and $b$ (by Script \ref{sct:1}), Definition \ref{dfn:13.10} asserts that $\{a,b\}$ is a partition of $[a,b]$. It follows by Definition \ref{dfn:13.11} that $L(f,\{a,b\})$ exists. Therefore, by the definition of $A$, we have that $L(f,\{a,b\})\in A$, as desired.\par
        To confirm that $A$ is bounded above, Definition \ref{dfn:5.6} tells us that it will suffice to find a point in $u\in\R$ such that for all $L(f,P)\in A$, $L(f,P)\leq u$. Let $u=U(f,\{a,b\})$ (since $\{a,b\}$ is a partition of $[a,b]$ by the above, Definition \ref{dfn:13.10} guarantees that $U(f,\{a,b\})$ exists). Now let $L(f,P)$ be an arbitrary element of $A$. It follows from Theorem \ref{trm:13.13} that $L(f,P)\leq U(f,\{a,b\})=u$, as desired.\par
        The proof is symmetric for $U(f)$.\par\medskip
        Let $f:[0,1]\to\R$ be defined by $f(x)=0$. To prove that $L(f)=U(f)$, it will suffice to show that $L(f)=0$ and $U(f)=0$. To do this, Script \ref{sct:5} tells us that it will suffice to verify that $\{L(f,P)\mid P\text{ is a partition of }[a,b]\}=\{0\}$ and $\{U(f,P)\mid P\text{ is a partition of }[a,b]\}=\{0\}$. We will start with the first equality.\par
        Let $L(f,P)$ be an arbitrary element of $\{L(f,P)\mid P\text{ is a partition of }[a,b]\}$. Since we have
        \begin{align*}
            m_i(f) &= \inf\{f(x)\mid t_{i-1}\leq x\leq t_i\}\\
            &= \inf\{0\mid t_{i-1}\leq x\leq t_i\}\\
            &= \inf\{0\}\\
            &= 0
        \end{align*}
        for all $m_i(f)$, it follows that
        \begin{align*}
            L(f,P) &= \sum_{i=1}^nm_i(f)(t_i-t_{i-1})\\
            &= \sum_{i=1}^n 0(t_i-t_{i-1})\\
            &= 0
        \end{align*}
        Therefore, since every element of $\{L(f,P)\mid P\text{ is a partition of }[a,b]\}$ is equal to 0, the set is equal to the singleton set containing 0. The argument is symmetric for the other equality.\par\medskip
        Let $f:[0,1]\to\R$ be defined by
        \begin{equation*}
            f(x) =
            \begin{cases}
                1 & x\in\Q\\
                0 & x\notin\Q
            \end{cases}
        \end{equation*}
        To prove that $L(f)\neq U(f)$, it will suffice to show that $L(f)=0$ and $U(f)=1$. To do this, Script \ref{sct:5} tells us that it will suffice to verify that $\{L(f,P)\mid P\text{ is a partition of }[a,b]\}=\{0\}$ and $\{U(f,P)\mid P\text{ is a partition of }[a,b]\}=\{1\}$. We will start with the first equality.\par
        Let $L(f,P)$ be an arbitrary element of $\{L(f,P)\mid P\text{ is a partition of }[a,b]\}$. To confirm that $L(f,P)=0$, Definition \ref{dfn:13.11} tells us that it will suffice to demonstrate that $m_i(f)=0$ for all $m_i(f)$. Let $m_i(f)$ be an arbitrary such object. By Definition \ref{dfn:13.10}, $m_i(f)=\inf\{f(x)\mid t_{i-1}\leq x\leq t_i\}$. By the lemma, there exists $p\in\R$ such that $p\notin\Q$ and $t_{i-1}\leq p\leq t_i$. Thus, since $f(p)=0$, $0\in\{f(x)\mid t_{i-1}\leq x\leq t_i\}$. Additionally, since $f(x)\not<0$ for any $x\in[0,1]$ by definition, we have that $m_i(f)=0$. Therefore, since every element of $\{L(f,P)\mid P\text{ is a partition of }[a,b]\}$ is equal to 0, the set is equal to the singleton set containing 0.\par
        As to the other equality, let $U(f,P)$ be an arbitrary element of $\{U(f,P)\mid P\text{ is a partition of }[a,b]\}$. To confirm that $U(f,P)=1$, Definition \ref{dfn:13.11} tells us that we must first demonstrate that $M_i(f)=1$ for all $M_i(f)$. Let $M_i(f)$ be an arbitrary such object. By Definition \ref{dfn:13.10}, $M_i(f)=\sup\{f(x)\mid t_{i-1}\leq x\leq t_i\}$. By Lemma \ref{lem:6.10}, there exists $p\in\Q$ such that $t_{i-1}\leq p\leq t_i$. Thus, since $f(p)=1$, $1\in\{f(x)\mid t_{i-1}\leq x\leq t_i\}$. Additionally, since $f(x)\not>1$ for any $x\in[0,1]$ by definition, we have that $M_i(f)=1$. It follows by Definition \ref{dfn:13.11} that
        \begin{align*}
            U(f,P) &= \sum_{i=1}^nM_i(f)(t_i-t_{i-1})\\
            &= \sum_{i=1}^n(t_i-t_{i-1})\\
            &= t_n-t_0\\
            &= 1-0\\
            &= 1
        \end{align*}
        Therefore, since every element of $\{U(f,P)\mid P\text{ is a partition of }[a,b]\}$ is equal to 1, the set is equal to the singleton set containing 1.\par\medskip
        Suppose for the sake of contradiction that there exists a function $f:[a,b]\to\R$ for which $U(f)<L(f)$. It follows by consecutive applications of Definition \ref{dfn:13.14} and Lemma \ref{lem:5.11} that there exists an $L(f,P_1)$ such that $U(f)<L(f,P_1)\leq L(f)$, and thus that there exists a $U(f,P_2)$ such that $U(f)\leq U(f,P_2)<L(f,P_1)$. But this means that there exist partitions $P_1,P_2$ of $[a,b]$ such that $L(f,P_1)>U(f,P_2)$, contradicting Theorem \ref{trm:13.13}.
    \end{proof}
\end{exercise}

\begin{definition}\label{dfn:13.16}
    Let $f:[a,b]\to\R$ be bounded. We say that $f$ is \textbf{integrable} on $[a,b]$ if $L(f)=U(f)$. In this case, the common value $L(f)=U(f)$ is called the \textbf{integral} of $f$ from $a$ to $b$ and we write it as
    \begin{equation*}
        \int_a^bf
    \end{equation*}
    Note that if $f$ is an integrable function on $[a,b]$, it is necessarily bounded.\par
    When we want to display the variable of integration, we write the integral as follows, including the symbol $\dd{x}$ to indicate that variable of integration:
    \begin{equation*}
        \int_a^bf(x)\dd{x}
    \end{equation*}
    For example, if $f(x)=x^2$, we could write $\int_a^bx^2\dd{x}$ but not $\int_a^bx^2$.
\end{definition}

\begin{exercise}\label{exr:13.17}
    Fix $c\in\R$ and let $f:[a,b]\to\R$ be defined by $f(x)=c$, for each $x\in[a,b]$. Show that $f$ is integrable on $[a,b]$ and that $\int_a^bf=c(b-a)$.
    \begin{proof}
        To prove that $f$ is integrable on $[a,b]$ and that $\int_a^bf=c(b-a)$, Definition \ref{dfn:13.16} tells us that it will suffice to show that $f$ is bounded on $[a,b]$, and that $L(f)=U(f)=c(b-a)$.\par
        To confirm that $f$ is bounded on $[a,b]$, Definition \ref{dfn:10.1} tells us that it will suffice to demonstrate that $f([a,b])$ is a bounded subset of $\R$. By Definition \ref{dfn:1.18}, $f([a,b])=\{f(x)\in\R\mid x\in[a,b]\}$. But since $f(x)=c$ for all $x\in[a,b]$, $f([a,b])=\{c\}$. Thus, since $c\leq c\leq c$, Definition \ref{dfn:5.6} implies that $f([a,b])$ is bounded. Additionally, since $c\in\R$, Definition \ref{dfn:1.3} asserts that $f([a,b])=\{c\}\subset\R$.\par
        To confirm that $L(f)=U(f)=c(b-a)$, Definition \ref{dfn:13.14} tells us that it will suffice to demonstrate that $L(f,P)=U(f,P)=c(b-a)$ for all partitions $P$ of $[a,b]$. For similar reasons to the above (i.e., $f(x)=c$ for all $x\in[a,b]$), we can show that $m_i(f)=M_i(f)=c$ for all $m_i(f)$ and $M_i(f)$. Therefore, by Definition \ref{dfn:13.11} that
        \begin{align*}
            L(f,P) &= \sum_{i=1}^nc(t_i-t_{i-1})&
                U(f,P) &= \sum_{i=1}^nc(t_i-t_{i-1})\\
            &= c\sum_{i=1}^n(t_{i-1}-t_i)&
                &= c\sum_{i=1}^n(t_{i-1}-t_i)\\
            &= c(t_n-t_0)&
                &= c(t_n-t_0)\\
            &= c(b-a)&
                &= c(b-a)
        \end{align*}
        as desired.
    \end{proof}
\end{exercise}

\begin{theorem}\label{trm:13.18}
    Let $f:[a,b]\to\R$ be bounded. Then $f$ is integrable if and only if for every $\epsilon>0$, there exists a partition $P$ of $[a,b]$ such that $U(f,P)-L(f,P)<\epsilon$.
    \begin{proof}
        % Now suppose that for every $\epsilon>0$, there exists a partition $P$ of $[a,b]$ such that $U(f,P)-L(f,P)<\epsilon$. Suppose for the sake of contradiction that $f$ is not integrable. Then by Definition \ref{dfn:13.16}, $L(f)\neq U(f)$. It follows by Exercise \ref{exr:13.15} that $L(f)<U(f)$. Thus, we can define $\epsilon=U(f)-L(f)>0$. Consequently, we have by the hypothesis that there exists a partition $P$ of $[a,b]$ such that $U(f,P)-L(f,P)<\epsilon$. But since $L(f,P)\leq L(f)$ by Definitions \ref{dfn:13.14}, \ref{dfn:5.7}, and \ref{dfn:5.6}, we have that
        % \begin{align*}
        %     U(f,P) &< \epsilon+L(f,P)\\
        %     &\leq \epsilon+L(f)\\
        %     &= U(f)-L(f)+L(f)\\
        %     &= U(f)
        % \end{align*}
        % But by Definitions \ref{dfn:13.14}, \ref{dfn:5.7}, and \ref{dfn:5.6}, we know that $U(f,P)\geq U(f)$, a contradiction.

        % We might also be able to do the forward direction simpler by contrapositive.


        Suppose first that $f$ is integrable. Then by Definition \ref{dfn:13.16}, $L(f)=U(f)$. Let $\epsilon>0$ be arbitrary. By Script \ref{sct:7}, $L(f)-\frac{\epsilon}{2}<L(f)$. Thus, by Definition \ref{dfn:13.14} and Lemma \ref{lem:5.11}, there exists an $L(f,P_1)\in\{L(f,P)\mid P\text{ is a partition of }[a,b]\}$ such that $L(f)-\frac{\epsilon}{2}<L(f,P_1)\leq L(f)$. Similarly, there exists a $U(f,P_2)\in\{U(f,P)\mid P\text{ is a partition of }[a,b]\}$ such that $U(f)\leq U(f,P_2)<U(f)+\frac{\epsilon}{2}$. Now consider $P_1\cup P_2$ (which we will prove is the desired partition). By Theorem \ref{trm:1.7}, $P_1\subset P_1\cup P_2$ and $P_2\subset P_1\cup P_2$. It follows by consecutive applications of Definition \ref{dfn:13.10} that $P_1\cup P_2$ is a refinement of both $P_1$ and $P_2$. Thus, by Lemma \ref{lem:13.12}, $L(f,P_1)\leq L(f,P_1\cup P_2)$ and $U(f,P_1\cup P_2)\leq U(f,P_2)$. Combining the last several results with transitivity yields
        \begin{align*}
            L(f)-\frac{\epsilon}{2} &< L(f,P_1) \leq L(f,P_1\cup P_2)&
            U(f,P_1\cup P_2) &\leq U(f,P_2) < U(f)+\frac{\epsilon}{2}
        \end{align*}
        Therefore, knowing that $U(f,P_1\cup P_2)<U(f)+\frac{\epsilon}{2}$ and that $-L(f,P_1\cup P_2)<\frac{\epsilon}{2}-L(f)$ (the latter by Lemma \ref{lem:7.24}), we have by Definition \ref{dfn:7.21} that
        \begin{align*}
            U(f,P_1\cup P_2)-L(f,P_1\cup P_2) &< U(f)+\frac{\epsilon}{2}+\frac{\epsilon}{2}-L(f)\\
            &= \epsilon
        \end{align*}
        as desired.\par
        Now suppose that $f$ is not integrable; we seek to prove that there exists an $\epsilon>0$ such that for all partitions $P$ of $[a,b]$, $U(f,P)-L(f,P)\geq\epsilon$. Since $f$ is not integrable, we have by Definition \ref{dfn:13.16} that $L(f)\neq U(f)$. It follows by Exercise \ref{exr:13.15} that $L(f)<U(f)$. Thus, we can define $\epsilon=\frac{U(f)-L(f)}{2}>0$. Now let $P$ be an arbitrary partition of $[a,b]$. It follows that $L(f,P)\leq L(f)$ by Definitions \ref{dfn:13.14}, \ref{dfn:5.7}, and \ref{dfn:5.6}. Similarly, $U(f)\leq U(f,P)$. Therefore, knowing that $U(f)\leq U(f,P)$ and that $-L(f)\leq -L(f,P)$ (the latter by Lemma \ref{lem:7.24}), we have by Definition \ref{dfn:7.21} that $\epsilon<U(f)-L(f)\leq U(f,P)-L(f,P)$, as desired.
    \end{proof}
\end{theorem}




\end{document}