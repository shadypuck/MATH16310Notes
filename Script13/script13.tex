\documentclass[../main.tex]{subfiles}

\pagestyle{main}
\renewcommand{\chaptermark}[1]{\markboth{\chaptername\ \thechapter}{}}
\setcounter{chapter}{12}

\begin{document}




\chapter{Uniform Continuity and Integration}\label{sct:13}
\section{Journal}
\begin{definition}\label{dfn:13.1}\marginnote{4/8:}
    Let $f:A\to\R$ be a function. We say that $f$ is \textbf{uniformly continuous} if for all $\epsilon>0$, there exists a $\delta>0$ such that for all $x,y\in A$, if $|y-x|<\delta$, then $|f(y)-f(x)|<\epsilon$.
\end{definition}

\begin{theorem}\label{trm:13.2}
    If $f$ is uniformly continuous, then $f$ is continuous.
    \begin{proof}
        To prove that $f$ is continuous, Theorem \ref{trm:9.10} tells us that it will suffice to show that $f$ is continuous at every $x\in A$. Let $x$ be an arbitrary element of $A$. To show that $f$ is continuous at $x$, Theorem \ref{trm:11.5} tells us that it will suffice to verify that for every $\epsilon>0$, there exists a $\delta>0$ such that if $y\in A$ and $|y-x|<\delta$, then $|f(y)-f(x)|<\epsilon$. Let $\epsilon>0$ be arbitrary. Then since $f$ is uniformly continuous by hypothesis, Definition \ref{dfn:13.1} asserts that there exists a $\delta>0$ such that for all $y\in A$ satisfying $|y-x|<\delta$, we have $|f(y)-f(x)|<\epsilon$, as desired.
    \end{proof}
\end{theorem}

\begin{exercise}\label{exr:13.3}
    Determine with proof whether each function $f$ is uniformly continuous on the given interval $A$.
    \begin{enumerate}[label={(\alph*)}]
        \item $f(x)=x^2$ on $A=\R$.
        \begin{proof}
            % \begin{itemize}
            %     \item Suppose (contradiction): $f$ is uniformly continuous on $\R$.
            %     \item Let $\epsilon=2>0$.
            %     \item Definition \ref{dfn:13.1}: There exists a $\delta>0$ such that for all $x,y\in\R$, if $|y-x|<\delta$, then $|y^2-x^2|<\epsilon$.
            %     \item Let $x=0$.
            %     \item Theorem \ref{trm:5.2}: There exists a point $y\in\R$ such that $0<y<\delta$.
            %     \item Lemma \ref{lem:7.23}: $-\delta<0$.
            %     \item Definitions \ref{dfn:3.6} and \ref{dfn:3.10}: $y\in(-\delta,\delta)$.
            %     \item Exercise \ref{exr:8.9}: $|y|<\delta$.
            %     \item Script \ref{sct:7}: $|(y+n)-n|<\delta$.
            %     \item $|(y+n)^2-n^2|<2$.
            %     \item Script \ref{sct:7}: $|y^2+2ny|<2$.
            %     \item Choose $n=\frac{1}{y}$.
            %     \item Script \ref{sct:7}: $|y^2+2|<2$.
            %     \item Lemma \ref{lem:7.26}: $y^2>0$.
            %     \item Definition \ref{dfn:7.21}: $y^2+2>2$.
            %     \item Definition \ref{dfn:8.4}: $|y^2+2|>2$.
            %     \item Contradiction.
            % \end{itemize}

            To prove that $f$ is not uniformly continuous on $\R$, Definition \ref{dfn:13.1} tells us that it will suffice to find an $\epsilon>0$ for which no $\delta>0$ exists such that for all $x,y\in\R$, if $|y-x|<\delta$, then $|y^2-x^2|<\epsilon$. Let $\epsilon=2$, and suppose for the sake of contradiction that $\delta>0$ is a number such that for all $x,y\in\R$, if $|y-x|<\delta$, then $|y^2-x^2|<2$. By Theorem \ref{trm:5.2}, there exists a number $y$ such that $0<y<\delta$. Since $-\delta<0<y<\delta$ by Lemma \ref{lem:7.23}, it follows by Definitions \ref{dfn:3.6} and \ref{dfn:3.10} that $y\in(-\delta,\delta)$. Thus, by Exercise \ref{exr:8.9}, $|y-0|=|y|<\delta$. Consequently, $|(y+n)-n|<\delta$. It follows by the above that $|(y+n)^2-n^2|=|y^2+2yn|<2$. If we now let $n=\frac{1}{y}$, then $|y^2+2|<2$. But since $y>0$, we have that $y^2>0$ by Lemma \ref{lem:7.26}. It follows that $y^2+2>2$ by Definition \ref{dfn:7.21}. Therefore, by Definition \ref{dfn:8.4}, we can also show that $|y^2+2|>2$, a contradiction.
        \end{proof}
        \item $f(x)=x^2$ on $A=(-2,2)$.
        \begin{proof}
            To prove that $f$ is uniformly continuous on $A$, Definition \ref{dfn:13.1} tells us that it will suffice to show that for all $\epsilon>0$, there exists a $\delta>0$ such that for all $x,y\in A$, if $|y-x|<\delta$, then $|f(y)-f(x)|<\epsilon$. Let $\epsilon>0$ be arbitrary. Choose $\delta=\frac{\epsilon}{4}$, and let $x,y$ be arbitrary elements of $A$ that satisfy $|y-x|<\delta$. Since $x,y\in A$, consecutive applications of Equations \ref{eqn:8.1} and the lemma from Exercise \ref{exr:8.9} imply that $|x|<2$ and $|y|<2$. It follows that $|x|+|y|<2+2=4$. Consequently, by Lemma \ref{lem:8.8}, $|x+y|<4$. Additionally, since $0\leq|y+x|$ by Definition \ref{dfn:8.4}, we have $|x-y|\cdot|x+y|\leq\frac{\epsilon}{4}\cdot|x+y|$. Combining all of the above results, we have that
            \begin{align*}
                |f(y)-f(x)| &= |y^2-x^2|\\
                &= |y+x|\cdot|y-x|\\
                &< 4\cdot|y-x|\\
                &\leq 4\cdot\frac{\epsilon}{4}\\
                &= \epsilon
            \end{align*}
            as desired.
        \end{proof}
        \item $f(x)=\frac{1}{x}$ on $A=(0,+\infty)$.
        \begin{proof}
            To prove that $f$ is not uniformly continuous on $A$, Definition \ref{dfn:13.1} tells us that it will suffice to find an $\epsilon>0$ for which no $\delta>0$ exists such that for all $x,y\in A$, if $|y-x|<\delta$, then $|\frac{1}{y}-\frac{1}{x}|<\epsilon$. Let $\epsilon=1$, and suppose for the sake of contradiction that $\delta>0$ is a number such that for all $x,y\in A$, if $|y-x|<\delta$, then $|\frac{1}{y}-\frac{1}{x}|<1$. As in part (a), choose $0<x<\min(\delta,\frac{1}{2})$. Consequently, $|(x+x)-x|<\delta$. It follows by the above that $|\frac{1}{2x}-\frac{1}{x}|<1$. But this implies that $|\frac{x-2x}{2x^2}|=|\frac{-1}{2x}|=\frac{1}{2x}<1$. However, $x<\frac{1}{2}$ implies that $1<\frac{1}{2x}$, a contradiction.
        \end{proof}
        \item $f(x)=\frac{1}{x}$ on $A=[1,+\infty)$.
        \begin{proof}
            To prove that $f$ is uniformly continuous on $A$, Definition \ref{dfn:13.1} tells us that it will suffice to show that for all $\epsilon>0$, there exists a $\delta>0$ such that for all $x,y\in A$, if $|y-x|<\delta$, then $|f(y)-f(x)|<\epsilon$. Let $\epsilon>0$ be arbitrary. Choose $\delta=\epsilon$, and let $x,y$ be arbitrary elements of $A$ that satisfy $|y-x|<\delta$. Since $x,y\in A$, consecutive applications of Equations \ref{eqn:8.1} imply that $1\leq x$ and $1\leq y$. It follows by Script \ref{sct:7} that $1\leq|xy|$. This combined with the fact that $|y-x|<\delta=\epsilon$ implies that
            \begin{align*}
                |f(y)-f(x)| &= \left| \frac{1}{y}-\frac{1}{x} \right|\\
                &= \left| \frac{x-y}{yx} \right|\\
                &= \frac{|y-x|}{|xy|}\\
                &< \frac{\epsilon}{|xy|}\\
                &\leq \frac{\epsilon}{1}\\
                &= \epsilon
            \end{align*}
            as desired.
        \end{proof}
        \item $f(x)=\sqrt{x}$ on $A=[1,+\infty)$.
        \begin{proof}
            To prove that $f$ is uniformly continuous on $A$, Definition \ref{dfn:13.1} tells us that it will suffice to show that for all $\epsilon>0$, there exists a $\delta>0$ such that for all $x,y\in A$, if $|y-x|<\delta$, then $|f(y)-f(x)|<\epsilon$. Let $\epsilon>0$ be arbitrary. Choose $\delta=\epsilon$, and let $x,y$ be arbitrary elements of $A$ that satisfy $|y-x|<\delta$. Since $x,y\in A$, consecutive applications of Equations \ref{eqn:8.1} imply that $1\leq x$ and $1\leq y$. It follows by Script \ref{sct:7} that $1\leq\sqrt{x}$ and $1\leq\sqrt{y}$. Thus, by Script \ref{sct:7} again, $2\leq|\sqrt{y}+\sqrt{x}|$. Note that it follows that $1<|\sqrt{y}+\sqrt{x}|$. This combined with the fact that $|y-x|<\delta=\epsilon$ implies that
            \begin{align*}
                |f(y)-f(x)| &= |\sqrt{y}-\sqrt{x}|\\
                &< |\sqrt{y}-\sqrt{x}|\cdot|\sqrt{y}+\sqrt{x}|\\
                &= |y-x|\\
                &= \epsilon
            \end{align*}
            as desired.
        \end{proof}
    \end{enumerate}
\end{exercise}

\begin{exercise}\label{exr:13.4}
    Let $f:\R\to\R$ be defined by $f(x)=x^n$ for $n\in\N$. Show that $f$ is uniformly continuous if and only if $n=1$.
    \begin{proof}
        % \begin{itemize}
        %     \item Suppose (contradiction): $f$ is uniformly continuous.
        %     \item Let $\epsilon=1>0$.
        %     \item Definition \ref{dfn:13.1}: There exists a $\delta>0$ such that for all $x,y\in\R$, if $|y-x|<\delta$, then $|y^n-x^n|<\epsilon$.
        %     \item Let $x=0$.
        %     \item Theorem \ref{trm:5.2}: There exists a point $y\in\R$ such that $0<y<\delta$.
        %     \item Lemma \ref{lem:7.23}: $-\delta<0$.
        %     \item Definitions \ref{dfn:3.6} and \ref{dfn:3.10}: $y\in(-\delta,\delta)$.
        %     \item Exercise \ref{exr:8.9}: $|y|<\delta$.
        %     \item Script \ref{sct:7}: $|(y+a)-a|<\delta$.
        %     \item $|(y+a)^n-a^n|<1$.
        %     \item Additional Exercise \ref{axr:0.7}: $|\sum_{k=0}^n\binom{n}{k}y^{n-k}a^k-a^n|=|y^n+ny^{n-1}a+\sum_{k=2}^{n-1}\binom{n}{k}y^{n-k}a^k|<1$.
        %     \item Choose $a=\frac{1}{ny^{n-1}}$.
        %     \item Script \ref{sct:7}: $|y^n+1+\sum_{k=2}^{n-1}y^{n-k}a^k|<1$.
        %     \item Exercise \ref{exr:12.22}: $y^n>0$.
        %     \item Script \ref{sct:7}: $y^n+1>0$
        %     \item Script \ref{sct:7}: $\sum_{k=2}^{n-1}y^{n-k}a^k>0$ since $a,y>0$.
        %     \item Scripts \ref{sct:7} and \ref{sct:8}: $|y^n+1|<|y^n+1+\sum_{k=2}^{n-1}y^{n-k}a^k|<1$.
        %     \item Definition \ref{dfn:7.21}: $y^n+1>1$.
        %     \item Definition \ref{dfn:8.4}: $|y^n+1|>1$.
        %     \item Contradiction.
        % \end{itemize}

        Suppose first that $n=1$. To prove that $f$ is uniformly continuous, Definition \ref{dfn:13.1} tells us that it will suffice to show that for all $\epsilon>0$, there exists a $\delta>0$ such that for all $x,y\in\R$, if $|y-x|<\delta$, then $|f(y)-f(x)|<\epsilon$. Let $\epsilon>0$ be arbitrary. Choose $\delta=\epsilon$. Now let $x,y$ be arbitrary elements of $\R$ that satisfy $|y-x|<\delta$. Then by the definition of $f$, $|f(y)-f(x)|=|y-x|<\delta=\epsilon$, as desired.\par
        Now suppose that $n>1$. Additionally, suppose for the sake of contradiction that $f$ is uniformly continuous. Let $\epsilon=1>0$. Then by Definition \ref{dfn:13.1}, there exists a $\delta>0$ such that for all $x,y\in\R$, if $|y-x|<\delta$, then $|y^n-x^n|<1$. Let $x=0\in\R$. By Theorem \ref{trm:5.2}, there exists a point $y\in\R$ such that $0<y<\delta$. Additionally, since $\delta>0$, Lemma \ref{lem:7.23} asserts that $-\delta<0$. This combined with the previous result demonstrates by transitivity that $-\delta<0<y<\delta$, so by the lemma from Exercise \ref{exr:8.9}, we have that $|y|<\delta$. Consequently, by Script \ref{sct:7}, we know that $|(y+a)-a|<\delta$ for any $a\in\R$. It follows by the above that $|(y+a)^n-a^n|<1$. Thus, by Additional Exercise \ref{axr:0.7}, $|\sum_{k=0}^n\binom{n}{k}y^{n-k}a^k-a^n|=|y^n+ny^{n-1}a+\sum_{k=2}^{n-1}\binom{n}{k}y^{n-k}a^k|<1$. If we now choose $a=\frac{1}{ny^{n-1}}$, Script \ref{sct:7} reduces the above to $|y^n+1+\sum_{k=2}^{n-1}y^{n-k}a^k|<1$. We now seek to reduce the previous statement further to $|y^n+1|<1$. To begin, Exercise \ref{exr:12.22} implies that $y^n>0$ since $y>0$ and $0^n=0$, meaning by Script \ref{sct:7} that $y^n+1>0$. Additionally, Script \ref{sct:7} asserts that $\sum_{k=2}^{n-1}y^{n-k}a^k>0$ since $a>0$ and $y>0$. This combined with the previous result implies by Scripts \ref{sct:7} and \ref{sct:8} that $|y^n+1|<|y^n+1+\sum_{k=2}^{n-1}y^{n-k}a^k|<1$, as desired. However, since $y^n>0$, Definition \ref{dfn:7.21} asserts that $y^n+1>1$. But by Definition \ref{dfn:8.4}, this implies that $|y^n+1|>1$, a contradiction.
    \end{proof}\par\medskip
    % \textbf{Challenge}: Let $p:\R\to\R$ be a polynomial with real coefficients. Show that $p$ is uniformly continuous on $\R$ if and only if $\deg(p)\leq 1$.
    % \begin{lemma*}
    %     Let $f$ be such that it is not uniformly continuous on $A\subset\R$, and let $g$ be uniformly continuous on $A\subset\R$. It follows that
    %     \begin{enumerate}[label={\textup{(}\alph*\textup{)}}]
    %         \item The function $f+g$ is not uniformly continuous on $A$.
    %         \begin{proof}
    %             % \begin{itemize}
    %             %     \item WTS: There exists $\epsilon>0$ such that for all $\delta>0$, there exist $x,y\in A$ with $|y-x|<\delta$ such that $|(f+g)(y)-(f+g)(x)|\geq\epsilon$.
    %             %     \item Definition \ref{dfn:13.1}: There exists a number $2\epsilon>0$ such that for all $\delta_1>0$, there exist $x,y\in A$ with $|y-x|<\delta_1$ such that $|f(y)-f(x)|\geq 2\epsilon$.
    %             %     \item Pick $\epsilon$ to be our $\epsilon$, and let $\delta>0$ be arbitrary.
    %             %     \item The above: There exist $a,b\in A$ with $|b-a|<\delta$ such that $|f(b)-f(a)|\geq 2\epsilon$.
    %             %     \item Definition \ref{dfn:13.1}: There exists a $\delta_2>0$ such that for all $x,y\in A$, if $|y-x|<\delta_2$, then $|g(y)-g(x)|<\epsilon$.
    %             %     \item Divide into two cases ($\delta\leq\delta_2$ and $\delta>\delta_2$):
    %             %     \item If $\delta\leq\delta_2$:
    %             %     \begin{itemize}
    %             %         \item Transitivity: $|b-a|<\delta_2$.
    %             %         \item The above: $|g(b)-g(a)|<\epsilon$.
    %             %         \item Scripts \ref{sct:7} and \ref{sct:8}: $|f(b)-f(a)+g(b)-g(a)|\geq\epsilon$.
    %             %         \item Therefore: $|(f+g)(b)-(f+g)(a)|\geq\epsilon$.
    %             %     \end{itemize}
    %             %     \item If $\delta>\delta_2$:
    %             %     \begin{itemize}
    %             %         \item The above: There exist $c,d\in A$ with $|d-c|<\delta_2$ such that $|f(d)-f(c)|\geq 2\epsilon$.
    %             %         \item The above: $|g(d)-g(c)|<\epsilon$.
    %             %         \item Transitivity: $|d-c|<\delta$.
    %             %         \item Scripts \ref{sct:7} and \ref{sct:8}: $|f(d)-g(c)+f(d)-f(c)|\geq\epsilon$.
    %             %         \item Therefore: $|(f+g)(d)-(f+g)(c)|\geq\epsilon$.
    %             %     \end{itemize}
    %             % \end{itemize}
                
    %             % It follows from the above that there exist $a,b\in A$ with $|b-a|<\delta$ such that $|f(b)-f(a)|\geq 2\epsilon$. Additionally, since $g$ is uniformly continuous, we have by Definition \ref{dfn:13.1} that there exists a $\delta_2>0$ such that for all $x,y\in A$, if $|y-x|<\delta_2$, then $|g(y)-g(x)|<\epsilon$. We now divide into two cases ($\delta\leq\delta_2$ and $\delta>\delta_2$). If $\delta\leq\delta_2$, then since $|b-a|<\delta$, transitivity implies that $|b-a|<\delta_2$. It follows by the above that $|g(b)-g(a)|<\epsilon$. This combined with the fact that $|f(b)-f(a)|\geq 2\epsilon$ implies by Scripts \ref{sct:7} and \ref{sct:8} that $|f(b)-f(a)+g(b)-g(a)|\geq\epsilon$. Therefore, $|(f+g)(b)-(f+g)(a)|\geq\epsilon$, as desired. On the other hand, suppose $\delta>\delta_2$. We know by the above that there exist $c,d\in A$ with $|d-c|<\delta_2$ such that $|f(d)-f(c)|\geq 2\epsilon$. Additionally, we know that $|g(d)-g(c)|<\epsilon$. It follows from the previous two results as before that $|(f+g)(d)-(f+g)(c)|\geq\epsilon$, and since transitivity implies that $|d-c|<\delta_2<\delta$, we have proven the claim in this other case, too.

    %             To prove that $f+g$ is not uniformly continuous on $A$, the contrapositive of Definition \ref{dfn:13.1} tells us that it will suffice to find an $\epsilon>0$ such that for all $\delta>0$, there exist $x,y\in A$ with $|y-x|<\delta$ such that $|(f+g)(y)-(f+g)(x)|\geq\epsilon$. Since $f$ is not uniformly continuous, Definition \ref{dfn:13.1} tells us that there exists a number $2\epsilon>0$ such that for all $\delta_1>0$, there exist $x,y\in A$ with $|y-x|<\delta_1$ such that $|f(y)-f(x)|\geq 2\epsilon$. Choose $\frac{2\epsilon}{2}=\epsilon$ be our $\epsilon$. Let $\delta>0$ be arbitrary. Since $g$ is uniformly continuous, we have by Definition \ref{dfn:13.1} that there exists a $\delta_2>0$ such that for all $x,y\in A$, if $|y-x|<\delta_2$, then $|g(y)-g(x)|<\epsilon$. We now divide into two cases ($\delta\leq\delta_2$ and $\delta>\delta_2$). Suppose $\delta\leq\delta_2$. We know by the above that there exist $a,b\in A$ with $|b-a|<\delta$ such that $|f(b)-f(a)|\geq 2\epsilon$. Additionally, since $|b-a|<\delta$, transitivity implies that $|b-a|<\delta_2$. It follows by the above that $|g(b)-g(a)|<\epsilon$. This combined with the fact that $|f(b)-f(a)|\geq 2\epsilon$ implies by Scripts \ref{sct:7} and \ref{sct:8} that $|f(b)-f(a)+g(b)-g(a)|\geq\epsilon$. Therefore, $|(f+g)(b)-(f+g)(a)|\geq\epsilon$, as desired. On the other hand, suppose $\delta>\delta_2$. We know by the above that there exist $c,d\in A$ with $|d-c|<\delta_2$ such that $|f(d)-f(c)|\geq 2\epsilon$. Additionally, we know that $|g(d)-g(c)|<\epsilon$. It follows from the previous two results as before that $|(f+g)(d)-(f+g)(c)|\geq\epsilon$, and since transitivity implies that $|d-c|<\delta_2<\delta$, we have proven the claim in this case, too.
    %         \end{proof}
    %         \item For any constant $c\in\R$ such that $c\neq 0$, the function $c\cdot f$ is not uniformly continuous on $A$.
    %         \begin{proof}
    %             To prove that $c\cdot f$ is not uniformly continuous on $A$, the contrapositive of Definition \ref{dfn:13.1} tells us that it will suffice to find an $\epsilon>0$ such that for all $\delta>0$, there exist $x,y\in A$ with $|y-x|<\delta$ such that $|c\cdot f(y)-c\cdot f(x)|\geq\epsilon$. Since $f$ is not uniformly continuous, Definition \ref{dfn:13.1} tells us that there exists a number $\frac{\epsilon}{|c|}>0$ such that for all $\delta_1>0$, there exist $x,y\in A$ with $|y-x|<\delta_1$ such that $|f(y)-f(x)|\geq\frac{\epsilon}{|c|}$. Choose $|c|\cdot\frac{\epsilon}{|c|}=\epsilon$ to be our $\epsilon$. Let $\delta>0$ be arbitrary. We know by the above that there exist $a,b\in A$ with $|b-a|<\delta$ such that $|f(b)-f(a)|\geq\frac{\epsilon}{|c|}$. Therefore,
    %             \begin{align*}
    %                 |c|\cdot|f(b)-f(a)| &\geq \epsilon\\
    %                 |c\cdot f(b)-c\cdot f(a)| &\geq \epsilon
    %             \end{align*}
    %             as desired.
    %         \end{proof}
    %     \end{enumerate}
    % \end{lemma*}
    % \begin{proof}[Proof of Challenge]
    %     Suppose first that $\deg(p)\leq 1$. Then by Definition \ref{dfn:11.11}, $p(x)=ax+b$ where $a,b\in\R$. To prove that $p$ is uniformly continuous, Definition \ref{dfn:13.1} tells us that it will suffice to show that for all $\epsilon>0$, there exists a $\delta>0$ such that for all $x,y\in\R$, if $|y-x|<\delta$, then $|f(y)-f(x)|<\epsilon$. Let $\epsilon>0$ be arbitrary. We divide into two cases ($a=0$ and $a\neq 0$). If $a=0$, then choose $\delta=1$. Now let $x,y$ be arbitrary elements of $\R$ that satisfy $|y-x|<1$. Then by the definition of $f$, we have
    %     \begin{align*}
    %         |f(y)-f(x)| &= |0\cdot y+b-(0\cdot x+b)|\\
    %         &= |b-b|\\
    %         &= 0\\
    %         &< \epsilon
    %     \end{align*}
    %     as desired. If $a\neq 0$, then choose $\delta=\frac{\epsilon}{|a|}$. Now let $x,y$ be arbitrary elements of $\R$ that satisfy $|y-x|<\frac{\epsilon}{|a|}$. Then by the definition of $f$, we have
    %     \begin{align*}
    %         |f(y)-f(x)| &= |ay+b-(ax+b)|\\
    %         &= |ay-ax|\\
    %         &= |a|\cdot|y-x|\\
    %         &< |a|\cdot\frac{\epsilon}{|a|}\\
    %         &= \epsilon
    %     \end{align*}
    %     as desired.\par
    %     Now suppose that $\deg(p)>1$. Thus, by Definition \ref{dfn:11.11}, $p$ contains at least one term of the form $a_nx^n$ where $n>2$ and $a_n\neq 0$. Since $x^n$ is not uniformly continuous by Exercise \ref{exr:13.4} and $a_n\neq 0$, Lemma (b) implies that $a_nx^n$ is not uniformly continuous. It follows by Lemma (a) that $p$, as the sum of some uniformly continuous terms (at least 0) and some not uniformly continuous terms (at least $a_nx^n$), is not uniformly continuous.

    %     % This proof is not actually accurate. Maybe just prove that $a_{n+1}x^{n+1}+a_nx^n$ is not uniformly continuous for $n\geq 1$ and induct?
    % \end{proof}
\end{exercise}

\begin{exercise}\label{exr:13.5}
    Let $f$ and $g$ be uniformly continuous on $A\subset\R$. Show that
    \begin{enumerate}[label={(\alph*)}]
        \item The function $f+g$ is uniformly continuous on $A$.
        \item For any constant $c\in\R$, the function $c\cdot f$ is uniformly continuous on $A$.
    \end{enumerate}
    \begin{proof}[Proof of a]
        To prove that $f+g$ is uniformly continuous on $A$, Definition \ref{dfn:13.1} tells us that it will suffice to show that for all $\epsilon>0$, there exists a $\delta>0$ such that for all $x,y\in A$, if $|y-x|<\delta$, then $|(f+g)(y)-(f+g)(x)|<\epsilon$. Let $\epsilon>0$ be arbitrary. Since $f,g$ are uniformly continuous on $A$, consecutive applications of Definition \ref{dfn:13.1} reveal that there exist $\delta_1,\delta_2>0$ such that for all $x,y\in A$, $|y-x|<\delta_1$ implies $|f(y)-f(x)|<\frac{\epsilon}{2}$ and $|y-x|<\delta_2$ implies $|g(y)-f(x)|<\frac{\epsilon}{2}$. Choose $\delta=\min(\delta_1,\delta_2)$. Let $x,y$ be arbitrary elements of $A$ that satisfy $|y-x|<\delta$. It follows that $|y-x|<\delta_1$ (so $|f(y)-f(x)|<\frac{\epsilon}{2}$), and that $|y-x|<\delta_2$ (so $|g(y)-g(x)|<\frac{\epsilon}{2}$). These two results when combined imply by Script \ref{sct:7} that $|f(y)-f(x)|+|g(y)-g(x)|<\frac{\epsilon}{2}+\frac{\epsilon}{2}$. Therefore, since $|f(y)-f(x)+g(y)-g(x)|\leq|f(y)-f(x)|+|g(y)-g(x)|$ by Lemma \ref{lem:8.8}, we have that
        \begin{align*}
            |(f+g)(y)-(f+g)(x)| &= |f(y)-f(x)+g(y)-g(x)|\\
            &\leq |f(y)-f(x)|+|g(y)-g(x)|\\
            &< \frac{\epsilon}{2}+\frac{\epsilon}{2}\\
            &= \epsilon
        \end{align*}
        as desired.
    \end{proof}
    \begin{proof}[Proof of b]
        To prove that $c\cdot f$ is uniformly continuous on $A$, Definition \ref{dfn:13.1} tells us that it will suffice to show that for all $\epsilon>0$, there exists a $\delta>0$ such that for all $x,y\in A$, if $|y-x|<\delta$, then $|c\cdot f(y)-c\cdot f(x)|<\epsilon$. Let $\epsilon>0$ be arbitrary. We divide into two cases ($c=0$ and $c\neq 0$). Suppose first that $c=0$. Choose $\delta=1$. Let $x,y$ be arbitrary elements of $A$ that satisfy $|y-x|<\delta$. It follows that $|0\cdot f(y)-0\cdot f(x)|=0<\epsilon$, as desired. Now suppose that $c\neq 0$. Then since $f$ is uniformly continuous on $A$, Definition \ref{dfn:13.1} tells us that there exists a $\delta>0$ such that for all $x,y\in A$, if $|y-x|<\delta$, then $|f(y)-f(x)|<\frac{\epsilon}{|c|}$. Choose this $\delta$ to be our $\delta$. Let $x,y$ be arbitrary elements of $A$ that satisfy $|y-x|<\delta$. Then by the above, we have that $|f(y)-f(x)|<\frac{\epsilon}{|c|}$. Therefore, $|c|\cdot|f(y)-f(x)|<\epsilon$, so we have that $|c\cdot f(y)-c\cdot f(x)|<\epsilon$, as desired.
    \end{proof}
\end{exercise}

\begin{theorem}\label{trm:13.6}\marginnote{\emph{4/13:}}
    Suppose that $X\subset\R$ is compact and $f:X\to\R$ is continuous. Then $f$ is uniformly continuous.
    \begin{proof}
        % \begin{itemize}
        %     \item Theorem \ref{trm:9.10}: $f$ is continuous at every $x\in X$.
        %     \item Theorem \ref{trm:11.5}: For every $x\in X$, there exists a $\delta_x>0$ such that if $y\in X$ and $|y-x|<\delta_x$, then $|f(y)-f(x)|<\frac{\epsilon}{2}$.
        %     \item Let $\mathcal{G}=\{(x-\frac{\delta_x}{2},x+\frac{\delta_x}{2})\mid x\in X\}$.
        %     \item (Confirm $\mathcal{G}$ is an open cover of $X$) Definition \ref{dfn:10.3}: Demonstrate that every $x\in X$ is an element of $(x-\frac{\delta_x}{2},x+\frac{\delta_x}{2})$ for some $(x-\frac{\delta_x}{2},x+\frac{\delta_x}{2})\in\mathcal{G}$.
        %     \begin{itemize}
        %         \item Let $x$ be an arbitrary element of $X$.
        %         \item Exercise \ref{exr:8.9}: $|x-x|=0<\frac{\delta_x}{2} \Rightarrow x\in(x-\frac{\delta_x}{2},x+\frac{\delta_x}{2})$.
        %         \item The above: $(x-\frac{\delta_x}{2},x+\frac{\delta_x}{2})\in\mathcal{G}$.
        %         \item We are done.
        %     \end{itemize}
        %     \item Definition \ref{dfn:10.4}: There exists a finite subset $\mathcal{G}'$ of $\mathcal{G}$ that is also an open cover of $X$.
        %     \item $\mathcal{G}'$ will be of the form $\{(x_i-\frac{\delta_{x_i}}{2},x+\frac{\delta_{x_i}}{2})\mid 1\leq i\leq n\}$.
        %     \item Choose $\delta=\min_{1\leq i\leq n}(\frac{\delta_{x_i}}{2})$.
        %     \item Let $x,y$ be arbitrary elements of $X$ that satisfy $|y-x|<\delta$.
        %     \item Definition \ref{dfn:10.3}: $x\in(x_i-\frac{\delta_{x_i}}{2},x_i+\frac{\delta_{x_i}}{2})$ for some $(x_i-\frac{\delta_{x_i}}{2},x_i+\frac{\delta_{x_i}}{2})\in\mathcal{G}'$.
        %     \item Exercise \ref{exr:8.9}: $|x-x_i|<\frac{\delta_{x_i}}{2}$.
        %     \item Script \ref{sct:7}: $|y-x|+|x-x_i|<\delta+\frac{\delta_{x_i}}{2}$.
        %     \item By definition: $\delta\leq\frac{\delta_{x_i}}{2}$.
        %     \item Combining the last few results:
        %     \begin{align*}
        %         |y-x_i| &\leq |y-x|+|x-x_i|\tag*{Lemma \ref{lem:8.8}}\\
        %         &< \delta+\frac{\delta_{x_i}}{2}\\
        %         &\leq \frac{\delta_{x_i}}{2}+\frac{\delta_{x_i}}{2}\\
        %         &= \delta_{x_i}
        %     \end{align*}
        %     \item The above: $|f(y)-f(x_i)|<\frac{\epsilon}{2}$.
        %     \item Additionally: $|x-x_i|<\frac{\delta_{x_i}}{2}<\delta_{x_i}$.
        %     \item The above: $|f(x)-f(x_i)|<\frac{\epsilon}{2}$.
        %     \item Script \ref{sct:7}: $|f(y)-f(x_i)|+|f(x)-f(x_i)|<\frac{\epsilon}{2}+\frac{\epsilon}{2}$.
        %     \item Combining the last few results:
        %     \begin{align*}
        %         |f(y)-f(x)| &\leq |f(y)-f(x_i)|+|f(x_i)-f(x)|\tag*{Lemma \ref{lem:8.8}}\\
        %         &= |f(y)-f(x_i)|+|f(x)-f(x_i)|\tag*{Exercise \ref{exr:8.5}}\\
        %         &< \frac{\epsilon}{2}+\frac{\epsilon}{2}\\
        %         &= \epsilon
        %     \end{align*}
        % \end{itemize}

        To prove that $f$ is uniformly continuous, Definition \ref{dfn:13.1} tells us that it will suffice to show that for all $\epsilon>0$, there exists a $\delta>0$ such that for all $x,y\in A$, if $|y-x|<\delta$, then $|f(y)-f(x)|<\epsilon$. Let $\epsilon>0$ be arbitrary. Since $f$ is continuous on $X$, Theorem \ref{trm:9.10} asserts that $f$ is continuous at every $x\in X$. Thus, by Theorem \ref{trm:11.5}, for every $x\in X$, there exists a $\delta_x>0$ such that if $y\in X$ and $|y-x|<\delta_x$, then $|f(y)-f(x)|<\frac{\epsilon}{2}$. Let $\mathcal{G}=\{(x-\frac{\delta_x}{2},x+\frac{\delta_x}{2})\mid x\in X\}$. We will now confirm that $\mathcal{G}$ is an open cover of $X$. To do so, Definition \ref{dfn:10.3} tells us that it will suffice to demonstrate that every $x\in X$ is an element of $(x-\frac{\delta_x}{2},x+\frac{\delta_x}{2})$ for some $(x-\frac{\delta_x}{2},x+\frac{\delta_x}{2})\in\mathcal{G}$. Let $x$ be an arbitrary element of $X$. We know that $|x-x|=0<\frac{\delta_x}{2}$. Thus, by Exercise \ref{exr:8.9}, we have that $x\in(x-\frac{\delta_x}{2},x+\frac{\delta_x}{2})$. Since it follows from the above that $(x-\frac{\delta_x}{2},x+\frac{\delta_x}{2})\in\mathcal{G}$, we are done.\par
        Having shown that $\mathcal{G}$ is an open cover of $X$, the fact that $X$ is compact implies by Definition \ref{dfn:10.4} that there exists a finite subset $\mathcal{G}'$ of $\mathcal{G}$ that is also an open cover of $X$. It follows that $\mathcal{G}'$ will be of the form $\{(x_i-\frac{\delta_{x_i}}{2},x+\frac{\delta_{x_i}}{2})\mid 1\leq i\leq n\}$ where $n$ is some natural number. Thus, choose $\delta=\min_{1\leq i\leq n}(\frac{\delta_{x_i}}{2})$.\par
        Let $x,y$ be arbitrary elements of $X$ that satisfy $|y-x|<\delta$. Since $\mathcal{G}'$ is an open cover of $X$, Definition \ref{dfn:10.3} implies that $x\in(x_i-\frac{\delta_{x_i}}{2},x_i+\frac{\delta_{x_i}}{2})$ for some $(x_i-\frac{\delta_{x_i}}{2},x_i+\frac{\delta_{x_i}}{2})\in\mathcal{G}'$. Considering this $x_i$ more closely, we can determine from the previous result and Exercise \ref{exr:8.9} that $|x-x_i|<\frac{\delta_{x_i}}{2}$. This combined with the hypothesis that $|y-x|<\delta$ implies by Script \ref{sct:7} that $|y-x|+|x-x_i|<\delta+\frac{\delta_{x_i}}{2}$. Additionally, note that by definition, $\delta\leq\frac{\delta_{x_i}}{2}$. Thus, combining the last few results, we have that
        \begin{align*}
            |y-x_i| &\leq |y-x|+|x-x_i|\tag*{Lemma \ref{lem:8.8}}\\
            &< \delta+\frac{\delta_{x_i}}{2}\\
            &\leq \frac{\delta_{x_i}}{2}+\frac{\delta_{x_i}}{2}\\
            &= \delta_{x_i}
        \end{align*}\par
        At this point, we know that $|x-x_i|<\frac{\delta_{x_i}}{2}<\delta_{x_i}$ and that $|y-x_i|<\delta_{x_i}$. It follows by consecutive applications of the above that $|f(x)-f(x_i)|<\frac{\epsilon}{2}$ and $|f(y)-f(x_i)|<\frac{\epsilon}{2}$, respectively. Consequently, we have by Script \ref{sct:7} that $|f(y)-f(x_i)|+|f(x)-f(x_i)|<\frac{\epsilon}{2}+\frac{\epsilon}{2}$. Therefore, if we combine the last several results, we get
        \begin{align*}
            |f(y)-f(x)| &\leq |f(y)-f(x_i)|+|f(x_i)-f(x)|\tag*{Lemma \ref{lem:8.8}}\\
            &= |f(y)-f(x_i)|+|f(x)-f(x_i)|\tag*{Exercise \ref{exr:8.5}}\\
            &< \frac{\epsilon}{2}+\frac{\epsilon}{2}\\
            &= \epsilon
        \end{align*}
        as desired.
    \end{proof}
\end{theorem}

\begin{exercise}\label{exr:13.7}
    Prove that $f(x)=\sqrt{x}$ is uniformly continuous on $A=[0,+\infty)$.
    \begin{lemma*}
        Let $x,y$ be arbitrary elements of $A$. Then $|\sqrt{y}-\sqrt{x}|^2\leq|(\sqrt{y}-\sqrt{x})(\sqrt{y}+\sqrt{x})|$.
        \begin{proof}
            We will first verify that $|\sqrt{y}-\sqrt{x}|\leq|\sqrt{y}+\sqrt{x}|$. To do so, we divide into two cases ($\sqrt{y}\geq\sqrt{x}$ and $\sqrt{y}<\sqrt{x}$). If $\sqrt{y}\geq\sqrt{x}$, then by Definition \ref{dfn:7.21}, $\sqrt{y}-\sqrt{x}\geq 0$. It follows by Definition \ref{dfn:8.4} that $|\sqrt{y}-\sqrt{x}|=\sqrt{y}-\sqrt{x}$. Additionally, we have by an extension of Exercise \ref{exr:12.22} that $\sqrt{x}\geq 0$, implying that $2\sqrt{x}\geq 0$ by Definition \ref{dfn:7.21}. Thus, combining the last few results, we have that $|\sqrt{y}-\sqrt{x}|=\sqrt{y}-\sqrt{x}\leq\sqrt{y}-\sqrt{x}+2\sqrt{x}=\sqrt{y}+\sqrt{x}$. Consequently, we know that $0\leq|\sqrt{y}-\sqrt{x}|\leq\sqrt{y}+\sqrt{x}$, so Definition \ref{dfn:8.4} implies that $|\sqrt{y}+\sqrt{x}|=\sqrt{y}+\sqrt{x}$. Therefore, we have that $|\sqrt{y}-\sqrt{x}|\leq\sqrt{y}+\sqrt{x}=|\sqrt{y}+\sqrt{x}|$, as desired. The argument is symmetric in the other case.\par
            Having established that $|\sqrt{y}-\sqrt{x}|\leq|\sqrt{y}+\sqrt{x}|$ and knowing that $0\leq|\sqrt{y}-\sqrt{x}|$, we have by Lemma \ref{lem:7.24} that $|\sqrt{y}-\sqrt{x}|\cdot|\sqrt{y}-\sqrt{x}|\leq|\sqrt{y}+\sqrt{x}|\cdot|\sqrt{y}-\sqrt{x}|$. It follows by basic algebra that $|\sqrt{y}-\sqrt{x}|^2\leq|(\sqrt{y}-\sqrt{x})(\sqrt{y}+\sqrt{x})|$, as desired.
        \end{proof}
    \end{lemma*}
    \begin{proof}[Proof of Exercise \ref{exr:13.7}]
        To prove that $f$ is uniformly continuous on $A$, Definition \ref{dfn:13.1} tells us that it will suffice to show that for all $\epsilon>0$, there exists a $\delta>0$ such that for all $x,y\in A$, if $|y-x|<\delta$, then $|f(y)-f(x)|<\epsilon$. Let $\epsilon>0$ be arbitrary. Choose $\delta=\epsilon^2$. Let $x,y$ be arbitrary elements of $X$ that satisfy $|y-x|<\delta$. Thus, since $(\sqrt{y}-\sqrt{x})(\sqrt{y}+\sqrt{x})=y-x$, the lemma asserts that $|\sqrt{y}-\sqrt{x}|^2\leq|(\sqrt{y}-\sqrt{x})(\sqrt{y}+\sqrt{x})|=|y-x|<\epsilon^2$. Therefore, by Script \ref{sct:7}, $|\sqrt{y}-\sqrt{x}|<\epsilon$, i.e., $|f(y)-f(x)|<\epsilon$, as desired.
    \end{proof}
\end{exercise}

\begin{corollary}\label{cly:13.8}
    Suppose that $f:[a,b]\to\R$ is continuous. Then $f$ is uniformly continuous.
    \begin{proof}
        By Theorem \ref{trm:10.14}, $[a,b]$ is compact. This combined with the hypothesis that $f$ is continuous proves by Theorem \ref{trm:13.6} that $f$ is uniformly continuous.
    \end{proof}
\end{corollary}

\begin{exercise}\label{exr:13.9}
    Show that if $f$ and $g$ are bounded on $A$ and uniformly continuous on $A$, then $fg$ is uniformly continuous on $A$.
    \begin{proof}
        To prove that $fg$ is uniformly continuous on $A$, Definition \ref{dfn:13.1} tells us that it will suffice to show that for all $\epsilon>0$, there exists a $\delta>0$ such that for all $x,y\in A$, if $|y-x|<\delta$, then $|(fg)(y)-(fg)(x)|<\epsilon$. Let $\epsilon>0$ be arbitrary.\par
        Since $f$ is bounded on $A$, Definition \ref{dfn:10.1} implies that $f(A)$ is a bounded subset of $\R$. Thus, by consecutive applications of Definition \ref{dfn:5.6}, there exist numbers $l,u$ such that for all $f(x)\in f(A)$, $l\leq f(x)\leq u$. Let $a=\max(|l|,|u|)+1$. It follows by Scripts \ref{sct:7} and \ref{sct:8} that $-a<f(x)<a$ for all $f(x)\in f(A)$. Thus, by the lemma from Exercise \ref{exr:8.9}, $|f(x)|<a$ for all $f(x)\in f(A)$. Similarly, there exists a number $b$ such that $|g(x)|<b$ for all $g(x)\in g(A)$.\par
        Since $f$ is uniformly continuous on $A$, Definition \ref{dfn:13.1} implies that there exists a $\delta_1>0$ such that for all $x,y\in A$, if $|y-x|<\delta_1$, then $|f(y)-f(x)|<\frac{\epsilon}{2b}$. Similarly, there exists a $\delta_2>0$ such that for all $x,y\in A$, if $|y-x|<\delta_2$, then $|g(y)-g(x)|<\frac{\epsilon}{2a}$. Choose $\delta=\min(\delta_1,\delta_2)$. Let $x,y$ be arbitrary elements of $A$ that satisfy $|y-x|<\delta$. It follows by consecutive applications of the above that $|f(x)|<a$ and $|g(y)|<b$. Additionally, $|y-x|<\delta\leq\delta_1$ implies that $|f(y)-f(x)|<\frac{\epsilon}{2b}$ and $|y-x|<\delta\leq\delta_2$ implies that $|g(y)-g(x)|<\frac{\epsilon}{2a}$. Therefore, combining the last four results, we have that
        \begin{align*}
            |(fg)(y)-(fg)(x)| &= |f(x)g(x)-f(y)g(y)|\\
            &= |f(x)g(x)-f(x)g(y)+f(x)g(y)-f(y)g(y)|\\
            &= |f(x)(g(x)-g(y))+g(y)(f(x)-f(y))|\\
            &\leq |f(x)|\cdot|g(x)-g(y)|+|g(y)|\cdot|f(x)-f(y)|\tag*{Lemma \ref{lem:8.8}}\\
            &< a\cdot\frac{\epsilon}{2a}+b\cdot\frac{\epsilon}{2b}\\
            &= \epsilon
        \end{align*}
        as desired.
    \end{proof}
\end{exercise}

\begin{definition}\label{dfn:13.10}\marginnote{4/15:}
    A \textbf{partition} of the interval $[a,b]$ is a finite set of points in $[a,b]$ that includes $a$ and $b$. We usually write partitions as $P=\{t_0,t_1,\dots,t_n\}$, with the convention that
    \begin{equation*}
        a = t_0 < t_1 < \cdots < t_{n-1} < t_n = b
    \end{equation*}
    If $P$ and $Q$ are partitions of the interval $[a,b]$ and $P\subset Q$, we refer to $Q$ as a \textbf{refinement} of $P$.
\end{definition}

\begin{definition}\label{dfn:13.11}
    Suppose that $f:[a,b]\to\R$ is bounded and that $P=\{t_0,\dots,t_n\}$ is a partition of $[a,b]$. Define
    \begin{align*}
        m_i(f) &= \inf\{f(x)\mid t_{i-1}\leq x\leq t_i\}&
        M_i(f) &= \sup\{f(x)\mid t_{i-1}\leq x\leq t_i\}
    \end{align*}
    The \textbf{lower sum} of $f$ for the partition $P$ is the number
    \begin{equation*}
        L(f,P) = \sum_{i=1}^nm_i(f)(t_i-t_{i-1})
    \end{equation*}
    The \textbf{upper sum} of $f$ for the partition $P$ is the number
    \begin{equation*}
        U(f,P) = \sum_{i=1}^nM_i(f)(t_i-t_{i-1})
    \end{equation*}
    Notice that it is always the case that $L(f,P)\leq U(f,P)$.
\end{definition}

\begin{lemma}\label{lem:13.12}
    Suppose that $P$ and $Q$ are partitions of $[a,b]$ and that $Q$ is a refinement of $P$. Then $L(f,P)\leq L(f,Q)$ and $U(f,P)\geq U(f,Q)$.
    \begin{lemma*}
        Let $P$ be a partition of $[a,b]$ and let $y$ be an arbitrary element of $[a,b]\setminus P$. Then $L(f,P)\leq L(f,P\cup\{y\})$ and $U(f,P)\geq U(f,P\cup\{y\})$.
        \begin{proof}
            We will prove that $L(f,P)\leq L(f,P\cup\{y\})$. The proof will be symmetric in the other case. Let's begin.\par
            By Definition \ref{dfn:13.10}, $P$ is of the form $\{t_0,\dots,t_n\}$ where $a=t_0<\cdots<t_n=b$. This combined with the hypothesis that $y\in[a,b]\setminus P$ implies by Theorem \ref{trm:3.5} that $a=t_0<\cdots<t_{k-1}<y<t_k<\cdots<t_n=b$. Thus, we have by consecutive applications of Definition \ref{dfn:13.11} that
            \begin{align*}
                L(f,P) &= \sum_{i=1}^nm_i(f)(t_i-t_{i-1})\\
                &= \sum_{i=1}^{k-1}m_i(f)(t_i-t_{i-1})+m_k(f)(t_k-t_{k-1})+\sum_{i=k+1}^nm_i(f)(t_i-t_{i-1})
            \end{align*}
            and that
            \begin{equation*}
                L(f,P\cup\{y\}) = \sum_{i=1}^{k-1}m_i(f)(t_i-t_{i-1})+m_y^-(f)(y-t_{k-1})+m_y^+(f)(t_k-y)+\sum_{i=k+1}^nm_i(f)(t_i-t_{i-1})
            \end{equation*}
            where
            \begin{align*}
                m_y^-(f) &= \inf\{f(x)\mid t_{k-1}\leq x\leq y\}&
                m_y^+(f) &= \inf\{f(x)\mid y\leq x\leq t_k\}
            \end{align*}\par
            As such, to prove that $L(f,P)\leq L(f,P\cup\{y\})$, it will suffice to show that $m_k(f)(t_k-t_{k-1})\leq m_y^-(f)(y-t_{k-1})+m_y^+(f)(t_k-y)$. To do so, it will suffice to show that $m_k(f)(y-t_{k-1})+m_k(f)(t_k-y)\leq m_y^-(f)(y-t_{k-1})+m_y^+(f)(t_k-y)$, i.e., that $m_k(f)(y-t_{k-1})\leq m_y^-(f)(y-t_{k-1})$ and that $m_k(f)(t_k-y)\leq m_y^+(f)(t_k-y)$, i.e., that $m_k(f)\leq m_y^-(f)$ and that $m_k(f)\leq m_y^+(f)$.\par
            For the sake of proving the first expression, let $A=\{f(x)\mid t_{k-1}<x<t_k\}$ and let $B=\{f(x)\mid t_{k-1}\leq x\leq y\}$. It follows by Definition \ref{dfn:13.10} that $m_k(f)=\inf A$ and $m_y^-(f)=\inf B$. Thus, we need only show that $\inf A\leq\inf B$. Since $y<t_k$, we know by Script \ref{sct:1} that $B\subset A$. Thus, since $\inf A$ is a lower bound on $A$, Script \ref{sct:5} implies that it is also a lower bound on $B$. Consequently, by Definition \ref{dfn:5.7}, $\inf A\leq\inf B$, as desired.\par
            The argument is symmetric for the other statement.
        \end{proof}
    \end{lemma*}
    \begin{proof}[Proof of Lemma \ref{lem:13.12}]
        % \begin{itemize}
        %     \item First address the $L(f,P)\leq L(f,Q)$ statement.
        %     \item Definition \ref{dfn:13.10}: $P\subset Q$.
        %     \item Theorem \ref{exr:1.34}: $|P|\leq|Q|$, $|Q|=|P|+|Q\setminus P|$, $|Q\setminus P|=n\in\Z^+$.
        %     \item We divide into two cases ($n=0$ and $n\in\N$).
        %     \item If $n=0$:
        %     \begin{itemize}
        %         \item $P=Q$.
        %         \item Therefore, $L(f,P)=L(f,Q)$, so we can weaken this to $L(f,P)\leq L(f,Q)$.
        %     \end{itemize}
        %     \item If $n\in\N$, we continue.
        %     \item We induct on $n$.
        %     \item For the base case $n=1$:
        %     \begin{itemize}
        %         \item Script \ref{sct:1}: $|Q\setminus P|=1$ implies that $Q=P\cup\{x\}$ where $x\notin P$.
        %         \item Lemma: $L(f,P)\leq L(f,Q)$
        %     \end{itemize}
        %     \item Now suppose inductively that the claim holds for $n$. We now seek to prove it for $n+1$.
        %     \begin{itemize}
        %         \item Let $x$ be an arbitrary element of $Q\setminus P$.
        %         \item Script \ref{sct:1}: $|(Q\setminus\{x\})\setminus P|=n$.
        %         \item Inductive hypothesis: $L(f,P)\leq L(f,Q\setminus\{x\})$.
        %         \item Lemma: $L(f,Q\setminus\{x\})\leq L(f,Q)$.
        %         \item Transitivity: $L(f,P)\leq L(f,Q)$.
        %     \end{itemize}
        %     \item The proof is symmetric in the other direction.
        % \end{itemize}

        We will prove that $L(f,P)\leq L(f,Q)$. The proof will be symmetric in the other case. Let's begin.\par
        By Definition \ref{dfn:13.10}, $P\subset Q$. Thus, by Theorem \ref{exr:1.34}, $|P|\leq|Q|$. It follows by Script \ref{sct:1} that $|Q|-|P|=n\in\Z^+$. Thus, to prove the claim for $P$ and $Q$ in general, it will suffice to prove it for each $n$. To do so, we divide into two cases ($n=0$ and $n\in\N$). If $n=0$, then $|P|=|Q|$. This combined with the fact that $P\subset Q$ implies by Script \ref{sct:1} that $P=Q$. Therefore, $L(f,P)=L(f,Q)$, which we can weaken to $L(f,P)\leq L(f,Q)$, as desired.\par
        On the other hand, if $n\in\N$, then we induct on $n$. For the base case $n=1$, we have by Script \ref{sct:1} that $Q=P\cup\{y\}$ where $y\notin P$. Therefore, by the lemma, we have that $L(f,P)\leq L(f,P\cup\{y\})=L(f,Q)$, as desired. Now suppose inductively that the claim holds or $n$; we wish to prove it for $n+1$. Let $y$ be an arbitrary element of $Q$. Then by Script \ref{sct:1}, $|Q\setminus\{y\}|-|P|=n$. Thus, by the inductive hypothesis, $L(f,P)\leq L(f,Q\setminus\{x\})$. Additionally, by the lemma, $L(f,Q\setminus\{x\})\leq L(f,Q)$. Therefore, by transitivity, $L(f,P)\leq L(f,Q)$, as desired.
    \end{proof}
\end{lemma}

\begin{theorem}\label{trm:13.13}
    Let $P_1$ and $P_2$ be partitions of $[a,b]$ and suppose that $f:[a,b]\to\R$ is bounded. Then $L(f,P_1)\leq U(f,P_2)$.
    \begin{proof}
        To confirm that $P_1\cup P_2$ is a partition of $[a,b]$, Definition \ref{dfn:13.10} tells us that it will suffice to demonstrate that it is a finite set, that it is a subset of $[a,b]$, and that it includes $a$ and $b$. Since $P_1,P_2$ are partitions of $[a,b]$, Definition \ref{dfn:13.10} implies that they are finite subsets of $[a,b]$ that contain $a,b$. It follows by Script \ref{sct:1} that their union is finite, a subset of $[a,b]$, and a set containing $a$ and $b$. Additionally, we have by Theorem \ref{trm:1.7} that $P_1\subset P_1\cup P_2$ and that $P_2\subset P_1\cup P_2$. Combining the last two results with consecutive applications of Definition \ref{dfn:13.10} reveals that $P_1\cup P_2$ is a refinement of both $P_1$ and $P_2$.\par
        Since $P_1$ and $P_1\cup P_2$ are partitions of $[a,b]$ and $P_1\cup P_2$ is a refinement of $P_1$, Lemma \ref{lem:13.12} implies that $L(f,P_1)\leq L(f,P_1\cup P_2)$. Similarly, $U(f,P_1\cup P_2)\leq U(f,P_2)$. Additionally, we have by Definition \ref{dfn:13.11} that $L(f,P_1\cup P_2)\leq U(f,P_1\cup P_2)$. Therefore, if we combine the last three results with transitivity, we have that $L(f,P_1)\leq U(f,P_2)$, as desired.
    \end{proof}
\end{theorem}

\begin{definition}\label{dfn:13.14}
    Let $f:[a,b]\to\R$ be bounded. We define
    \begin{align*}
        L(f) &= \sup\{L(f,P)\mid P\text{ is a partition of }[a,b]\}&
        U(f) &= \inf\{U(f,P)\mid P\text{ is a partition of }[a,b]\}
    \end{align*}
    to be, respectively, the \textbf{lower integral} and \textbf{upper integral} of $f$ from $a$ to $b$.
\end{definition}

\begin{exercise}\label{exr:13.15}
    Why do $L(f)$ and $U(f)$ exist? Find a function $f$ for which $L(f)=U(f)$. Find a function $f$ for which $L(f)\neq U(f)$. Prove that $L(f)\leq U(f)$.
    \begin{lemma*}
        Given $a,b\in\R$ with $a<b$, there exists $p\in\R$ such that $p\notin\Q$ and $a<p<b$.
        \begin{proof}
            By Definition \ref{dfn:7.21}, $a+\sqrt{2}<b+\sqrt{2}$. Thus, by Lemma \ref{lem:6.10}, there exists a point $\frac{c}{d}\in\Q$ such that $a+\sqrt{2}<\frac{c}{d}<b+\sqrt{2}$. It follows that $a<\frac{c}{d}-\sqrt{2}<b$.\par
            Now suppose for the sake of contradiction that $\frac{c}{d}-\sqrt{2}$ is rational. Then by Script \ref{sct:2}, $\frac{c}{d}-\sqrt{2}=\frac{e}{f}$ where $e,f\in\Z$ and $f\neq 0$. It follows by Theorem \ref{trm:2.10} that $\sqrt{2}=\frac{cf-de}{df}$, i.e., that $\sqrt{2}$ is rational. But by the proof of Exercise \ref{exr:4.24}, $\sqrt{2}$ is not rational, a contradiction.
        \end{proof}
    \end{lemma*}
    \begin{proof}[Proof of Exercise \ref{exr:13.15}]
        Let $A=\{L(f,P)\mid P\text{ is a partition of }[a,b]\}$. To prove that $L(f)=\sup A$ exists, Theorem \ref{trm:5.17} tells us that it will suffice to show that $A$ is nonempty and bounded above.\par
        To confirm that $A$ is nonempty, Definition \ref{dfn:1.8} tells us that it will suffice to find an element of it. Since $\{a,b\}$ is a finite set of points in $[a,b]$ that includes $a$ and $b$ (by Script \ref{sct:1}), Definition \ref{dfn:13.10} asserts that $\{a,b\}$ is a partition of $[a,b]$. It follows by Definition \ref{dfn:13.11} that $L(f,\{a,b\})$ exists. Therefore, by the definition of $A$, we have that $L(f,\{a,b\})\in A$, as desired.\par
        To confirm that $A$ is bounded above, Definition \ref{dfn:5.6} tells us that it will suffice to find a point in $u\in\R$ such that for all $L(f,P)\in A$, $L(f,P)\leq u$. Let $u=U(f,\{a,b\})$ (since $\{a,b\}$ is a partition of $[a,b]$ by the above, Definition \ref{dfn:13.10} guarantees that $U(f,\{a,b\})$ exists). Now let $L(f,P)$ be an arbitrary element of $A$. It follows from Theorem \ref{trm:13.13} that $L(f,P)\leq U(f,\{a,b\})=u$, as desired.\par
        The proof is symmetric for $U(f)$.\par\medskip
        Let $f:[0,1]\to\R$ be defined by $f(x)=0$. To prove that $L(f)=U(f)$, it will suffice to show that $L(f)=0$ and $U(f)=0$. To do this, Script \ref{sct:5} tells us that it will suffice to verify that $\{L(f,P)\mid P\text{ is a partition of }[a,b]\}=\{0\}$ and $\{U(f,P)\mid P\text{ is a partition of }[a,b]\}=\{0\}$. We will start with the first equality.\par
        Let $L(f,P)$ be an arbitrary element of $\{L(f,P)\mid P\text{ is a partition of }[a,b]\}$. Since we have
        \begin{align*}
            m_i(f) &= \inf\{f(x)\mid t_{i-1}\leq x\leq t_i\}\\
            &= \inf\{0\mid t_{i-1}\leq x\leq t_i\}\\
            &= \inf\{0\}\\
            &= 0
        \end{align*}
        for all $m_i(f)$, it follows that
        \begin{align*}
            L(f,P) &= \sum_{i=1}^nm_i(f)(t_i-t_{i-1})\\
            &= \sum_{i=1}^n 0(t_i-t_{i-1})\\
            &= 0
        \end{align*}
        Therefore, since every element of $\{L(f,P)\mid P\text{ is a partition of }[a,b]\}$ is equal to 0, the set is equal to the singleton set containing 0. The argument is symmetric for the other equality.\par\medskip
        Let $f:[0,1]\to\R$ be defined by
        \begin{equation*}
            f(x) =
            \begin{cases}
                1 & x\in\Q\\
                0 & x\notin\Q
            \end{cases}
        \end{equation*}
        To prove that $L(f)\neq U(f)$, it will suffice to show that $L(f)=0$ and $U(f)=1$. To do this, Script \ref{sct:5} tells us that it will suffice to verify that $\{L(f,P)\mid P\text{ is a partition of }[a,b]\}=\{0\}$ and $\{U(f,P)\mid P\text{ is a partition of }[a,b]\}=\{1\}$. We will start with the first equality.\par
        Let $L(f,P)$ be an arbitrary element of $\{L(f,P)\mid P\text{ is a partition of }[a,b]\}$. To confirm that $L(f,P)=0$, Definition \ref{dfn:13.11} tells us that it will suffice to demonstrate that $m_i(f)=0$ for all $m_i(f)$. Let $m_i(f)$ be an arbitrary such object. By Definition \ref{dfn:13.10}, $m_i(f)=\inf\{f(x)\mid t_{i-1}\leq x\leq t_i\}$. By the lemma, there exists $p\in\R$ such that $p\notin\Q$ and $t_{i-1}\leq p\leq t_i$. Thus, since $f(p)=0$, $0\in\{f(x)\mid t_{i-1}\leq x\leq t_i\}$. Additionally, since $f(x)\not<0$ for any $x\in[0,1]$ by definition, we have that $m_i(f)=0$. Therefore, since every element of $\{L(f,P)\mid P\text{ is a partition of }[a,b]\}$ is equal to 0, the set is equal to the singleton set containing 0.\par
        As to the other equality, let $U(f,P)$ be an arbitrary element of $\{U(f,P)\mid P\text{ is a partition of }[a,b]\}$. To confirm that $U(f,P)=1$, Definition \ref{dfn:13.11} tells us that we must first demonstrate that $M_i(f)=1$ for all $M_i(f)$. Let $M_i(f)$ be an arbitrary such object. By Definition \ref{dfn:13.10}, $M_i(f)=\sup\{f(x)\mid t_{i-1}\leq x\leq t_i\}$. By Lemma \ref{lem:6.10}, there exists $p\in\Q$ such that $t_{i-1}\leq p\leq t_i$. Thus, since $f(p)=1$, $1\in\{f(x)\mid t_{i-1}\leq x\leq t_i\}$. Additionally, since $f(x)\not>1$ for any $x\in[0,1]$ by definition, we have that $M_i(f)=1$. It follows by Definition \ref{dfn:13.11} that
        \begin{align*}
            U(f,P) &= \sum_{i=1}^nM_i(f)(t_i-t_{i-1})\\
            &= \sum_{i=1}^n(t_i-t_{i-1})\\
            &= t_n-t_0\\
            &= 1-0\\
            &= 1
        \end{align*}
        Therefore, since every element of $\{U(f,P)\mid P\text{ is a partition of }[a,b]\}$ is equal to 1, the set is equal to the singleton set containing 1.\par\medskip
        Suppose for the sake of contradiction that there exists a function $f:[a,b]\to\R$ for which $U(f)<L(f)$. It follows by consecutive applications of Definition \ref{dfn:13.14} and Lemma \ref{lem:5.11} that there exists an $L(f,P_1)$ such that $U(f)<L(f,P_1)\leq L(f)$, and thus that there exists a $U(f,P_2)$ such that $U(f)\leq U(f,P_2)<L(f,P_1)$. But this means that there exist partitions $P_1,P_2$ of $[a,b]$ such that $L(f,P_1)>U(f,P_2)$, contradicting Theorem \ref{trm:13.13}.
    \end{proof}
\end{exercise}

\begin{definition}\label{dfn:13.16}
    Let $f:[a,b]\to\R$ be bounded. We say that $f$ is \textbf{integrable} on $[a,b]$ if $L(f)=U(f)$. In this case, the common value $L(f)=U(f)$ is called the \textbf{integral} of $f$ from $a$ to $b$ and we write it as
    \begin{equation*}
        \int_a^bf
    \end{equation*}
    Note that if $f$ is an integrable function on $[a,b]$, it is necessarily bounded.\par
    When we want to display the variable of integration, we write the integral as follows, including the symbol $\dd{x}$ to indicate that variable of integration:
    \begin{equation*}
        \int_a^bf(x)\dd{x}
    \end{equation*}
    For example, if $f(x)=x^2$, we could write $\int_a^bx^2\dd{x}$ but not $\int_a^bx^2$.
\end{definition}

\begin{exercise}\label{exr:13.17}
    Fix $c\in\R$ and let $f:[a,b]\to\R$ be defined by $f(x)=c$, for each $x\in[a,b]$. Show that $f$ is integrable on $[a,b]$ and that $\int_a^bf=c(b-a)$.
    \begin{proof}
        To prove that $f$ is integrable on $[a,b]$ and that $\int_a^bf=c(b-a)$, Definition \ref{dfn:13.16} tells us that it will suffice to show that $f$ is bounded on $[a,b]$, and that $L(f)=U(f)=c(b-a)$.\par
        To confirm that $f$ is bounded on $[a,b]$, Definition \ref{dfn:10.1} tells us that it will suffice to demonstrate that $f([a,b])$ is a bounded subset of $\R$. By Definition \ref{dfn:1.18}, $f([a,b])=\{f(x)\in\R\mid x\in[a,b]\}$. But since $f(x)=c$ for all $x\in[a,b]$, $f([a,b])=\{c\}$. Thus, since $c\leq c\leq c$, Definition \ref{dfn:5.6} implies that $f([a,b])$ is bounded. Additionally, since $c\in\R$, Definition \ref{dfn:1.3} asserts that $f([a,b])=\{c\}\subset\R$.\par
        To confirm that $L(f)=U(f)=c(b-a)$, Definition \ref{dfn:13.14} tells us that it will suffice to demonstrate that $L(f,P)=U(f,P)=c(b-a)$ for all partitions $P$ of $[a,b]$. For similar reasons to the above (i.e., $f(x)=c$ for all $x\in[a,b]$), we can show that $m_i(f)=M_i(f)=c$ for all $m_i(f)$ and $M_i(f)$. Therefore, by Definition \ref{dfn:13.11} that
        \begin{align*}
            L(f,P) &= \sum_{i=1}^nc(t_i-t_{i-1})&
                U(f,P) &= \sum_{i=1}^nc(t_i-t_{i-1})\\
            &= c\sum_{i=1}^n(t_{i-1}-t_i)&
                &= c\sum_{i=1}^n(t_{i-1}-t_i)\\
            &= c(t_n-t_0)&
                &= c(t_n-t_0)\\
            &= c(b-a)&
                &= c(b-a)
        \end{align*}
        as desired.
    \end{proof}
\end{exercise}

\begin{theorem}\label{trm:13.18}
    Let $f:[a,b]\to\R$ be bounded. Then $f$ is integrable if and only if for every $\epsilon>0$, there exists a partition $P$ of $[a,b]$ such that $U(f,P)-L(f,P)<\epsilon$.
    \begin{proof}
        % Now suppose that for every $\epsilon>0$, there exists a partition $P$ of $[a,b]$ such that $U(f,P)-L(f,P)<\epsilon$. Suppose for the sake of contradiction that $f$ is not integrable. Then by Definition \ref{dfn:13.16}, $L(f)\neq U(f)$. It follows by Exercise \ref{exr:13.15} that $L(f)<U(f)$. Thus, we can define $\epsilon=U(f)-L(f)>0$. Consequently, we have by the hypothesis that there exists a partition $P$ of $[a,b]$ such that $U(f,P)-L(f,P)<\epsilon$. But since $L(f,P)\leq L(f)$ by Definitions \ref{dfn:13.14}, \ref{dfn:5.7}, and \ref{dfn:5.6}, we have that
        % \begin{align*}
        %     U(f,P) &< \epsilon+L(f,P)\\
        %     &\leq \epsilon+L(f)\\
        %     &= U(f)-L(f)+L(f)\\
        %     &= U(f)
        % \end{align*}
        % But by Definitions \ref{dfn:13.14}, \ref{dfn:5.7}, and \ref{dfn:5.6}, we know that $U(f,P)\geq U(f)$, a contradiction.

        % We might also be able to do the forward direction simpler by contrapositive.


        Suppose first that $f$ is integrable. Then by Definition \ref{dfn:13.16}, $L(f)=U(f)$. Let $\epsilon>0$ be arbitrary. By Script \ref{sct:7}, $L(f)-\frac{\epsilon}{2}<L(f)$. Thus, by Definition \ref{dfn:13.14} and Lemma \ref{lem:5.11}, there exists an $L(f,P_1)\in\{L(f,P)\mid P\text{ is a partition of }[a,b]\}$ such that $L(f)-\frac{\epsilon}{2}<L(f,P_1)\leq L(f)$. Similarly, there exists a $U(f,P_2)\in\{U(f,P)\mid P\text{ is a partition of }[a,b]\}$ such that $U(f)\leq U(f,P_2)<U(f)+\frac{\epsilon}{2}$. Now consider $P_1\cup P_2$ (which we will prove is the desired partition). By Theorem \ref{trm:1.7}, $P_1\subset P_1\cup P_2$ and $P_2\subset P_1\cup P_2$. It follows by consecutive applications of Definition \ref{dfn:13.10} that $P_1\cup P_2$ is a refinement of both $P_1$ and $P_2$. Thus, by Lemma \ref{lem:13.12}, $L(f,P_1)\leq L(f,P_1\cup P_2)$ and $U(f,P_1\cup P_2)\leq U(f,P_2)$. Combining the last several results with transitivity yields
        \begin{align*}
            L(f)-\frac{\epsilon}{2} &< L(f,P_1) \leq L(f,P_1\cup P_2)&
            U(f,P_1\cup P_2) &\leq U(f,P_2) < U(f)+\frac{\epsilon}{2}
        \end{align*}
        Therefore, knowing that $U(f,P_1\cup P_2)<U(f)+\frac{\epsilon}{2}$ and that $-L(f,P_1\cup P_2)<\frac{\epsilon}{2}-L(f)$ (the latter by Lemma \ref{lem:7.24}), we have by Definition \ref{dfn:7.21} that
        \begin{align*}
            U(f,P_1\cup P_2)-L(f,P_1\cup P_2) &< U(f)+\frac{\epsilon}{2}+\frac{\epsilon}{2}-L(f)\\
            &= \epsilon
        \end{align*}
        as desired.\par
        Now suppose that $f$ is not integrable; we seek to prove that there exists an $\epsilon>0$ such that for all partitions $P$ of $[a,b]$, $U(f,P)-L(f,P)\geq\epsilon$. Since $f$ is not integrable, we have by Definition \ref{dfn:13.16} that $L(f)\neq U(f)$. It follows by Exercise \ref{exr:13.15} that $L(f)<U(f)$. Thus, we can define $\epsilon=\frac{U(f)-L(f)}{2}>0$. Now let $P$ be an arbitrary partition of $[a,b]$. It follows that $L(f,P)\leq L(f)$ by Definitions \ref{dfn:13.14}, \ref{dfn:5.7}, and \ref{dfn:5.6}. Similarly, $U(f)\leq U(f,P)$. Therefore, knowing that $U(f)\leq U(f,P)$ and that $-L(f)\leq -L(f,P)$ (the latter by Lemma \ref{lem:7.24}), we have by Definition \ref{dfn:7.21} that $\epsilon<U(f)-L(f)\leq U(f,P)-L(f,P)$, as desired.
    \end{proof}
\end{theorem}

\begin{theorem}\label{trm:13.19}\marginnote{\emph{4/20:}}
    If $f:[a,b]\to\R$ is continuous, then $f$ is integrable.
    \begin{proof}
        % \begin{itemize}
        %     \item Corollary \ref{cly:13.8}: $f$ is uniformly continuous.
        %     \item Definition \ref{dfn:13.1}: There exists a $\delta>0$ such that for all $x,y\in[a,b]$, if $|y-x|<\delta$, then $|f(y)-f(x)|<\frac{\epsilon}{b-a}$.
        %     \item Corollary \ref{cly:6.12}: There exists $n\in\N$ such that $\frac{2(b-a)}{\delta}<n$.
        %     \item Let $P=\{\frac{b-a}{n}\cdot i+a\mid 0\leq i\leq n\}$.
        %     \item To confirm that $P$ is a partition of $[a,b]$, Definition \ref{dfn:13.10} tells us that it will suffice to demonstrate that $P$ is finite, $P\subset[a,b]$, and $a,b\in P$.
        %     \begin{itemize}
        %         \item Script \ref{sct:1}: $P$ is finite.
        %         \item To demonstrate that $P\subset[a,b]$, Definition \ref{dfn:1.3} and Equations \ref{eqn:8.1} tell us that it will suffice to show that every $t_i\in P$ satisfies $a\leq t_i\leq b$.
        %         \item Script \ref{sct:7}:
        %         \begin{align*}
        %             0 &\leq i \leq n\\
        %             0 &\leq \frac{b-a}{n}\cdot i \leq b-a\\
        %             a & \leq \frac{b-a}{n}\cdot i+a \leq b
        %         \end{align*}
        %         as desired.
        %         \item Let $i=0$. Then by the definition of $P$, $\frac{b-a}{n}\cdot 0+a=a\in P$.
        %         \item Let $i=n$. Then by the definition of $P$, $\frac{b-a}{n}\cdot n+a=b-a+a=b\in P$.
        %     \end{itemize}
        %     \item We now seek to confirm that $t_i-t_{i-1}<\delta$.
        %     \begin{itemize}
        %         \item Script \ref{sct:7}: $0<\frac{2(b-a)}{\delta}$, $0<\delta$, $0<n$.
        %         \item Script \ref{sct:7}: $\frac{2(b-a)}{\delta}<n$ implies $\frac{2(b-a)}{n}<\delta$.
        %         \item Script \ref{sct:7}:
        %         \begin{align*}
        %             t_i-t_{i-1} &= \left( \frac{b-a}{n}\cdot i+a \right)-\left( \frac{b-a}{n}\cdot(i-1)+a \right)\\
        %             &= \frac{b-a}{n}\\
        %             &\leq \frac{2(b-a)}{n}\\
        %             &< \delta
        %         \end{align*}
        %     \end{itemize}
        %     \item We now seek to confirm that $M_i(f)-m_i(f)<\frac{\epsilon}{b-a}$ for all $i$.
        %     \begin{itemize}
        %         \item Let $i$ be an arbitrary number such that $1\leq i\leq n$.
        %         \item Consider $f|_{[t_{i-1},t_i]}$.
        %         \item Proposition \ref{prp:9.7}: $f|_{[t_{i-1},t_i]}$ is continuous.
        %         \item (consecutive) Exercise \ref{exr:10.21}: There exist $c,d\in[t_{i-1},t_i]$ such that $f(c)\leq f(x)\leq f(d)$ for all $x\in[t_{i-1},t_i]$.
        %         \item (consecutive) Definition \ref{dfn:13.11} and Exercise \ref{exr:5.9}: $m_i(f)=f(c)$ and $M_i(f)=f(d)$.
        %         \item Script \ref{sct:8}: $c,d\in[t_{i-1},t_i]$ implies $|d-c|\leq t_i-t_{i-1}$.
        %         \item The above: $|d-c|<\delta$.
        %         \item The above:
        %         \begin{align*}
        %             M_i(f)-m_i(f) &= f(d)-f(c)\\
        %             &\leq |f(d)-f(c)|\\
        %             &< \frac{\epsilon}{b-a}
        %         \end{align*}
        %     \end{itemize}
        %     \item It follows that\dots
        %     \begin{align*}
        %         U(f,P)-L(f,P) &= \sum_{i=1}^nM_i(f)(t_i-t_{i-1})-\sum_{i=1}^nm_i(f)(t_i-t_{i-1})\\
        %         &= \sum_{i=1}^n(M_i(f)-m_i(f))(t_i-t_{i-1})\\
        %         &< \sum_{i=1}^n\frac{\epsilon}{b-a}(t_i-t_{i-1})\\
        %         &= \frac{\epsilon}{b-a}\sum_{i=1}^n(t_i-t_{i-1})\\
        %         &= \frac{\epsilon}{b-a}(b-a)\\
        %         &= \epsilon
        %     \end{align*}
        % \end{itemize}


        To prove that $f$ is integrable, Theorem \ref{trm:13.18} tells us that it will suffice to show that $f$ is bounded and that for every $\epsilon>0$, there exists a partition $P$ of $[a,b]$ such that $U(f,P)-L(f,P)<\epsilon$. We will verify the two requirements separately. Let's begin.\par\smallskip
        To confirm that $f$ is bounded, Definitions \ref{dfn:10.1} and \ref{dfn:5.6} tell us that it will suffice to find points $l,u\in\R$ such that $l\leq f(x)\leq u$ for all $x\in[a,b]$. But since $f:[a,b]\to\R$ is continuous, consecutive applications of Exercise \ref{exr:10.21} imply that there exist points $c,d\in[a,b]$ such that $f(c)\leq f(x)\leq f(d)$ for all $x\in[a,b]$, so we can just choose $l=f(c)$ and $u=f(d)$.\par\smallskip
        As to the other stipulation, let $\epsilon>0$ be arbitrary. Since $f:[a,b]\to\R$ is continuous, Corollary \ref{cly:13.8} implies that $f$ is uniformly continuous. Thus, by Definition \ref{dfn:13.1}, there exists a $\delta>0$ such that for all $x,y\in[a,b]$, if $|y-x|<\delta$, then $|f(y)-f(x)|<\frac{\epsilon}{b-a}$. Considering this $\delta$, we have by Corollary \ref{cly:6.12} that there exist a number $n\in\N$ such that $\frac{2(b-a)}{\delta}<n$. Equipped with this $n$, we can now define the set $P=\{\frac{b-a}{n}\cdot i+a\mid 0\leq i\leq n\}$.\par
        We now seek to confirm that $P$ is a partition of $[a,b]$. To do so, Definition \ref{dfn:13.10} tells us that it will suffice to demonstrate that $P$ is finite, $P\subset[a,b]$, and $a,b\in P$. By Script \ref{sct:1}, $P$ is finite. To demonstrate that $P\subset[a,b]$, Definition \ref{dfn:1.3} and Equations \ref{eqn:8.1} tell us that it will suffice to show that every $t_i\in P$ satisfies $a\leq t_i\leq b$. But by Script \ref{sct:7}, we have that
        \begin{align*}
            0 &\leq i \leq n\\
            0 &\leq \frac{b-a}{n}\cdot i \leq b-a\\
            a & \leq \frac{b-a}{n}\cdot i+a \leq b
        \end{align*}
        as desired. Lastly, consider the elements of $P$ corresponding to $i=0$ and $i=n$. By consecutive applications of the definition of $P$, we have that $a=(\frac{b-a}{n}\cdot 0+a)\in P$ and that $b=b-a+a=(\frac{b-a}{n}\cdot n+a)\in P$.\par
        We now seek to confirm that if $t_i,t_{i-1}\in P$, then $t_i-t_{i-1}<\delta$. Let $t_i,t_{i-1}$ be arbitrary sequential elements of $P$. By Script \ref{sct:0}, we have that $0<n$. Additionally, we have by hypothesis that $0<\delta$. It follows by consecutive applications of Lemma \ref{lem:7.24} that the fact that $\frac{2(b-a)}{\delta}<n$ implies that $\frac{2(b-a)}{n}<\delta$. Therefore, we have by Script \ref{sct:7} that
        \begin{align*}
            t_i-t_{i-1} &= \left( \frac{b-a}{n}\cdot i+a \right)-\left( \frac{b-a}{n}\cdot(i-1)+a \right)\\
            &= \frac{b-a}{n}\\
            &\leq \frac{2(b-a)}{n}\\
            &< \delta
        \end{align*}
        as desired.\par
        We now seek to confirm that $M_i(f)-m_i(f)<\frac{\epsilon}{b-a}$ for all $i$ satisfying $1\leq i\leq n$. Let $i$ be an arbitrary such number, and consider $f|_{[t_{i-1},t_i]}$. Since $f$ is continuous and $[t_{i-1},t_i]\subset[a,b]$, Proposition \ref{prp:9.7} asserts that $f|_{[t_{i-1},t_i]}$ is continuous. Thus, by Exercise \ref{exr:10.21}, there exist $c,d\in[t_{i-1},t_i]$ such that $f(c)\leq f(x)\leq f(d)$ for all $x\in[t_{i-1},t_i]$. It follows by consecutive applications of Definitions \ref{dfn:13.11} and \ref{dfn:3.3} as well as Exercise \ref{exr:5.9} that $m_i(f)=f(c)$ and $M_i(f)=f(d)$. Additionally, since $c,d\in[t_{i-1},t_i]$, we have by Script \ref{sct:8} that $|d-c|\leq t_i-t_{i-1}$. This combined with the fact that $t_i-t_{i-1}<\delta$ by the above implies by transitivity that $|d-c|<\delta$. But this implies by the above that
        \begin{align*}
            M_i(f)-m_i(f) &= f(d)-f(c)\\
            &\leq |f(d)-f(c)|\\
            &< \frac{\epsilon}{b-a}
        \end{align*}
        as desired.\par
        Having established that $M_i(f)-m_i(f)<\frac{\epsilon}{b-a}$ for all $i$ in the partition $P$, we have by Definition \ref{dfn:13.11} and basic algebra that
        \begin{align*}
            U(f,P)-L(f,P) &= \sum_{i=1}^nM_i(f)(t_i-t_{i-1})-\sum_{i=1}^nm_i(f)(t_i-t_{i-1})\\
            &= \sum_{i=1}^n(M_i(f)-m_i(f))(t_i-t_{i-1})\\
            &< \sum_{i=1}^n\frac{\epsilon}{b-a}(t_i-t_{i-1})\\
            &= \frac{\epsilon}{b-a}\sum_{i=1}^n(t_i-t_{i-1})\\
            &= \frac{\epsilon}{b-a}(b-a)\\
            &= \epsilon
        \end{align*}
        as desired.
    \end{proof}
\end{theorem}

\begin{lemma}\label{lem:13.20}
    Let $f:[a,b]\to\R$ be bounded. Given $\Omega\in\R$, we have $\Omega=\int_a^bf$ if and only if for all $\epsilon>0$, there is some partition $P$ such that
    \begin{align*}
        U(f,P)-\Omega &< \epsilon&
        \Omega-L(f,P) &< \epsilon
    \end{align*}
    \begin{proof}
        % \begin{itemize}
        %     \item Theorem \ref{trm:13.18}: There exists a partition $P$ of $[a,b]$ such that $U(f,P)-L(f,P)<\epsilon$.
        %     \item Choose this $P$ to be our $P$.
        %     \item Definition \ref{dfn:13.16}: $\Omega=L(f)=U(f)$.
        %     \item (consecutive) Definition \ref{dfn:13.14}, \ref{dfn:5.7}, \ref{dfn:5.6}: $L(f,P)\leq L(f)=\Omega$ and $\Omega=U(f)\leq U(f,P)$.
        %     \item Script \ref{sct:7}: $-\Omega\leq -L(f,P)$.
        %     \item Therefore, having established that $\Omega\leq U(f,P)$, $-\Omega\leq -L(f,P)$, and $U(f,P)-L(f,P)<\epsilon$, we have that
        %     \begin{align*}
        %         \Omega-L(f,P) &\leq U(f,P)-L(f,P)&
        %             U(f,P)-\Omega &\leq U(f,P)-L(f,P)\\
        %         &< \epsilon&
        %             &< \epsilon
        %     \end{align*}
        % \end{itemize}

        % \begin{itemize}
        %     \item Suppose that $\Omega\neq\int_a^bf$; we seek to prove that there exists an $\epsilon>0$ such that for all partitions $P$, $U(f,P)-\Omega\geq\epsilon$ or $\Omega-L(f,P)\geq\epsilon$.
        %     \item We divide into two cases ($\int_a^bf$ exists and $\int_a^bf$ doesn't exist).
        %     \item Suppose first that $\int_a^bf$ exists.
        %     \item We divide into two subcases ($\Omega>\int_a^bf$ and $\Omega<\int_a^bf$).
        %     \item If $\Omega>\int_a^bf$, choose $\epsilon=\Omega-\int_a^bf>0$.
        %     \begin{itemize}
        %         \item Let $P$ be an arbitrary partition.
        %         \item Definition \ref{dfn:13.14}, \ref{dfn:5.7}, \ref{dfn:5.6}: $L(f,P)\leq L(f)$.
        %         \item Definition \ref{dfn:13.16}: $L(f)=\int_a^bf$.
        %         \item Transitivity: $L(f,P)\leq\int_a^bf$.
        %         \item Script \ref{sct:7}: $-\int_a^bf\leq -L(f,P)$.
        %         \item Therefore,
        %         \begin{align*}
        %             \epsilon &= \Omega-\int_a^bf\\
        %             &\leq \Omega-L(f,P)
        %         \end{align*}
        %         as desired.
        %     \end{itemize}
        %     \item The argument is symmetric in the other subcase.
        %     \item Now suppose that $\int_a^bf$ does not exist.
        %     \item Exercise \ref{exr:13.15}: $L(f)$ and $U(f)$ exist.
        %     \item Definition \ref{dfn:13.16}: $L(f)\neq U(f)$.
        %     \item Exercise \ref{exr:13.15}: $L(f)<U(f)$.
        %     \item We divide into three subcases ($\Omega\leq L(f)$, $L(f)<\Omega<U(f)$, and $U(f)\leq\Omega$).
        %     \item If $\Omega\leq L(f)$, choose $\epsilon=U(f)-L(f)>0$.
        %     \begin{itemize}
        %         \item Let $P$ be an arbitrary partition.
        %         \item As above: $U(f)\leq U(f,P)$.
        %         \item Therefore,
        %         \begin{align*}
        %             \epsilon &= U(f)-L(f)\\
        %             &\leq U(f,P)-L(f)\\
        %             &\leq U(f,P)-\Omega
        %         \end{align*}
        %     \end{itemize}
        %     \item If $L(f)<\Omega<U(f)$, choose $\epsilon=U(f)-\Omega>0$.
        %     \begin{itemize}
        %         \item Let $P$ be an arbitrary partition.
        %         \item As above: $U(f)\leq U(f,P)$.
        %         \item Therefore,
        %         \begin{align*}
        %             \epsilon &= U(f)-\Omega\\
        %             &\leq U(f,P)-\Omega
        %         \end{align*}
        %     \end{itemize}
        %     \item If $U(f)\leq\Omega$, then the argument is symmetric to that of the first subcase.
        % \end{itemize}


        Suppose first that $\Omega=\int_a^bf$. Let $\epsilon>0$ be arbitrary. By Theorem \ref{trm:13.18}, there exists a partition $P$ of $[a,b]$ such that $U(f,P)-L(f,P)<\epsilon$. Choose this $P$ to be our $P$. By Definition \ref{dfn:13.16}, $\Omega=L(f)=U(f)$. Thus, by consecutive applications of Definitions \ref{dfn:13.14}, \ref{dfn:5.7}, and \ref{dfn:5.6}, we have that $L(f,P)\leq L(f)=\Omega$ and $\Omega=U(f)\leq U(f,P)$. With respect to the former result, it follows by Script \ref{sct:7} that $-\Omega\leq -L(f,P)$. Therefore, having established that $\Omega\leq U(f,P)$, $-\Omega\leq -L(f,P)$, and $U(f,P)-L(f,P)<\epsilon$, we have that
        \begin{align*}
            \Omega-L(f,P) &\leq U(f,P)-L(f,P)&
                U(f,P)-\Omega &\leq U(f,P)-L(f,P)\\
            &< \epsilon&
                &< \epsilon
        \end{align*}\par\smallskip
        Now suppose that $\Omega\neq\int_a^bf$; we seek to prove that there exists an $\epsilon>0$ such that for all partitions $P$, $U(f,P)-\Omega\geq\epsilon$ or $\Omega-L(f,P)\geq\epsilon$. We divide into two cases ($\int_a^bf$ exists and $\int_a^bf$ doesn't exist).\par
        First, suppose that $\int_a^bf$ exists. We divide into two subcases ($\Omega>\int_a^bf$ and $\Omega<\int_a^bf$). If $\Omega>\int_a^bf$, choose $\epsilon=\Omega-\int_a^bf>0$. Let $P$ be an arbitrary partition. As before, we have that $L(f,P)\leq L(f)$. Additionally, Definition \ref{dfn:13.16} asserts that $L(f)=\int_a^bf$. Thus, transitivity implies that $L(f,P)\leq\int_a^bf$. It follows by Script \ref{sct:7} that $-\int_a^bf\leq -L(f,P)$. Therefore,
        \begin{align*}
            \epsilon &= \Omega-\int_a^bf\\
            &\leq \Omega-L(f,P)
        \end{align*}
        as desired. The argument is symmetric in the other subcase.\par
        Second, suppose that $\int_a^bf$ does not exist. By Exercise \ref{exr:13.15}, $L(f)$ and $U(f)$ exist. However, since $\int_a^bf$ does not exist, Definition \ref{dfn:13.16} asserts that $L(f)\neq U(f)$. It follows by Exercise \ref{exr:13.15} again that $L(f)<U(f)$. We now divide into three subcases ($\Omega\leq L(f)$, $L(f)<\Omega<U(f)$, and $U(f)\leq\Omega$). If $\Omega\leq L(f)$, choose $\epsilon=U(f)-L(f)>0$. Let $P$ be an arbitrary partition. As above, $U(f)\leq U(f,P)$. Therefore,
        \begin{align*}
            \epsilon &= U(f)-L(f)\\
            &\leq U(f,P)-L(f)\\
            &\leq U(f,P)-\Omega
        \end{align*}
        as desired. If $L(f)<\Omega<U(f)$, choose $\epsilon=U(f)-\Omega>0$. Let $P$ be an arbitrary partition. As above, $U(f)\leq U(f,P)$. Therefore,
        \begin{align*}
            \epsilon &= U(f)-\Omega\\
            &\leq U(f,P)-\Omega
        \end{align*}
        as desired. The argument for the last subcase is symmetric to that of the first.
    \end{proof}
\end{lemma}

\begin{exercise}\label{exr:13.21}
    Define $f:[0,b]\to\R$ by the formula $f(x)=x$. Show that $f$ is integrable on $[0,b]$ and that $\int_0^bf=\frac{b^2}{2}$.
    \begin{proof}
        To prove that $f$ is integrable on $[0,b]$ and that $\int_0^bf=\frac{b^2}{2}$, Lemma \ref{lem:13.20} tells us that it will suffice to show that for all $\epsilon>0$, there is some partition $P$ such that $U(f,P)-\frac{b^2}{2}<\epsilon$ and $\frac{b^2}{2}-L(f,P)<\epsilon$. Let $\epsilon>0$ be arbitrary. Since $\frac{2\epsilon}{b^2}$ is a positive real number by Script \ref{sct:7}, Corollary \ref{cly:6.12} asserts that there exists a number $n\in\N$ such that $\frac{1}{n}<\frac{2\epsilon}{b^2}$. Equipped with this $n$, we can now define the set $P=\{\frac{b}{n}\cdot i\mid 0\leq i\leq n\}$. By a symmetric argument to that used in the proof of Theorem \ref{trm:13.19}, we can confirm that $P$ is a partition of $[a,b]$ and that $t_i-t_{i-1}=\frac{b}{n}$.\par
        We now turn our attention strictly to proving that $U(f,P)-\frac{b^2}{2}<\epsilon$; the proof of the other statement will be symmetric. Under the partition $P$ as defined, consider an arbitrary $M_i(f)$. By Definition \ref{dfn:13.11}, $M_i(f)=\sup\{f(x)\mid t_{i-1}\leq x\leq t_i\}$. Since $f(x)=x$ for all $x\in[t_{i-1},t_i]\subset[0,b]$, we have by Equations \ref{eqn:8.1} that $M_i(f)=\sup[t_{i-1},t_i]$. Thus, by Script \ref{sct:5}, $M_i(f)=t_i=\frac{bi}{n}$. Therefore,
        \begin{align*}
            U(f,P)-\frac{b^2}{2} &= \sum_{i=1}^nM_i(f)(t_i-t_{i-1})-\frac{b^2}{2}\tag*{Definition \ref{dfn:13.11}}\\
            &= \sum_{i=1}^n\frac{bi}{n}\left( \frac{bi}{n}-\frac{b(i-1)}{n} \right)-\frac{b^2}{2}\\
            &= \frac{b^2}{n^2}\sum_{i=1}^ni(i-(i-1))-\frac{b^2}{2}\\
            &= \frac{b^2}{n^2}\sum_{i=1}^ni-\frac{b^2}{2}\\
            &= \frac{b^2}{n^2}\left( \frac{1}{2}n(n+1) \right)-\frac{b^2}{2}\\
            &= \frac{b^2}{2}+\frac{b^2}{2n}-\frac{b^2}{2}\\
            &= \frac{b^2}{2}\cdot\frac{1}{n}\\
            &< \frac{b^2}{2}\cdot\frac{2\epsilon}{b^2}\\
            &= \epsilon
        \end{align*}
        as desired.
    \end{proof}
\end{exercise}

\begin{exercise}\label{exr:13.22}
    Show that the converse of Theorem \ref{trm:13.19} is false in general.
    \begin{proof}
        To prove that even if $f$ is integrable, $f:[a,b]\to\R$ is not necessarily continuous, we need only find an example of an integrable, discontinuous function $f$. Let $f:[-1,1]\to\R$ be defined by
        \begin{equation*}
            f(x) =
            \begin{cases}
                1 & x\geq 0\\
                0 & x<0
            \end{cases}
        \end{equation*}
        To confirm that $f$ is integrable, Theorem \ref{trm:13.18} tells us that it will suffice to show that for every $\epsilon>0$, there exists a partition $P$ of $[a,b]$ such that $U(f,P)-L(f,P)<\epsilon$. Let $\epsilon>0$ be arbitrary. Choose $P=\{-1,-\frac{\epsilon}{2},0,1\}$ (clearly $P$ is a partition of $[-1,1]$ by Definition \ref{dfn:13.10}). It follows by consecutive applications of Definitions \ref{dfn:13.11}, \ref{dfn:5.7}, and \ref{dfn:5.6} that
        \begin{align*}
            m_1(f) &= 0&
                M_1(f) &= 0\\
            m_2(f) &= 0&
                M_2(f) &= 1\\
            m_3(f) &= 1&
                M_3(f) &= 1\\
        \end{align*}
        Therefore,
        \begin{align*}
            U(f,P)-L(f,P) ={}& \sum_{i=1}^3M_i(f)(t_i-t_{i-1})-\sum_{i=1}^3m_i(f)(t_i-t_{i-1})\tag*{Definition \ref{dfn:13.11}}\\
            \begin{split}
                ={}& \left[ 0\left( -\frac{\epsilon}{2}-(-1) \right)+1\left( 0-\left( -\frac{\epsilon}{2} \right) \right)+1(1-0) \right]\\
                   &\quad -\left[ 0\left( -\frac{\epsilon}{2}-(-1) \right)+0\left( 0-\left( -\frac{\epsilon}{2} \right) \right)+1(1-0) \right]
            \end{split}\\
            ={}& \frac{\epsilon}{2}\\
            <{}& \epsilon
        \end{align*}\par
        However, by Corollary \ref{cly:5.5} and Theorem \ref{trm:3.14}, $0\in LP([-1,1])$. Additionally, by the proof of Exercise \ref{exr:11.4}, $\lim_{x\to 0}f(x)$ does not exist. Combining the last two results with Theorem \ref{trm:11.5} reveals that $f$ is not continuous at 0. Therefore, by Theorem \ref{trm:9.10}, $f$ is not continuous.
    \end{proof}
\end{exercise}

\begin{theorem}\label{trm:13.23}
    Let $a<b<c$. A function $f:[a,c]\to\R$ is integrable on $[a,c]$ if and only if $f$ is integrable on $[a,b]$ and $[b,c]$. When $f$ is integrable on $[a,c]$, we have
    \begin{equation*}
        \int_a^cf = \int_a^bf+\int_b^cf
    \end{equation*}
    \begin{lemma*}
        Let $P_1,P_2$ be partitions of $[a,b]$ and $[b,c]$, respectively. Define $P'=P_1\cup P_2$. Then $P'$ is a partition of $[a,c]$, $L(f,P')=L(f,P_1)+L(f,P_2)$, and $U(f,P')=U(f,P_1)+U(f,P_2)$.
        \begin{proof}
            To prove that $P'$ is a partition of $[a,c]$, Definition \ref{dfn:13.10} tells us that it will suffice to show that $P'$ is finite, that $P'\subset[a,c]$, and that $a,c\in P'$. By Definition \ref{dfn:13.10}, $P_1$ and $P_2$ are finite. Thus, by Script \ref{sct:1}, their union $P_1\cup P_2=P'$ is also finite. To confirm that $P'\subset[a,c]$, Definition \ref{dfn:1.3} tells us that it will suffice to demonstrate that every $x\in P'$ is an element of $[a,c]$. Let $x$ be an arbitrary element of $P'$. Then by Definition \ref{dfn:1.5}, $x\in P_1$ or $x\in P_2$. We now divide into two cases. If $x\in P_1$, then since $P_1\subset[a,b]$ by Definition \ref{dfn:13.10}, Definition \ref{dfn:1.3} asserts that $x\in[a,b]$. Thus, by Equations \ref{eqn:8.1}, $a\leq x\leq b$. Moreover, by hypothesis, we have that $a\leq x\leq b<c$, from which it follows by Equations \ref{eqn:8.1} that $x\in[a,c]$, as desired. The argument is symmetric in the other case. Lastly, by consecutive applications of Definition \ref{dfn:13.10}, $a\in P_1$ and $c\in P_2$. It follows by Definition \ref{dfn:1.5} that $a,c\in P'$, as desired.\par
            Additionally, if we express $P_1$ as containing the objects $a=t_0,\dots,t_n=b$ and $P_2$ as containing the objects $b=t_n,\dots,t_{n+m}=c$, we have that $P'$ contains every object $t_0$ through $t_{n+m}$. Therefore, we have by consecutive applications of Definition \ref{dfn:13.11} that
            \begin{align*}
                L(f,P') &= \sum_{i=1}^{n+m}m_i(f)(t_i-t_{i-1})\\
                &= \sum_{i=1}^nm_i(f)(t_i-t_{i-1})+\sum_{i=n+1}^{n+m}m_i(f)(t_i-t_{i-1})\\
                &= L(f,P_1)+L(f,P_2)
            \end{align*}
            The proof is symmetric for the other statement.
        \end{proof}
    \end{lemma*}
    \begin{proof}[Proof of Theorem \ref{trm:13.23}]
        Suppose first that $f$ is integrable on $[a,c]$. To prove that $f$ is integrable on $[a,b]$ and $[b,c]$, Theorem \ref{trm:13.18} tells us that it will suffice to show that for every $\epsilon>0$, there exist partitions $P_1,P_2$ of $[a,b]$ and $[b,c]$, respectively, such that $U(f,P_1)-L(f,P_1)<\epsilon$ and $U(f,P_2)-L(f,P_2)<\epsilon$. Let $\epsilon>0$ be arbitrary. Since $f$ is integrable on $[a,c]$, there exists a partition $P$ of $[a,c]$ such that $U(f,P)-L(f,P)<\epsilon$. Now define $P'=P\cup\{b\}$. Since $P'$ is finite (by Script \ref{sct:1}), a subset of $[a,c]$ (because $P\subset[a,c]$ by Definition \ref{dfn:13.10} and $\{b\}\subset[a,c]$), and contains $a,c$ (because $a,c\in P$ implies $a,c\in P\cup\{b\}$ by Definition \ref{dfn:1.5}), Definition \ref{dfn:13.10} asserts that $P'$ is a partition of $[a,c]$. Furthermore, since $P\subset P'$ by Theorem \ref{trm:1.7}, Definition \ref{dfn:13.10} implies that $P'$ is a refinement of $P$. Thus, by Lemma \ref{lem:13.12}, $L(f,P)\leq L(f,P')$ and $U(f,P)\geq U(f,P')$. This combined with the fact that $U(f,P)-L(f,P)<\epsilon$ implies by Script \ref{sct:7} that $U(f,P')-L(f,P')\leq U(f,P)-U(f,P)<\epsilon$.\par
        Let $P_1=P'\cap[a,b]$ and $P_2=P'\cap[b,c]$. In the same manner as before, we have that $P_1$ is a partition of $[a,b]$ and $P_2$ is a partition of $[b,c]$. This combined with the fact that $P_1\cup P_2=P'\cap([a,b]\cup[b,c])=P'$ by Script \ref{sct:1} implies by the lemma that $L(f,P')=L(f,P_1)+L(f,P_2)$ and $U(f,P')=U(f,P_1)+U(f,P_2)$. Thus, we have that
        \begin{align*}
            (U(f,P_1)-L(f,P_1))+(U(f,P_2)-L(f,P_2)) &= U(f,P')-L(f,P')\\
            &< \epsilon
        \end{align*}
        Additionally, we have by consecutive applications of Definition \ref{dfn:13.11} that $L(f,P_1)\leq U(f,P_1)$ and $L(f,P_2)\leq U(f,P_2)$. It follows by consecutive applications of Definition \ref{dfn:7.21} that $0\leq U(f,P_1)-L(f,P_1)$ and $0\leq U(f,P_2)-L(f,P_2)$. This combined with the above result that $(U(f,P_1)-L(f,P_1))+(U(f,P_2)-L(f,P_2))<\epsilon$ implies by Script \ref{sct:7} that $U(f,P_1)-L(f,P_1)<\epsilon$ and $U(f,P_2)-L(f,P_2)<\epsilon$.\par\smallskip
        Now suppose that $f$ is integrable on $[a,b]$ and $[b,c]$. Let $\Omega_1=\int_a^bf$, $\Omega_2=\int_b^cf$, and $\Omega=\Omega_1+\Omega_2$. Thus, to prove that $f$ is integrable on $[a,c]$ and that $\int_a^cf=\int_a^bf+\int_b^cf$, Lemma \ref{lem:13.20} tells us that it will suffice to show that for all $\epsilon>0$, there is some partition $P'$ of $[a,c]$ such that $U(f,P')-\Omega<\epsilon$ and $\Omega-L(f,P')<\epsilon$. Let $\epsilon>0$ be arbitrary. Since $f$ is integrable on $[a,b]$ and $[b,c]$, we have by consecutive applications of Lemma \ref{lem:13.20} that there exist partitions $P_1$ of $[a,b]$ and $P_2$ of $[b,c]$ such that $U(f,P_1)-\Omega_1<\frac{\epsilon}{2}$, $\Omega_1-L(f,P_1)<\frac{\epsilon}{2}$, $U(f,P_2)-\Omega_2<\frac{\epsilon}{2}$, and $\Omega_2-L(f,P_2)<\frac{\epsilon}{2}$. Choose $P'=P_1\cup P_2$. By the lemma, $P'$ is a partition of $[a,c]$. Combining all of the above results implies by Script \ref{sct:7} and the lemma that
        \begin{align*}
            U(f,P')-\Omega &= U(f,P_1)+U(f,P_2)-\Omega_1-\Omega_2&
                \Omega-L(f,P') &= \Omega_1+\Omega_2-L(f,P_1)-L(f,P_2)\\
            &= (U(f,P_1)-\Omega_1)+(U(f,P_2)-\Omega_2)&
                &= (\Omega_1-L(f,P_1))+(\Omega_2-L(f,P_2))\\
            &< \frac{\epsilon}{2}+\frac{\epsilon}{2}&
                &< \frac{\epsilon}{2}+\frac{\epsilon}{2}\\
            &= \epsilon&
                &< \epsilon
        \end{align*}
        Note that since the claim technically asks us to prove that $\int_a^cf=\int_a^bf+\int_b^cf$ follows from $f$ being integrable on $[a,c]$, not $[a,b]$ and $[b,c]$, we can do this with the above using the following logic. Let $f$ be integrable on $[a,c]$. Then by the first part of the proof, it is integrable on $[a,b]$ and $[b,c]$. It follows by the second part of the proof that $\int_a^cf=\int_a^bf+\int_b^cf$, as desired.
    \end{proof}
\end{theorem}
\pagebreak

\marginnote{4/22:}If $b<a$, we define
\begin{equation*}
    \int_a^bf = -\int_b^af
\end{equation*}
whenever the latter integral exists. With this notational convention, it follows that the equation
\begin{equation*}
    \int_a^cf = \int_a^bf+\int_b^cf
\end{equation*}
always holds, regardless of the ordering of $a,b,c$ whenever $f$ is integrable on the largest of the three intervals.

\begin{theorem}\label{trm:13.24}
    Suppose that $f$ and $g$ are integrable functions on $[a,b]$ and that $c\in\R$ is a constant. Then $f+g$ and $cf$ are integrable on $[a,b]$ and
    \begin{enumerate}[label={\textup{(}\alph*\textup{)}},ref={\thetheorem\alph*}]
        \item \label{trm:13.24a}$\int_a^b(f+g) = \int_a^bf+\int_a^bg$.
        \item \label{trm:13.24b}$\int_a^bcf = c\int_a^bf$.
    \end{enumerate}
    \begin{lemma*}\leavevmode
        \begin{enumerate}[label={\textup{(}\alph*\textup{)}}]
            \item Let $P=\{t_0,\dots,t_n\}$ be an arbitrary partition of $[a,b]$. Then for any $i\in[n]$, we have $M_i(f+g)\leq M_i(f)+M_i(g)$ and $m_i(f+g)\geq m_i(f)+m_i(g)$.
            \item Let $P=\{t_0,\dots,t_n\}$ be an arbitrary partition of $[a,b]$. Then if $c>0$, we have $M_i(cf)=c\cdot M_i(f)$ and $m_i(cf)=c\cdot m_i(f)$ for any $i\in[n]$.
            \item Let $P=\{t_0,\dots,t_n\}$ be an arbitrary partition of $[a,b]$. Then if $c<0$, we have $M_i(cf)=c\cdot m_i(f)$ and $m_i(cf)=c\cdot M_i(f)$ for any $i\in[n]$.
        \end{enumerate}
        \begin{proof}[Proof of Lemma \textup{(}a\textup{)}]
            Let $i$ be an arbitrary natural number satisfying $1\leq i\leq n$. By Definitions \ref{dfn:13.11}, \ref{dfn:5.7}, and \ref{dfn:5.6}, $f(x)\leq M_i(f)$ for all $x\in[t_{i-1},t_i]$. Similarly, $g(x)\leq M_i(g)$ for all $x\in[t_{i-1},t_i]$. Thus, we have by Definition \ref{dfn:7.21} that $(f+g)(x)\leq M_i(f)+M_i(g)$ for all $x\in[t_{i-1},t_i]$. Consequently, Definition \ref{dfn:5.6} asserts that $M_i(f)+M_i(g)$ is an upper bound on $\{(f+g)(x)\mid t_{i-1}\leq x\leq t_i\}$. Therefore, the supremum of that set will be less than or equal to $M_i(f)+M_i(g)$ by Definition \ref{dfn:5.7}. But since $M_i(f+g)$ \emph{is} said supremum by Definition \ref{dfn:13.11}, we have that $M_i(f+g)\leq M_i(f)+M_i(g)$ as desired.\par
            The proof is symmetric in the other case.
        \end{proof}
        \begin{proof}[Proof of Lemma \textup{(}b\textup{)}]
            Suppose for the sake of contradiction that $M_i(cf)\neq c\cdot M_i(f)$. We divide into two cases ($M_i(cf)<c\cdot M_i(f)$ and $M_i(cf)>c\cdot M_i(f)$). If $M_i(cf)<c\cdot M_i(f)$, then since $c>0$, Lemma \ref{lem:7.24} implies that $\frac{M_i(cf)}{c}<M_i(f)$. It follows by Lemma \ref{lem:5.11} that there exists $f(x)\in\{f(x)\mid t_{i-1}\leq x\leq t_i\}$ such that $\frac{M_i(cf)}{c}<f(x)\leq M_i(f)$, i.e., $M_i(cf)<cf(x)$. But by Definitions \ref{dfn:13.11}, \ref{dfn:5.7}, and \ref{dfn:5.6}, $cf(x)\leq M_i(cf)$ for all $x\in[t_{i-1},t_i]$, a contradiction. The argument is symmetric in the other case.\par
            The proof is symmetric in the other case.
        \end{proof}
        \begin{proof}[Proof of Lemma \textup{(}c\textup{)}]
            Suppose for the sake of contradiction that $M_i(cf)\neq c\cdot m_i(f)$. We divide into two cases ($M_i(cf)<c\cdot m_i(f)$ and $M_i(cf)>c\cdot m_i(f)$). If $M_i(cf)<c\cdot m_i(f)$, then since $c<0$, Lemma \ref{lem:7.24} implies that $\frac{M_i(cf)}{c}>m_i(f)$. It follows by Lemma \ref{lem:5.11} that there exists $f(x)\in\{f(x)\mid t_{i-1}\leq x\leq t_i\}$ such that $\frac{M_i(cf)}{c}>f(x)\geq m_i(f)$, i.e., $M_i(cf)<cf(x)$. But by Definitions \ref{dfn:13.11}, \ref{dfn:5.7}, and \ref{dfn:5.6}, $cf(x)\leq M_i(cf)$ for all $x\in[t_{i-1},t_i]$, a contradiction. The argument is symmetric in the other case.\par
            The proof is symmetric in the other case.
        \end{proof}
    \end{lemma*}
    \begin{proof}[Proof of Theorem \ref{trm:13.24a}]
        Let $\Omega_f=\int_a^bf$, $\Omega_g=\int_a^bg$, and $\Omega=\Omega_f+\Omega_g$. To prove that $f+g$ is integrable on $[a,b]$ and that $\int_a^b(f+g)=\int_a^bf+\int_a^bg$, Lemma \ref{lem:13.20} tells us that it will suffice to show that for all $\epsilon>0$, there is some partition $P$ such that $U(f+g,P)-\Omega<\epsilon$ and $\Omega-L(f+g,P)<\epsilon$. Let $\epsilon>0$ be arbitrary. Since $f,g$ are integrable on $[a,b]$, we have by consecutive applications of Lemma \ref{lem:13.20} that there exist partitions $Q,R$ of $[a,b]$ such that $U(f,Q)-\Omega_f<\frac{\epsilon}{2}$, $\Omega_f-L(f,Q)<\frac{\epsilon}{2}$, $U(g,R)-\Omega_g<\frac{\epsilon}{2}$, and $\Omega_g-L(g,R)<\frac{\epsilon}{2}$. As in previous proofs, $P=Q\cup R$ is also a partition of $[a,b]$ and a refinement of both $Q$ and $R$. Consequently, we have that $U(f,P)-\Omega_f\leq U(f,Q)-\Omega_f<\frac{\epsilon}{2}$, $\Omega_f-L(f,P)\leq\Omega_f-L(f,Q)<\frac{\epsilon}{2}$, $U(g,P)-\Omega_g\leq U(g,R)-\Omega_g<\frac{\epsilon}{2}$, and $\Omega_g-L(g,P)\leq\Omega_g-L(g,R)<\frac{\epsilon}{2}$. It follows by consecutive applications of Script \ref{sct:7} that $U(f,P)+U(g,P)-\Omega<\epsilon$ and that $\Omega-(L(f,P)+L(g,P))<\epsilon$. Therefore, we have that
        \begin{align*}
            U(f+g,P)-\Omega &= \sum_{i=1}^nM_i(f+g)(t_i-t_{i-1})-\Omega\tag*{Definition \ref{dfn:13.11}}\\
            &\leq \sum_{i=1}^n(M_i(f)+M_i(g))(t_i-t_{i-1})-\Omega\tag*{Lemma (a)}\\
            &= \sum_{i=1}^nM_i(f)(t_i-t_{i-1})+\sum_{i=1}^nM_i(g)(t_i-t_{i-1})-\Omega\\
            &= U(f,P)+U(g,P)-\Omega\tag*{Definition \ref{dfn:13.11}}\\
            &< \epsilon
        \end{align*}
        and something similar for $\Omega-L(f+g,P)$.
    \end{proof}
    \begin{proof}[Proof of Theorem \ref{trm:13.24b}]
        We divide into three cases ($c=0$, $c>0$, and $c<0$).\par
        If $c=0$, then we have that $cf(x)=0$ for all $x\in[a,b]$. Therefore, we have by Exercise \ref{exr:13.17} that $cf$ is integrable on $[a,b]$ and
        \begin{align*}
            \int_a^bcf &= 0(b-a)\\
            &= 0\\
            &= 0\cdot\int_a^bf\\
            &= c\int_a^bf
        \end{align*}\par
        If $c>0$, then let $\Omega=\int_a^bf$. To prove that $cf$ is integrable on $[a,b]$ and that $\int_a^bcf=c\int_a^bf$, Lemma \ref{lem:13.20} tells us that it will suffice to show that for all $\epsilon>0$, there is some partition $P$ such that $U(cf,P)-c\,\Omega<\epsilon$ and $c\,\Omega-L(cf,P)<\epsilon$. Let $\epsilon>0$ be arbitrary. Since $f$ is integrable on $[a,b]$, we have by Lemma \ref{lem:13.20} that there exists a partition $P$ such that $U(f,P)-\Omega<\frac{\epsilon}{c}$ and $\Omega-L(f,P)<\frac{\epsilon}{c}$. It follows by consecutive applications of Lemma \ref{lem:7.24} that $c\, U(f,P)-c\,\Omega<\epsilon$ and $c\,\Omega-c\, L(f,P)<\epsilon$. Therefore, we have that
        \begin{align*}
            U(cf,P)-c\,\Omega &= \sum_{i=1}^nM_i(cf)(t_i-t_{i-1})-c\,\Omega\tag*{Definition \ref{dfn:13.11}}\\
            &= \sum_{i=1}^nc\cdot M_i(f)(t_i-t_{i-1})-c\,\Omega\tag*{Lemma (b)}\\
            &= c\sum_{i=1}^nM_i(f)(t_i-t_{i-1})-c\,\Omega\\
            &= c\, U(f,P)-c\,\Omega\tag*{Definition \ref{dfn:13.11}}\\
            &< \epsilon
        \end{align*}
        and something similar for $c\,\Omega-L(cf,P)$.\par
        If $c<0$, then let $\Omega=\int_a^bf$. To prove that $cf$ is integrable on $[a,b]$ and that $\int_a^bcf=c\int_a^bf$, Lemma \ref{lem:13.20} tells us that it will suffice to show that for all $\epsilon>0$, there is some partition $P$ such that $U(cf,P)-c\,\Omega<\epsilon$ and $c\,\Omega-L(cf,P)<\epsilon$. Let $\epsilon>0$ be arbitrary. Since $f$ is integrable on $[a,b]$, we have by Lemma \ref{lem:13.20} that there exists a partition $P$ such that $U(f,P)-\Omega<\frac{\epsilon}{-c}$ and $\Omega-L(f,P)<\frac{\epsilon}{-c}$. It follows by consecutive applications of Lemma \ref{lem:7.24} that $c\,\Omega-c\, U(f,P)<\epsilon$ and $c\, L(f,P)-c\,\Omega<\epsilon$. Therefore, we have that
        \begin{align*}
            U(cf,P)-c\,\Omega &= \sum_{i=1}^nM_i(cf)(t_i-t_{i-1})-c\,\Omega\tag*{Definition \ref{dfn:13.11}}\\
            &= \sum_{i=1}^nc\cdot m_i(f)(t_i-t_{i-1})-c\,\Omega\tag*{Lemma (c)}\\
            &= c\sum_{i=1}^nm_i(f)(t_i-t_{i-1})-c\,\Omega\\
            &= c\, L(f,P)-c\,\Omega\tag*{Definition \ref{dfn:13.11}}\\
            &< \epsilon
        \end{align*}
        and something similar for $c\,\Omega-L(cf,P)$.
    \end{proof}
\end{theorem}

\begin{theorem}\label{trm:13.25}\marginnote{\emph{4/27:}}
    Suppose that $f$ and $g$ are integrable functions on $[a,b]$ with $f(x)\leq g(x)$ for all $x\in[a,b]$. Then
    \begin{equation*}
        \int_a^bf \leq \int_a^bg
    \end{equation*}
    \begin{proof}
        Suppose for the sake of contradiction that $\int_a^bf>\int_a^bg$. Then by Definition \ref{dfn:13.16}, $L(f)>L(g)$. It follows by Lemma \ref{lem:5.11} that there exists a $L(f,P)\in\{L(f,P)\mid P\text{ is a partition of }[a,b]\}$ such that $L(f)\geq L(f,P)>L(g)$. Thus, since $L(g,P)\leq L(g)$ by Definitions \ref{dfn:13.14}, \ref{dfn:5.7}, and \ref{dfn:5.6}, we have that $L(g,P)<L(f,P)$. Consequently, by Definition \ref{dfn:13.11}, $\sum_{i=1}^nm_i(g)(t_i-t_{i-1})<\sum_{i=1}^nm_i(f)(t_i-t_{i-1})$. Thus, by Script \ref{sct:7}, there exists an $i$ such that $m_i(g)<m_i(f)$. It follows by Lemma \ref{lem:5.11} that there exists a $g(x)\in\{g(x)\mid t_{i-1}\leq x\leq t_i\}$ such that $m_i(g)\leq g(x)<m_i(f)$. But this implies by Definitions \ref{dfn:13.11}, \ref{dfn:5.7}, and \ref{dfn:5.6} that $g(x)<f(x)$, a contradiction.
    \end{proof}
\end{theorem}

\begin{theorem}\label{trm:13.26}\marginnote{\emph{4/29:}}
    Suppose that $f$ is an integrable function on $[a,b]$. Then $|f|$ is also integrable on $[a,b]$ and
    \begin{equation*}
        \left| \int_a^bf \right| \leq \int_a^b|f|
    \end{equation*}
    \begin{lemma*}
        Let $P=\{t_0,\dots,t_n\}$ be an arbitrary partition of $[a,b]$. Then for any $i\in[n]$, the following inequality holds.
        \begin{equation*}
            M_i(|f|)-m_i(|f|) \leq M_i(f)-m_i(f)
        \end{equation*}
        \begin{proof}
            % \begin{itemize}
            %     \item Suppose first that $|M_i(f)|\geq|m_i(f)|$.
            %     \begin{itemize}
            %         \item Definitions \ref{dfn:13.11}, \ref{dfn:5.7}, and \ref{dfn:5.6}: $M_i(f)\geq f(y)>0$.
            %         \item Definition \ref{dfn:8.4}: $|M_i(f)|=M_i(f)$.
            %         \item Similarly: $|m_i(f)|=-m_i(f)$.
            %         \item The above: $M_i(f)\geq -m_i(f)$.
            %         \item Lemma (c), Theorem \ref{trm:13.24}: $M_i(f)\geq M_i(-f)$.
            %         \item Additionally: $M_i(f)\geq M_i(f)$.
            %         \item Last 2: $M_i(f)\geq M_i(|f|)$.
            %         \item Furthermore: $m_i(|f|)\geq 0>f(x)\geq m_i(f)$.
            %         \item Therefore:
            %         \begin{align*}
            %             M_i(|f|)-m_i(|f|) &\leq M_i(f)-m_i(|f|)\\
            %             &< M_i(f)-m_i(f)
            %         \end{align*}
            %         \item Can be weakened to $M_i(|f|)-m_i(|f|)\leq M_i(f)-m_i(f)$.
            %     \end{itemize}
            %     \item Now suppose that $|M_i(f)|<|m_i(f)|$.
            %     \begin{itemize}
            %         \item As before: $M_i(f)>0$ and $m_i(|f|)\geq 0$.
            %         \item Lemma \ref{lem:7.23}: $-M_i(f)<0$.
            %         \item Last 2: $-M_i(f)<m_i(|f|)$.
            %         \item Furthermore: $-m_i(f)=M_i(-f)$ and $M_i(f)<M_i(-f)$ implies $-m_i(f)=M_i(|f|)$.
            %         \item Definition \ref{dfn:7.21}: $M_i(|f|)-M_i(f)<m_i(|f|)-m_i(f)$.
            %         \item Definition \ref{dfn:7.21}: $M_i(|f|)-m_i(|f|)<M_i(f)-m_i(f)$.
            %         \item Can be weakened to $M_i(|f|)-m_i(|f|)\leq M_i(f)-m_i(f)$.
            %     \end{itemize}
            % \end{itemize}


            Let $i$ be an arbitrary natural number satisfying $1\leq i\leq n$. We divide into three cases ($f(x)\geq 0$ for all $x\in[a,b]$, $f(x)\leq 0$ for all $x\in[a,b]$, and there exist $x,y\in[a,b]$ such that $f(x)<0<f(y)$). Let's begin.\par\smallskip
            First, suppose that $f(x)\geq 0$ for all $x\in[a,b]$. Then by Definition \ref{dfn:8.4}, $|f(x)|=f(x)$ for all $x\in[a,b]$. It follows that $M_i(|f|)-m_i(|f|)=M_i(f)-m_i(f)$, which can be weakened to $M_i(|f|)-m_i(|f|)\leq M_i(f)-m_i(f)$, as desired.\par\smallskip
            Second, suppose that $f(x)\leq 0$ for all $x\in[a,b]$. Then by Definition \ref{dfn:8.4}, $|f(x)|=-f(x)$ for all $x\in[a,b]$. It follows that
            \begin{align*}
                M_i(|f|)-m_i(|f|) &= M_i(-f)-m_i(-f)\\
                &= -m_i(f)-(-M_i(f))\tag*{Lemma (c), Theorem \ref{trm:13.24}}\\
                &= M_i(f)-m_i(f)
            \end{align*}
            which can be weakened to $M_i(|f|)-m_i(|f|)\leq M_i(f)-m_i(f)$, as desired.\par\smallskip
            Third, suppose that there exist $x,y\in[a,b]$ such that $f(x)<0<f(y)$. We divide into two subcases ($|M_i(f)|\geq|m_i(f)|$ and $|M_i(f)|<|m_i(f)|$).\par
            Suppose first that $|M_i(f)|\geq|m_i(f)|$. By Definitions \ref{dfn:13.11}, \ref{dfn:5.7}, and \ref{dfn:5.6} as well as the hypothesis, $M_i(f)\geq f(y)>0$. Thus, by Definition \ref{dfn:8.4}, $|M_i(f)|=M_i(f)$. Similarly, $|m_i(f)|=-m_i(f)$. It follows by Lemma (c) from Theorem \ref{trm:13.24} that $-m_i(f)=M_i(-f)$. This combined with the fact that $|M_i(f)|=M_i(f)$ implies by the hypothesis that $M_i(f)\geq M_i(-f)$. Additionally, we clearly have that $M_i(f)\geq M_i(f)$. Consequently, since $M_i(f)\geq M_i(-f)$ and $M_i(f)\geq M_i(f)$, we have by Script \ref{sct:5} that $M_i(f)\geq M_i(|f|)$. Furthermore, we have by Definitions \ref{dfn:13.11}, \ref{dfn:5.7}, \ref{dfn:5.6}, and \ref{dfn:8.4} that $m_i(|f|)\geq 0>f(x)\geq m_i(f)$. Therefore, since $M_i(|f|)\leq M_i(f)$ and $m_i(f)<m_i(|f|)$, we have that
            \begin{align*}
                M_i(|f|)-m_i(|f|) &\leq M_i(f)-m_i(|f|)\\
                &< M_i(f)-m_i(f)
            \end{align*}
            which can be weakened to $M_i(|f|)-m_i(|f|)\leq M_i(f)-m_i(f)$, as desired.\par
            Now suppose that $|M_i(f)|<|m_i(f)|$. As before, $M_i(f)>0$ and $m_i(|f|)\geq 0$. It follows from the former result by Lemma \ref{lem:7.23} that $-M_i(f)<0$. This combined with the previous result implies by transitivity that $-M_i(f)\leq m_i(|f|)$. Additionally, we have as before that $-m_i(f)=M_i(-f)$ and $M_i(f)=|M_i(f)|<|m_i(f)|=-m_i(f)=M_i(-f)$. Thus, $M_i(|f|)=M_i(-f)=-m_i(f)$. This combined with the fact that $-M_i(f)\leq m_i(|f|)$ implies by Definition \ref{dfn:7.21} that $M_i(|f|)-M_i(f)<m_i(|f|)-m_i(f)$. It follows by consecutive applications of Definition \ref{dfn:7.21} that $M_i(|f|)-m_i(|f|)<M_i(f)-m_i(f)$, which can be weakened to $M_i(|f|)-m_i(|f|)\leq M_i(f)-m_i(f)$, as desired.
        \end{proof}
    \end{lemma*}
    \begin{proof}[Proof of Theorem \ref{trm:13.26}]
        % \begin{itemize}
        %     \item Theorem \ref{trm:13.18}: There exists a partition $P$ of $[a,b]$ such that $U(f,P)-L(f,P)<\epsilon$.
        %     \item Therefore,
        %     \begin{align*}
        %         U(|f|,P)-L(|f|,P) &= \sum_{i=1}^nM_i(|f|)(t_i-t_{i-1})-\sum_{i=1}^nm_i(|f|)(t_i-t_{i-1})\tag*{Definition \ref{dfn:13.11}}\\
        %         &= \sum_{i=1}^n(M_i(|f|)-m_i(|f|))(t_i-t_{i-1})\\
        %         &\leq \sum_{i=1}^n(M_i(f)-m_i(f))(t_i-t_{i-1})\tag*{The Lemma}\\
        %         &= \sum_{i=1}^nM_i(f)(t_i-t_{i-1})-\sum_{i=1}^nm_i(f)(t_i-t_{i-1})\\
        %         &= U(f,P)-L(f,P)\tag*{Definition \ref{dfn:13.11}}\\
        %         &< \epsilon
        %     \end{align*}
        %     \item Script \ref{sct:8}: $-|f(x)|\leq f(x)\leq |f(x)|$ for all $x\in[a,b]$.
        %     \item (consecutive) Theorem \ref{trm:13.25}: $\int_a^b-|f|\leq\int_a^bf\leq\int_a^b|f|$.
        %     \item Theorem \ref{trm:13.24}: $\int_a^b-|f|=-\int_a^b|f|$.
        %     \item The lemma to Exercise \ref{exr:8.9}: $|\int_a^bf|\leq\int_a^b|f|$.
        % \end{itemize}


        To prove that $|f|$ is integrable on $[a,b]$, Theorem \ref{trm:13.18} tells us that it will suffice to show that for every $\epsilon>0$, there exists a partition $P$ of $[a,b]$ such that $U(|f|,P)-L(|f|,P)<\epsilon$. Let $\epsilon>0$ be arbitrary. By Theorem \ref{trm:13.18}, there exists a partition $P$ of $[a,b]$ such that $U(f,P)-L(f,P)<\epsilon$. Therefore,
        \begin{align*}
            U(|f|,P)-L(|f|,P) &= \sum_{i=1}^nM_i(|f|)(t_i-t_{i-1})-\sum_{i=1}^nm_i(|f|)(t_i-t_{i-1})\tag*{Definition \ref{dfn:13.11}}\\
            &= \sum_{i=1}^n(M_i(|f|)-m_i(|f|))(t_i-t_{i-1})\\
            &\leq \sum_{i=1}^n(M_i(f)-m_i(f))(t_i-t_{i-1})\tag*{The Lemma}\\
            &= \sum_{i=1}^nM_i(f)(t_i-t_{i-1})-\sum_{i=1}^nm_i(f)(t_i-t_{i-1})\\
            &= U(f,P)-L(f,P)\tag*{Definition \ref{dfn:13.11}}\\
            &< \epsilon
        \end{align*}
        as desired.\par
        We now seek to prove that $|\int_a^bf|\leq\int_a^b|f|$. By Script \ref{sct:8}, $-|f(x)|\leq f(x)\leq |f(x)|$ for all $x\in[a,b]$. It follows by consecutive applications of Theorem \ref{trm:13.25} that $\int_a^b-|f|\leq\int_a^bf\leq\int_a^b|f|$. Thus, since Theorem \ref{trm:13.24} asserts that $\int_a^b-|f|=-\int_a^b|f|$, we have that $-\int_a^b|f|\leq\int_a^bf\leq\int_a^b|f|$. Therefore, by the lemma to Exercise \ref{exr:8.9}, $|\int_a^bf|\leq\int_a^b|f|$, as desired.
    \end{proof}
\end{theorem}

\begin{theorem}\label{trm:13.27}\marginnote{\emph{5/4:}}
    Suppose that $f$ is integrable on $[a,b]$ and $m\leq f(x)\leq M$ for all $x\in[a,b]$. Then
    \begin{equation*}
        m(b-a) \leq \int_a^bf \leq M(b-a)
    \end{equation*}
    \begin{proof}
        Let $g,h:[a,b]\to\R$ be defined by $g(x)=m$ and $h(x)=M$. By consecutive applications of Exercise \ref{exr:13.17}, $g$ and $h$ are integrable on $[a,b]$ with $\int_a^bg=m(b-a)$ and $\int_a^bh=M(b-a)$. Additionally, we have by the definitions of $g$ and $h$ that $g(x)=m\leq f(x)\leq M=h(x)$. This combined with the fact that both $g$ and $h$ are integrable implies by consecutive applications of Theorem \ref{trm:13.25} that $\int_a^bg\leq\int_a^bf\leq\int_a^bh$. But this implies by the above that $m(b-a)\leq\int_a^bf\leq M(b-a)$, as desired.
    \end{proof}
\end{theorem}

\begin{theorem}\label{trm:13.28}
    Suppose that $f$ is integrable on $[a,b]$. Define $F:[a,b]\to\R$ by
    \begin{equation*}
        F(x) = \int_a^xf
    \end{equation*}
    Then $F$ is continuous.
    \begin{proof}
        To prove that $F$ is continuous, Theorem \ref{trm:9.10} tells us that it will suffice to show that $F$ is continuous at every $x\in[a,b]$. Let $x$ be an arbitrary element of $[a,b]$. To show that $F$ is continuous at $x$, Theorem \ref{trm:11.5} tells us that it will suffice to verify that for every $\epsilon>0$, there exists a $\delta>0$ such that if $y\in[a,b]$ and $|y-x|<\delta$, then $|F(y)-F(x)|<\epsilon$. Let $\epsilon>0$ be arbitrary. By Scripts \ref{sct:1} and \ref{sct:5}, the fact that $\{f(x)\mid x\in[a,b]\}$ is nonempty and bounded implies that $\{|f(x)|\mid x\in[a,b]\}$ is nonempty and bounded above. Thus, by Theorem \ref{trm:5.17}, $\sup\{|f(x)|\mid x\in[a,b]\}$ exists. As such, we may define $s=\sup\{|f(x)|\mid x\in[a,b]\}$ so that we may choose $\delta=\frac{\epsilon}{s}$. Now let $y$ be an arbitrary element of $[a,b]$ such that $|y-x|<\delta$. Therefore,
        \begin{align*}
            |F(y)-F(x)| &= \left| \int_a^yf-\int_a^xf \right|\\
            &= \left| \int_x^yf \right|\tag*{Theorem \ref{trm:13.23}}\\
            &\leq \int_x^y|f|\tag*{Theorem \ref{trm:13.26}}\\
            &\leq s(y-x)\tag*{Theorem \ref{trm:13.27}}\\
            &< s\cdot\frac{\epsilon}{s}\\
            &= \epsilon
        \end{align*}
    \end{proof}
\end{theorem}




\end{document}