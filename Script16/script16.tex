\documentclass[../main.tex]{subfiles}

\pagestyle{main}
\renewcommand{\chaptermark}[1]{\markboth{\chaptername\ \thechapter}{}}
\setcounter{chapter}{15}

\begin{document}




\chapter{Series}\label{sct:16}
\section{Journal}
\begin{definition}\label{dfn:16.1}\marginnote{5/20:}
    Let $N_0\in\N\cup\{0\}$ and let $(a_n)_{n=N_0}^\infty$ be a sequence of real numbers. Then the formal sum
    \begin{equation*}
        \sum_{n=N_0}^\infty a_n
    \end{equation*}
    is called an \textbf{infinite series}. (In most instances, we will start the series at $N_0=0$ or $N_0=1$.)\par
    We will define the \textbf{sequence of partial sums} $(p_n)$ of the series by
    \begin{equation*}
        p_n = a_{N_0}+\cdots+a_{N_0+n-1} = \sum_{i=N_0}^{N_0+n-1}a_i
    \end{equation*}
    Thus, $p_n$ is the sum of the first $n$ terms in the sequence $(a_n)$. We say that the series \textbf{converges} if there exists $L\in\R$ such that $\lim_{n\to\infty}p_n=L$. When this is the case, we write this as
    \begin{equation*}
        \sum_{n=N_0}^\infty a_n = L
    \end{equation*}
    and we say that $L$ is the \textbf{sum} of the series. When there does not exist such an $L$, we say that the series \textbf{diverges}.
\end{definition}

\begin{lemma}\label{lem:16.2}
    Let $(a_n)_{n=0}^\infty$ be a sequence of real numbers. Let $N_0\in\N$. Then $\sum_{n=0}^\infty a_n$ converges if and only if $\sum_{n=N_0}^\infty a_n$ converges.
    \begin{lemma*}
        Let $n\in\N$. Then
        \begin{equation*}
            \sum_{i=0}^{N_0+n-1}a_i = \sum_{i=0}^{N_0-1}a_i+\sum_{i=N_0}^{N_0+n-1}a_i
        \end{equation*}
        \begin{proof}
            This simple result follows immediately from Script \ref{sct:0}, so no formal proof will be given.
        \end{proof}
    \end{lemma*}
    \begin{proof}[Proof of Lemma \ref{lem:16.2}]
        Suppose first that $\sum_{n=0}^\infty a_n$ converges, and let $M=\sum_{n=0}^\infty a_n=\lim_{n\to\infty}\sum_{i=0}^{n-1}a_i$, where the latter equality holds by Definition \ref{dfn:16.1}. To prove that $\sum_{n=N_0}^\infty a_n$ converges, Definition \ref{dfn:16.1} tells us that it will suffice to find an $L\in\R$ such that $\lim_{n\to\infty}\sum_{i=N_0}^{N_0+n-1}a_i=L$. Choose $L=M-\sum_{i=0}^{N_0-1}a_i$. To verify that $\lim_{n\to\infty}\sum_{i=N_0}^{N_0+n-1}a_i=L$, Theorem \ref{trm:15.7} tells us that it will suffice to show that for all $\epsilon>0$, there exists an $N\in\N$ such that for all $n\geq N$, $|\sum_{i=N_0}^{N_0+n-1}a_i-L|<\epsilon$. Let $\epsilon>0$ be arbitrary. Since $\lim_{n\to\infty}\sum_{i=0}^{n-1}a_i=M$, Theorem \ref{trm:15.7} implies that there is some $N\in\N$ such that for all $n\geq N$, $|\sum_{i=0}^{n-1}a_i-M|<\epsilon$. Choose this $N$ to be our $N$. Let $n$ be an arbitrary natural number such that $n\geq N$. Since $N_0+n>n\geq N$, we have by the above that $|\sum_{i=0}^{N_0+n-1}a_i-M|<\epsilon$. Therefore,
        \begin{align*}
            \left| \sum_{i=N_0}^{N_0+n-1}a_i-L \right| &= \left| \sum_{i=0}^{N_0+n-1}a_i-\sum_{i=0}^{N_0-1}a_i-L \right|\tag*{The Lemma}\\
            &= \left| \sum_{i=0}^{N_0+n-1}a_i-\left( \sum_{i=0}^{N_0-1}a_i+L \right) \right|\\
            &= \left| \sum_{i=0}^{N_0+n-1}a_i-M \right|\\
            &< \epsilon
        \end{align*}
        as desired.\par
        The proof is symmetric in the other direction.
    \end{proof}
\end{lemma}

\begin{exercise}\label{exr:16.3}
    Prove that $\sum_{n=1}^\infty(\frac{1}{n}-\frac{1}{n+1})$ converges. What is its sum?
    \begin{proof}
        Let $(a_n)$ be defined by $a_n=\frac{1}{n}-\frac{1}{n+1}$, and let $(p_n)$ be defined by $p_n=\sum_{i=1}^na_i$. Then
        \begin{align*}
            p_n &= a_1+a_2+\cdots+a_n\\
            &= \left( \frac{1}{1}-\frac{1}{2} \right)+\left( \frac{1}{2}-\frac{1}{3} \right)+\cdots+\left( \frac{1}{n}-\frac{1}{n+1} \right)\\
            &= \frac{1}{1}-\frac{1}{n+1}
        \end{align*}
        To prove that $\sum_{n=1}^\infty(\frac{1}{n}-\frac{1}{n+1})=1$, Definition \ref{dfn:16.1} tells us that it will suffice to show that $\lim_{n\to\infty}p_n=1$. By a proof symmetric to that of Exercise \ref{exr:15.6a}, we have that $\lim_{n\to\infty}1=1$. By a proof symmetric to that of Exercise \ref{exr:15.6c}, we have that $\lim_{n\to\infty}\frac{1}{n+1}=0$. Therefore, by Theorem \ref{trm:15.9} and the above, we have that
        \begin{align*}
            \lim_{n\to\infty}p_n &= \lim_{n\to\infty}\left( 1-\frac{1}{n+1} \right)\\
            &= \lim_{n\to\infty}1-\lim_{n\to\infty}\frac{1}{n+1}\\
            &= 1-0\\
            &= 1
        \end{align*}
        as desired.
    \end{proof}
\end{exercise}

\begin{theorem}\label{trm:16.4}
    If $\sum_{n=1}^\infty a_n$ converges, then $\lim_{n\to\infty}a_n=0$.
    \begin{proof}
        To prove that $\lim_{n\to\infty}a_n=0$, Theorem \ref{trm:15.7} tells us that it will suffice to show that for all $\epsilon>0$, there exists an $N\in\N$ such that for all $n\geq N$, $|a_n-0|<\epsilon$. Let $\epsilon>0$ be arbitrary. Since $\sum_{n=1}^\infty a_n$ converges, we have by Theorem \ref{trm:15.19} that there exists an $N\in\N$ such that $|\sum_{i=1}^na_i-\sum_{i=1}^ma_i|<\epsilon$ for all $n,m\geq N$. Choose this $N$ to be our $N$. Let $n$ be an arbitrary natural number such that $n\geq N$. Then choosing $n,n-1\geq N$, we have by the above that $|\sum_{i=1}^na_i-\sum_{i=1}^{n-1}a_i|<\epsilon$. Therefore,
        \begin{align*}
            |a_n-0| &= |a_n|\\
            &= \left| \sum_{i=1}^na_i-\sum_{i=1}^{n-1}a_i \right|\\
            &< \epsilon
        \end{align*}
        as desired.
    \end{proof}
\end{theorem}

The converse of this theorem, however, is not true, as we see in Theorem \ref{trm:16.6}.

\begin{theorem}\label{trm:16.5}
    A series $\sum_{n=1}^\infty a_n$ converges if and only if for all $\epsilon>0$, there is some $N\in\N$ such that $|\sum_{k=m+1}^na_k|<\epsilon$ for all $n>m\geq N$.
    \begin{proof}
        Suppose first that $\sum_{n=1}^\infty a_n$ converges. Let $\epsilon>0$ be arbitrary. By Definition \ref{dfn:16.1}, $(p_n)$ converges. Thus, by Theorem \ref{trm:15.19}, there is some $N\in\N$ such that $|p_n-p_m|<\epsilon$ for all $n,m\geq N$. Choose this $N$ to be our $N$. Let $n,m$ be two arbitrary natural numbers satisfying $n>m\geq N$. Therefore,
        \begin{align*}
            \left| \sum_{k=m+1}^na_k \right| &= \left| \sum_{k=1}^na_k-\sum_{k=1}^ma_k \right|\\
            &= |p_n-p_m|\\
            &< \epsilon
        \end{align*}
        as desired.\par
        The proof is symmetric in the other direction.
    \end{proof}
\end{theorem}

\begin{theorem}\label{trm:16.6}
    The series $\sum_{n=1}^\infty\frac{1}{n}$ diverges.
    \begin{lemma*}
        For all $N\in\N$, we have
        \begin{equation*}
            \sum_{n=N+1}^{2N}\frac{1}{n} \geq \frac{1}{2}
        \end{equation*}
        \begin{proof}
            We induct on $N$. For the base case $N=1$, we have
            \begin{equation*}
                \sum_{n=1+1}^{2\cdot 1}\frac{1}{n} = \frac{1}{2} \geq \frac{1}{2}
            \end{equation*}
            as desired. Now suppose inductively that we have proven the claim for $N$. To prove it for $N+1$, we do the following.
            \begin{align*}
                \sum_{n=N+2}^{2N+2}\frac{1}{n} &= \sum_{n=N+1}^{2N}\frac{1}{n}-\frac{1}{N+1}+\frac{1}{2N+1}+\frac{1}{2(N+1)}\\
                % &= \sum_{n=N+1}^{2N}\frac{1}{n}-\frac{2(2N+1)}{2(N+1)(2N+1)}+\frac{2(N+1)}{2(N+1)(2N+1)}+\frac{2N+1}{2(N+1)(2N+1)}\\
                % &= \sum_{n=N+1}^{2N}\frac{1}{n}+\frac{-2(2N+1)+2(N+1)+(2N+1)}{2(N+1)(2N+1)}\\
                &= \sum_{n=N+1}^{2N}\frac{1}{n}+\frac{1}{2(N+1)(2N+1)}\\
                &> \sum_{n=N+1}^{2N}\frac{1}{n}\\
                &\geq \frac{1}{2}
            \end{align*}
            as desired.
        \end{proof}
    \end{lemma*}
    \begin{proof}[Proof of Theorem \ref{trm:16.6}]
        To prove that $\sum_{n=1}^\infty\frac{1}{n}$ diverges, Theorem \ref{trm:16.5} tells us that it will suffice to find an $\epsilon>0$ such that for all $N\in\N$, there exist $n>m\geq N$ with $|\sum_{k=m+1}^n1/k|\geq\epsilon$. Choose $\epsilon=\frac{1}{2}$. Let $N$ be an arbitrary element of $N$. If we now choose $n=2N$ and $m=N$, we will have $n>m\geq N$. It will follow by the lemma that
        \begin{align*}
            \left| \sum_{k=m+1}^n\frac{1}{k} \right| &= \left| \sum_{k=N+1}^{2N}\frac{1}{k} \right|\\
            &\geq \frac{1}{2}\\
            &= \epsilon
        \end{align*}
        as desired.
    \end{proof}
\end{theorem}

\begin{theorem}\label{trm:16.7}\marginnote{\emph{5/25:}}
    Let $-1<x<1$. Then
    \begin{equation*}
        \sum_{n=0}^\infty x^n = \frac{1}{1-x}
    \end{equation*}
    \begin{proof}
        Let $(a_n)$ be defined by $a_n=x^n$. Then $p_n=x^0+x^1+\cdots+x^{n-1}$ so that
        \begin{align*}
            p_n-xp_n &= x^0+\cdots+x^{n-1}-x(x^0+\cdots+x^{n-1})\\
            p_n-xp_n &= 1-x^n\\
            p_n(1-x) &= 1-x^n\\
            p_n &= \frac{1-x^n}{1-x}
        \end{align*}
        Therefore, we have that
        \begin{align*}
            \frac{1}{1-x} &= \frac{1-0}{1-x}\\
            &= \frac{1-\lim_{n\to\infty}x^n}{1-x}\tag*{Exercise \ref{exr:15.8b}}\\
            &= \lim_{n\to\infty}\frac{1-x^n}{1-x}\tag*{Theorem \ref{trm:15.9}}\\
            &= \lim_{n\to\infty}p_n\\
            &= \sum_{n=0}^\infty x^n\tag*{Definition \ref{dfn:16.1}}
        \end{align*}
        as desired.
    \end{proof}
\end{theorem}

\begin{theorem}\label{trm:16.8}
    If $\sum_{n=1}^\infty a_n=L$, $\sum_{n=1}^\infty b_n=M$, and $c\in\R$, then
    \begin{gather*}
        \sum_{n=1}^\infty(a_n+b_n) = L+M\\
        \sum_{n=1}^\infty(c\cdot a_n) = c\cdot L
    \end{gather*}
    \begin{proof}
        For the first claim, we have that
        \begin{align*}
            L+M &= \sum_{n=1}^\infty a_n+\sum_{n=1}^\infty b_n\\
            &= \lim_{n\to\infty}\sum_{i=1}^na_i+\lim_{n\to\infty}\sum_{i=1}^nb_i\tag*{Definition \ref{dfn:16.1}}\\
            &= \lim_{n\to\infty}\left( \sum_{i=1}^na_i+\sum_{i=1}^nb_i \right)\tag*{Theorem \ref{trm:15.9}}\\
            &= \lim_{n\to\infty}\sum_{i=1}^n(a_i+b_i)\\
            &= \sum_{n=1}^\infty(a_n+b_n)\tag*{Definition \ref{dfn:16.1}}
        \end{align*}\par
        The proof is symmetric for the second claim.
    \end{proof}
\end{theorem}

\begin{definition}\label{dfn:16.9}
    We say that the series $\sum_{n=1}^\infty a_n$ \textbf{converges absolutely} if the series $\sum_{n=1}^\infty|a_n|$ converges.
\end{definition}

\begin{lemma}\label{lem:16.10}
    A series $\sum_{n=1}^\infty a_n$ with all $a_n\geq 0$ converges if and only if its sequence of partial sums is bounded.
    \begin{proof}
        Suppose first that the series $\sum_{n=1}^\infty a_n$ with all $a_n\geq 0$ converges. Then by Definition \ref{dfn:16.1} its sequence of partial sums $(p_n)$ converges. Therefore, by Theorem \ref{trm:15.13}, $(p_n)$ is bounded, as desired.\par
        Now suppose that the sequence of partial sums $(p_n)$ corresponding to a series $\sum_{n=1}^\infty a_n$ with all $a_n\geq 0$ is bounded. To prove that $\sum_{n=1}^\infty a_n$ converges, Definition \ref{dfn:16.1} tells us that it will suffice to show that $(p_n)$ converges. To do so, Theorem \ref{trm:15.14} tells us that it will suffice to verify in addition to the fact that $(p_n)$ is bounded that $(p_n)$ is increasing. To do this, Script \ref{sct:15} tells us that it will suffice to confirm that $p_n\leq p_{n+1}$ for all $n\in\N$. Let $n$ be an arbitrary natural number. By Definition \ref{dfn:16.1}, $p_{n+1}-p_n=a_{n+1}$. Since $a_{n+1}\geq 0$ by hypothesis, we have by transitivity that $p_{n+1}-p_n\geq 0$, i.e., $p_n\leq p_{n+1}$ by Definition \ref{dfn:7.21}, as desired.
    \end{proof}
\end{lemma}

\begin{theorem}\label{trm:16.11}
    If $\sum_{n=1}^\infty a_n$ converges absolutely, then $\sum_{n=1}^\infty a_n$ converges and
    \begin{equation*}
        \left| \sum_{n=1}^\infty a_n \right| \leq \sum_{n=1}^\infty|a_n|
    \end{equation*}
    \begin{proof}
        To prove that $\sum_{n=1}^\infty a_n$ converges, Theorem \ref{trm:16.5} tells us that it will suffice to show that for all $\epsilon>0$, there is some $N\in\N$ such that $|\sum_{k=m+1}^na_k|<\epsilon$ for all $n>m\geq N$. Let $\epsilon>0$ be arbitrary. Since $\sum_{n=1}^\infty a_n$ converges absolutely by hypothesis, we have by Definition \ref{dfn:16.9} that $\sum_{n=1}^\infty|a_n|$ converges. Thus, by Theorem \ref{trm:16.5}, there is some $N\in\N$ such that $|\sum_{k=m+1}^n|a_k||<\epsilon$ for all $n>m\geq N$. Choose this $N$ to be our $N$. Let $n,m$ be arbitrary natural numbers such that $n>m\geq N$. Therefore,
        \begin{align*}
            \left| \sum_{k=m+1}^na_k \right| &\leq \sum_{k=m+1}^n|a_k|\tag*{Lemma \ref{lem:8.8}}\\
            &= \left| \sum_{k=m+1}^n|a_k| \right|\\
            &< \epsilon
        \end{align*}
        as desired.\par\smallskip
        As to the other part of the claim, to begin, let $(b_n)$ and $(c_n)$ be defined by $b_n=\max(0,a_n)$ and $c_n=\min(0,a_n)$. We will prove a few preliminary results with these definitions that will enable us to tackle the big inequality.\par
        To confirm that $a_n=b_n+c_n$, we divide into two cases ($a_n\geq 0$ and $a_n<0$). If $a_n\geq 0$, then by their definitions, $b_n=a_n$ and $c_n=0$. Thus, $a_n=b_n+c_n$ as desired. The argument is symmetric in the other case.\par
        To confirm that $|\sum_{n=1}^\infty b_n|+|\sum_{n=1}^\infty -c_n|=|\sum_{n=1}^\infty b_n+\sum_{n=1}^\infty -c_n|$, we can acknowledge that $b_n\geq 0$ and $-c_n\geq 0$ for all $n\in\N$ to demonstrate that
        \begin{align*}
            \left| \sum_{n=1}^\infty b_n \right|+\left| \sum_{n=1}^\infty -c_n \right| &= \sum_{n=1}^\infty b_n+\sum_{n=1}^\infty -c_n\\
            &= \left| \sum_{n=1}^\infty b_n+\sum_{n=1}^\infty -c_n \right|
        \end{align*}\par
        To confirm that $|a_n|=b_n-c_n$, we divide into two cases ($a_n\geq 0$ and $a_n<0$). If $a_n\geq 0$, then $b_n=a_n$ and $c_n=0$. Thus, by Definition \ref{dfn:8.4}, $|a_n|=a_n=b_n-c_n$, as desired. On the other hand, if $a_n<0$, then $b_n=0$ and $c_n=a_n$. Thus, by Definition \ref{dfn:8.4} again, $|a_n|=-a_n=b_n-c_n$, as desired.\par
        Having established that $a_n=b_n+c_n$, $|\sum_{n=1}^\infty b_n|+|\sum_{n=1}^\infty -c_n|=|\sum_{n=1}^\infty b_n+\sum_{n=1}^\infty -c_n|$, and $|a_n|=b_n-c_n$, we have that
        \begin{align*}
            \left| \sum_{n=1}^\infty a_n \right| &= \left| \sum_{n=1}^\infty(b_n+c_n) \right|\\
            &= \left| \sum_{n=1}^\infty b_n+\sum_{n=1}^\infty c_n \right|\tag*{Theorem \ref{trm:16.8}}\\
            &\leq \left| \sum_{n=1}^\infty b_n \right|+\left| \sum_{n=1}^\infty c_n \right|\tag*{Lemma \ref{lem:8.8}}\\
            &= \left| \sum_{n=1}^\infty b_n \right|+\left| -\sum_{n=1}^\infty c_n \right|\tag*{Exercise \ref{exr:8.5}}\\
            &= \left| \sum_{n=1}^\infty b_n \right|+\left| \sum_{n=1}^\infty -c_n \right|\tag*{Theorem \ref{trm:16.8}}\\
            &= \left| \sum_{n=1}^\infty b_n+\sum_{n=1}^\infty -c_n \right|\\
            &= \left| \sum_{n=1}^\infty(b_n-c_n) \right|\tag*{Theorem \ref{trm:16.8}}\\
            &= \left| \sum_{n=1}^\infty|a_n| \right|\\
            &= \sum_{n=1}^\infty|a_n|
        \end{align*}
        as desired.
    \end{proof}
\end{theorem}

\begin{theorem}\label{trm:16.12}
    Let $(a_n)$ be a decreasing sequence of positive numbers such that $\lim_{n\to\infty}a_n=0$. Then $\sum_{n=1}^\infty(-1)^{n+1}a_n$ converges.
    % \begin{lemma*}
    %     Let $k$ be even, $j$ be odd. Then $p_k\leq p_j$.
    %     \begin{proof}
            
    %     \end{proof}
    % \end{lemma*}
    \begin{lemma*}\leavevmode
        \begin{enumerate}[label={\textup{(}\alph*\textup{)}}]
            \item For any natural numbers $n,m$ satisfying $n>m$, we have
            \begin{equation*}
                \left| \sum_{k=m+1}^n(-1)^{k+1}a_k \right| = |a_{m+1}-a_{m+2}+a_{m+3}-a_{m+4}+a_{m+5}-\cdots\pm a_n|
            \end{equation*}
            \begin{proof}
                By Script \ref{sct:0}, either $|\sum_{k=m+1}^n(-1)^{k+1}a_k|=|a_{m+1}-a_{m+2}+a_{m+3}-\cdots\pm a_n|$ or $|\sum_{k=m+1}^n(-1)^{k+1}a_k|=|-a_{m+1}+a_{m+2}-a_{m+3}+\cdots\pm a_n|$. However, by Exercise \ref{exr:8.5}, the two results are equal. Thus, we may choose the former WLOG.
            \end{proof}
            \item We have
            \begin{equation*}
                0 \leq a_{m+1}-a_{m+2}+a_{m+3}-a_{m+4}+\cdots\pm a_n
            \end{equation*}
            \begin{proof}
                Since $(a_n)$ is a decreasing sequence, we have by Script \ref{sct:15} that $a_{i+1}\leq a_i$ for all $i\in\N$. It follows by Definition \ref{dfn:7.21} that $0\leq a_i-a_{i+1}$ for all $i\in\N$. We now divide into two cases (there are an even number of terms in the sum $a_{m+1}-a_{m+2}+a_{m+3}-a_{m+4}+a_{m+5}-\cdots\pm a_n$ and there are an odd number of terms in said sum). In the first case, we have that the sum is of the form $a_{m+1}-a_{m+2}+a_{m+3}-a_{m+4}+\cdots+a_{n-1}-a_n$. Thus, since $0\leq a_{m+1}-a_{m+2}$, $0\leq a_{m+3}-a_{m+4}$, and on and on, we have by Script \ref{sct:7} that $0\leq a_{m+1}-a_{m+2}+a_{m+3}-a_{m+4}+\cdots-a_n$, as desired. On the other hand, in the second case, we have that the sum is of the form $a_{m+1}-a_{m+2}+a_{m+3}-a_{m+4}+\cdots+a_{n-2}-a_{n-1}+a_n$. For the same reason as before, we have that $0\leq a_{m+1}-a_{m+2}+a_{m+3}-a_{m+4}+\cdots+a_{n-2}-a_{n-1}$. However, we need the additional hypothesis that every $a_i$ is positive, i.e., $a_i\geq 0$ for all $i\in\N$ to know that $0\leq a_{m+1}-a_{m+2}+a_{m+3}-a_{m+4}+\cdots+a_n$, as desired.
            \end{proof}
            \item For all $i\in\N$, we have
            \begin{align*}
                -a_i+a_{i+1} \leq 0
            \end{align*}
            \begin{proof}
                Since $(a_n)$ is a decreasing sequence, we have by Script \ref{sct:15} that $a_{i+1}\leq a_i$ for all $i\in\N$. It follows by Definition \ref{dfn:7.21} that $-a_i+a_{i+1}\leq 0$ for all $i\in\N$.
            \end{proof}
        \end{enumerate}
    \end{lemma*}
    \begin{proof}[Proof of Theorem \ref{trm:16.12}]
        To prove that $\sum_{n=1}^\infty(-1)^{n+1}a_n$ converges, Theorem \ref{trm:16.5} tells us that it will suffice to show that for all $\epsilon>0$, there is some $N\in\N$ such that $|\sum_{k=m+1}^n(-1)^{k+1}a_k|<\epsilon$ for all $n>m\geq N$. Let $\epsilon>0$ be arbitrary. Since $\lim_{n\to\infty}a_n=0$ by hypothesis, we have by Theorem \ref{trm:15.7} that there exists an $N\in\N$ such that for all $n\geq N$, we have $|a_n-0|=|a_n|<\epsilon$, as desired. Choose this $N$ to be our $N$. Let $n,m$ be arbitrary natural numbers such that $n>m\geq N$.\par
        We divide into two cases ($n-m$ is even [i.e., there are an even number of terms in the sum $\sum_{k=m+1}^n(-1)^{k+1}a_k$] and $n-m$ is odd [i.e., there are an odd number of terms in the sum $\sum_{k=m+1}^n(-1)^{k+1}a_k$]). If $n-m$ is even, then we have
        \begin{align*}
            \left| \sum_{k=m+1}^n(-1)^{k+1}a_k \right| &= |a_{m+1}-a_{m+2}+a_{m+3}-a_{m+4}+a_{m+5}-\cdots-a_{n-2}+a_{n-1}-a_n|\tag*{Lemma (a)}\\
            &= a_{m+1}-a_{m+2}+a_{m+3}-a_{m+4}+a_{m+5}-\cdots-a_{n-2}+a_{n-1}-a_n\tag*{Lemma (b) \& Definition \ref{dfn:8.4}}\\
            &= a_{m+1}+(-a_{m+2}+a_{m+3})+(-a_{m+4}+a_{m+5})+\cdots+(-a_{n-2}+a_{n-1})-a_n\\
            &\leq a_{m+1}+(-a_{m+4}+a_{m+5})+\cdots+(-a_{n-2}+a_{n-1})-a_n\tag*{Lemma (c)}\\
            &\leq a_{m+1}+\cdots+(-a_{n-2}+a_{n-1})-a_n\tag*{Lemma (c)}\\
            &\hspace{5pt}\vdots\tag*{Lemma (c)}\\
            &\leq a_{m+1}+(-a_{n-2}+a_{n-1})-a_n\tag*{Lemma (c)}\\
            &\leq a_{m+1}-a_n\tag*{Lemma (c)}\\
            &\leq a_{m+1}\\
            &= |a_{m+1}|\\
            &< \epsilon
        \end{align*}
        The argument is symmetric if $n-m$ is odd.
    \end{proof}
\end{theorem}

\marginnote{5/27:}The following theorem will be useful to prove more specialized tests for convergence of series.

\begin{theorem}\label{trm:16.13}
    Let $(c_n)$ be a sequence of positive numbers and let $(a_n)$ be a sequence such that $|a_n|\leq c_n$ for all $n\geq N_0$, where $N_0$ is some fixed integer. If $\sum_{n=1}^\infty c_n$ converges, then $\sum_{n=1}^\infty a_n$ converges.
    \begin{proof}
        To prove that $\sum_{n=1}^\infty a_n$ converges, Theorem \ref{trm:16.11} and Definition \ref{dfn:16.9} tell us that it will suffice to show that $\sum_{n=1}^\infty|a_n|$ converges. To do this, Theorem \ref{trm:16.5} tells us that it will suffice to verify that for all $\epsilon>0$, there exists an $N\in\N$ such that $|\sum_{k=m+1}^n|a_k||<\epsilon$ for all $n>m\geq N$. Let $\epsilon>0$ be arbitrary. Since $\sum_{n=1}^\infty c_n$ converges by hypothesis, we have by Theorem \ref{trm:16.5} that there is some $N_1\in\N$ such that $|\sum_{k=m+1}^nc_k|<\epsilon$ for all $n>m\geq N_1$. Choose $N=\max(N_0,N_1)$. Let $n,m$ be arbitrary natural numbers such that $n>m\geq N$. Since $c_k\geq 0$ for all $k\in\N$ by hypothesis, it follows by Script \ref{sct:7} that $\sum_{k=m+1}^nc_k\geq 0$. Thus, Definition \ref{dfn:8.4} implies that $\sum_{k=m+1}^nc_k=|\sum_{k=m+1}^nc_k|<\epsilon$. Similarly, we have that $|\sum_{k=m+1}^n|a_k||=\sum_{k=m+1}^n|a_k|$. Lastly, since we know by hypothesis that $|a_k|\leq c_k$ for all $k\geq N_0$, i.e., for all $k\geq N$, Script \ref{sct:7} asserts that $\sum_{k=m+1}^n|a_k|\leq\sum_{k=m+1}^nc_n$. Therefore, combining the last three results, we have that $|\sum_{k=m+1}^n|a_k||=\sum_{k=m+1}^n|a_k|\leq\sum_{k=m+1}^nc_n<\epsilon$, as desired.
    \end{proof}
\end{theorem}

\begin{lemma}\label{lem:16.14}
    Suppose that $(b_n)$ is a sequence of nonnegative numbers with $\lim_{n\to\infty}b_n=L$, where $L<1$. Then there is some $N\in\N$ such that $0\leq b_n<\frac{1+L}{2}$ for all $n\geq N$.
    \begin{proof}
        Choose $\epsilon=\frac{1-L}{2}$; since $L<1$, we have that $0<1-L$, i.e., $0<\frac{1-L}{2}$ as needed. It follows by Theorem \ref{trm:15.7} (since $\lim_{n\to\infty}b_n=L$ by hypothesis) that there is some $N\in\N$ such that $|b_n-L|<\frac{1-L}{2}$ for all $n\geq N$. Choose this $n$ to be our $N$. Let $n$ be an arbitrary natural number such that $n\geq N$. Then 
        \begin{align*}
            |b_n-L| &< \frac{1-L}{2}\\
            -\frac{1-L}{2} < b_n-L &< \frac{1-L}{2}\tag*{Lemma, Exercise \ref{exr:8.9}}\\
            b_n &< \frac{1+L}{2}
        \end{align*}
        Additionally, since $(b_n)$ is a sequence of nonnegative numbers, $0\leq b_n$. Therefore, combining the last two results, we have that $0\leq b_n<\frac{1+L}{2}$, as desired.
    \end{proof}
\end{lemma}

\begin{theorem}\label{trm:16.15}
    Let $(a_n)$ be a sequence such that $\lim_{n\to\infty}|\frac{a_{n+1}}{a_n}|$ exists. Then
    \begin{enumerate}[label={\textup{(}\alph*\textup{)}},ref={\thetheorem\alph*}]
        \item \label{trm:16.15a}If $\lim_{n\to\infty}|\frac{a_{n+1}}{a_n}|<1$, then $\sum_{n=1}^\infty a_n$ converges.
        \begin{proof}
            % \begin{itemize}
            %     \item WTS (Theorem \ref{trm:16.13}): There exists a sequence $(c_n)$ of positive numbers such that $|a_n|\leq c_n$ for all $n\geq N_0$, where $N_0$ is some fixed integer, for which $\sum_{n=1}^\infty c_n$ converges.
            %     \item Lemma \ref{lem:16.14}: There is some $N_0\in\N$ such that $0\leq|\frac{a_{n+1}}{a_n}|<\frac{1+L}{2}$ for all $n\geq N$.
            %     \item Let $(c_n)$ be defined by $c_n=(\frac{1+L}{2})^{n-N_0}\cdot|a_{N_0}|$.
            %     \item Verify that $c_n\geq 0$ for all $n\in\N$.
            %     \begin{itemize}
            %         \item The above and transitivity: $0<\frac{1+L}{2}$.
            %         \item Script \ref{sct:7}: $0<(\frac{1+L}{2})^{n-N_0}$ for all $n\geq N_0$.
            %         \item Definition \ref{dfn:8.4} and Script \ref{sct:7}: $0\leq(\frac{1+L}{2})^{n-N_0}\cdot|a_{N_0}|=c_n$.
            %     \end{itemize}
            %     \item Verify that $|a_n|\leq c_n$ for all $n\geq N_0$.
            %     \begin{itemize}
            %         \item We induct on $\N$ using Additional Exercise \ref{axr:0.2a}.
            %         \item Base case: $n=N_0$.
            %         \begin{equation*}
            %             |a_{N_0}| = 1\cdot|a_{N_0}|
            %             = \left( \frac{1+L}{2} \right)^{N_0-N_0}\cdot|a_{N_0}|
            %             = c_{N_0}
            %         \end{equation*}
            %         \item Weaken to $|a_1|\leq c_1$, as desired.
            %         \item Suppose (inductively): Claim proven for $n$; seek to prove it for $n+1$.
            %         \item $n\geq N_0$ (the above): $0\leq|\frac{a_{n+1}}{a_n}|<\frac{1+L}{2}$.
            %         \item Script \ref{sct:7}: $|a_{n+1}|<\frac{1+L}{2}\cdot|a_n|$.
            %         \item Therefore:
            %         \begin{align*}
            %             |a_{n+1}| &< \frac{1+L}{2}\cdot|a_n|\\
            %             &\leq \frac{1+L}{2}\cdot c_n\\
            %             &= \frac{1+L}{2}\cdot\left( \frac{1+L}{2} \right)^{n-N_0}\cdot|a_{N_0}|\\
            %             &= \left( \frac{1+L}{2} \right)^{(n+1)-N_0}\cdot|a_{N_0}|\\
            %             &= c_{n+1}
            %         \end{align*}
            %         \item Weaken to $|a_{n+1}|\leq c_{n+1}$.
            %     \end{itemize}
            %     \item $\sum_{n=1}^\infty c_n$ converges.
            %     \begin{itemize}
            %         \item Script \ref{sct:7}: $L<1 \Longrightarrow 1+L<2 \Longrightarrow \frac{1+L}{2}<1$.
            %         \item Script \ref{sct:7}: $0<\frac{1+L}{2} \Longrightarrow -1<\frac{1+L}{2}$.
            %         \item Theorem \ref{trm:16.7}: $\sum_{n=0}^\infty(\frac{1+L}{2})^n$ converges.
            %         \item Script \ref{sct:0}: $\sum_{n=N_0}^\infty(\frac{1+L}{2})^{n-N_0}$ converges.
            %         \item Lemma \ref{lem:16.2}: $\sum_{n=1}^\infty(\frac{1+L}{2})^{n-N_0}$ converges.
            %         \item Theorem \ref{trm:16.8}: $\sum_{n=1}^\infty(\frac{1+L}{2})^{n-N_0}\cdot|a_{N_0}|$ converges.
            %         \item Definition of $c_n$: $\sum_{n=1}^\infty c_n$ converges.
            %     \end{itemize}
            % \end{itemize}


            Let $\lim_{n\to\infty}|\frac{a_{n+1}}{a_n}|=L$. To prove that $\sum_{n=1}^\infty a_n$ converges, Theorem \ref{trm:16.13} tells us that it will suffice to find a sequence $(c_n)$ of positive numbers such that $|a_n|\leq c_n$ for all $n\geq N_0$, where $N_0$ is some fixed integer, for which $\sum_{n=1}^\infty c_n$ converges. To begin, since $(|\frac{a_{n+1}}{a_n}|)$ is a sequence of nonnegative numbers with $\lim_{n\to\infty}|\frac{a_{n+1}}{a_n}|=L$, where $L<1$, we have by Lemma \ref{lem:16.14} that there exists an $N_0\in\N$ such that $0\leq|\frac{a_{n+1}}{a_n}|<\frac{1+L}{2}$ for all $n\geq N_0$. With this result, we can define $(c_n)$ by $c_n=(\frac{1+L}{2})^{n-N_0}\cdot|a_{N_0}|$ for all $n\in\N$. We will now prove that $(c_n)$ satisfies the necessary properties outlined in the beginning.\par
            First, we must confirm that $(c_n)$ is a sequence of positive numbers, i.e., that $c_n\geq 0$ for all $n\in\N$. Let $n$ be an arbitrary natural number. By the above result from Lemma \ref{lem:16.14} and transitivity, we know that $0<\frac{1+L}{2}$. It follows by Script \ref{sct:7} that $0<(\frac{1+L}{2})^{n-N_0}$. Therefore, by Definition \ref{dfn:8.4} and Script \ref{sct:7}, $0\leq(\frac{1+L}{2})^{n-N_0}\cdot|a_{N_0}|=c_n$, as desired.\par
            To confirm that $|a_n|\leq c_n$ for all $n\geq N_0$, we induct on $n$ using Additional Exercise \ref{axr:0.2a}. For the base case $n=N_0$, we have that
            \begin{equation*}
                |a_{N_0}| = 1\cdot|a_{N_0}|
                = \left( \frac{1+L}{2} \right)^{N_0-N_0}\cdot|a_{N_0}|
                = c_{N_0}
            \end{equation*}
            which we may weaken to $|a_{N_0}|\leq c_{N_0}$, as desired. Now suppose inductively that we have demonstrated that $|a_n|\leq c_n$; we now seek to demonstrate that $|a_{n+1}|\leq c_{n+1}$. By hypothesis, $n\geq N_0$, so by the above, we have that $0\leq|\frac{a_{n+1}}{a_n}|<\frac{1+L}{2}$. It follows by Script \ref{sct:7} that $|a_{n+1}|<\frac{1+L}{2}\cdot|a_n|$. Therefore,
            \begin{align*}
                |a_{n+1}| &< \frac{1+L}{2}\cdot|a_n|\\
                &\leq \frac{1+L}{2}\cdot c_n\\
                &= \frac{1+L}{2}\cdot\left( \frac{1+L}{2} \right)^{n-N_0}\cdot|a_{N_0}|\\
                &= \left( \frac{1+L}{2} \right)^{(n+1)-N_0}\cdot|a_{N_0}|\\
                &= c_{n+1}
            \end{align*}
            which we may weaken to $|a_{n+1}|\leq|c_{n+1}|$, as desired.\par
            Lastly, we must confirm that $\sum_{n=1}^\infty c_n$ converges. By Script \ref{sct:7}, it follows from the hypothesis that $L<1$ that $1+L<2$, which in turn implies that $\frac{1+L}{2}<1$. Additionally, the above result that $0<\frac{1+L}{2}$ implies by transitivity that $-1<\frac{1+L}{2}$. These last two results when combined imply $\sum_{n=0}^\infty(\frac{1+L}{2})^n$ satisfies the constraints of Theorem \ref{trm:16.7}, meaning that $\sum_{n=0}^\infty(\frac{1+L}{2})^n$ converges. Thus, by Script \ref{sct:0}, $\sum_{n=N_0}^\infty(\frac{1+L}{2})^{n-N_0}$ converges. Consequently, by consecutive applications of Lemma \ref{lem:16.2}, $\sum_{n=1}^\infty(\frac{1+L}{2})^{n-N_0}$ converges. It follows by Theorem \ref{trm:16.8} that $\sum_{n=1}^\infty(\frac{1+L}{2})^{n-N_0}\cdot|a_{N_0}|$ converges. Therefore, by the definition of $c_n$, $\sum_{n=1}^\infty c_n$ converges, as desired.
        \end{proof}
        \item \label{trm:16.15b}If $\lim_{n\to\infty}|\frac{a_{n+1}}{a_n}|>1$, then $\sum_{n=1}^\infty a_n$ diverges.
        \begin{proof}
            Let $\lim_{n\to\infty}|\frac{a_{n+1}}{a_n}|=L$. Suppose for the sake of contradiction that $\lim_{n\to\infty}a_n=0$. Then by Theorem \ref{trm:15.7}, for all $\epsilon_1>0$, there is some $N_1\in\N$ such that for all $n\geq N_1$, we have $|a_n|=|a_n-0|<\epsilon_1$. Similarly, since $\lim_{n\to\infty}|\frac{a_{n+1}}{a_n}|=L$, we have that for all $\epsilon_2>0$, there is some $N_2\in\N$ such that for all $n\geq N_2$, we have $||\frac{a_{n+1}}{a_n}|-L|<\epsilon_2$. Choose $\epsilon_2=L-1$ (it follows from the fact that $L>1$ by Definition \ref{dfn:7.21} that $L-1>0$). Thus, we have that for all $n\geq N_2$,
            \begin{align*}
                1 &= 1+L-L+\left| \left| \frac{a_{n+1}}{a_n} \right| \right|-\left| \left| \frac{a_{n+1}}{a_n} \right| \right|\\
                &= |L|-\left| \left| \frac{a_{n+1}}{a_n} \right| \right|+1-L+\left| \left| \frac{a_{n+1}}{a_n} \right| \right|\\
                &\leq \left| L-\left| \frac{a_{n+1}}{a_n} \right| \right|+1-L+\left| \left| \frac{a_{n+1}}{a_n} \right| \right|\\
                &= \left| \left| \frac{a_{n+1}}{a_n} \right|-L \right|+1-L+\left| \left| \frac{a_{n+1}}{a_n} \right| \right|\tag*{Exercise \ref{exr:8.5}}\\
                &< L-1+1-L+\left| \left| \frac{a_{n+1}}{a_n} \right| \right|\\
                &= \left| \frac{a_{n+1}}{a_n} \right|
            \end{align*}
            which can be rearranged by Lemma \ref{lem:7.24} to demonstrate that $|a_n|<|a_{n+1}|$ for all such $n$. Now consider the case where $\epsilon_1=|a_{N_2+1}|$ (note that $|a_{N_2+1}|>|a_{N_2}|\geq 0$ by Definition \ref{dfn:8.4}). Choose $N=\max(N_1,N_2+2)$. Then by the above, we have by transitivity that $|a_N|>|a_{N-1}|>\cdots>|a_{N_2+1}|$. However, since $N\geq N_1$, we also have that $|a_N|<\epsilon_1=|a_{N_2+1}|$, a contradiction. Therefore, since $\lim_{n\to\infty}a_n\neq 0$, we have by the contrapositive of Theorem \ref{trm:16.4} that $\sum_{n=1}^\infty a_n$ diverges.
        \end{proof}
    \end{enumerate}
\end{theorem}

\begin{theorem}\label{trm:16.16}
    Let $(a_n)$ be a sequence such that $\lim_{n\to\infty}\sqrt[n]{|a_n|}$ exists. Then
    \begin{enumerate}[label={\textup{(}\alph*\textup{)}}]
        \item If $\lim_{n\to\infty}\sqrt[n]{|a_n|}<1$, then $\sum_{n=1}^\infty a_n$ converges.
        \begin{proof}
            % \begin{itemize}
            %     \item Let $\lim_{n\to\infty}\sqrt[n]{|a_n|}=L$.
            %     \item Theorem \ref{trm:16.13}: Find a sequence $(c_n)$ of positive numbers such that $|a_n|\leq c_n$ for all $n\geq N_0$, where $N_0$ is some fixed integer, for which $\sum_{n=1}^\infty c_n$ converges.
            %     \item Theorem \ref{trm:5.2}: There exists $x\in\R$ such that $\max(0,L)<x<1$.
            %     \item Define $(c_n)$ by $c_n=x^n$ for all $n\in\N$.
            %     \item Script \ref{sct:7} ($x\geq 0$): $c_n=x^n\geq 0$.
            %     \item Theorem \ref{trm:15.7} ($x-L>0$): There is some $N_0\in\N$ such that for all $n\geq N_0$, $|\sqrt[n]{|a_n|}-L|<x-L$.
            %     \item Script \ref{sct:7}: $|a_n|\leq x^n$.
            %     \item Theorem \ref{trm:16.7} ($-1<\max(0,L)<x<1$): $\sum_{n=1}^\infty c_n$ converges.
            % \end{itemize}

            Let $\lim_{n\to\infty}\sqrt[n]{|a_n|}=L$. To prove that $\sum_{n=1}^\infty a_n$ converges, Theorem \ref{trm:16.13} tells us that that it will suffice to find a sequence $(c_n)$ of positive numbers such that $|a_n|\leq c_n$ for all $n\geq N_0$, where $N_0$ is some fixed integer, for which $\sum_{n=1}^\infty c_n$ converges. Since $L<1$ by hypothesis and $0<1$ by Corollary \ref{cly:7.27}, Theorem \ref{trm:5.2} asserts that there exists a point $x\in\R$ such that $\max(0,L)<x<1$. We now define $(c_n)$ by $c_n=x^n$ for all $n\in\N$. By Script \ref{sct:7} and the fact that $x\geq 0$, we know that $(c_n)$ is a sequence of positive numbers. Additionally, since $x-L>0$, Theorem \ref{trm:15.7} implies that there is some $N_0\in\N$ such that for all $n\geq N_0$, $|\sqrt[n]{|a_n|}-L|<x-L$. It follows by Script \ref{sct:7} that $|a_n|\leq x^n=c_n$ for all $n\geq N_0$. Lastly, since $-1<\max(0,L)<x<1$, we have by Theorem \ref{trm:16.7} that $\sum_{n=0}^\infty c_n$ converges. It follows by Lemma \ref{lem:16.2} that $\sum_{n=1}^\infty c_n$ converges, as desired.
        \end{proof}
        \item If $\lim_{n\to\infty}\sqrt[n]{|a_n|}>1$, then $\sum_{n=1}^\infty a_n$ diverges.
        \begin{proof}
            Let $\lim_{n\to\infty}\sqrt[n]{|a_n|}=L$. Suppose for the sake of contradiction that $\lim_{n\to\infty}a_n=0$. Then by Theorem \ref{trm:15.7}, for all $\epsilon_1>0$, there is some $N_1\in\N$ such that for all $n\geq N_1$, we have $|a_n|=|a_n-0|<\epsilon_1$. Similarly, since $\lim_{n\to\infty}\sqrt[n]{|a_n|}=L$, we have that for all $\epsilon_2>0$, there is some $N_2\in\N$ such that for all $n\geq N_2$, we have $|\sqrt[n]{|a_n|}-L|<\epsilon_2$. Choose $\epsilon_2=L-1$. Thus, we have that for all $n\geq N_2$, $1<\sqrt[n]{|a_n|}$ (by an argument symmetric to that given in the proof of Theorem \ref{trm:16.15b}) which can be rearranged by Script \ref{sct:7} to demonstrate that $|a_n|>1^n=1$ for all such $n$. Now consider the case where $\epsilon_1=1$. Choose $N=\max(N_1,N_2)$. Then by the above, the fact that $N\geq N_2$ implies that $|a_N|>1$. However, since $N\geq N_1$, we also have that $|a_N|<\epsilon_1=1$, a contradiction. Therefore, since $\lim_{n\to\infty}a_n\neq 0$, we have by the contrapositive of Theorem \ref{trm:16.4} that $\sum_{n=1}^\infty a_n$ diverges.
        \end{proof}
    \end{enumerate}
\end{theorem}

\begin{definition}\label{dfn:16.17}\marginnote{6/23:}
    For $n\in\N$, we define the \textbf{factorial} of $n$ to be the product of all natural numbers less than or equal to $n$. We denote this by the formula
    \begin{equation*}
        n! = n\cdot(n-1)\cdot(n-2)\cdot\cdots\cdot 3\cdot 2\cdot 1
    \end{equation*}
    By convention, we also set $0!=1$.
\end{definition}

\begin{exercise}\label{exr:16.18}
    Prove that
    \begin{equation*}
        \sum_{n=0}^\infty\frac{1}{n!}
    \end{equation*}
    converges. The number that it converges to is called e.
    \begin{proof}
        To prove that $\sum_{n=0}^\infty\frac{1}{n!}$ converges, Theorem \ref{trm:16.13} tells us that it will suffice to find a sequence $(c_n)$ of positive numbers such that $|a_n|\leq c_n$ for all $n\geq N_0$, where $N_0$ is some fixed integer, for which $\sum_{n=1}^\infty c_n$ converges. Define $(c_n)$ by $c_n=(\frac{1}{2})^{n-1}$ for all $n\in\N$. We now address each property in turn.\par
        By Script \ref{sct:7} and the fact that $\frac{1}{2}\geq 0$, we know that $(c_n)$ is a sequence of positive numbers.\par
        Choose $N_0=2$. To confirm that $|a_n|\leq c_n$ for all $n\geq N_0$, we induct on $n$ using Additional Exercise \ref{axr:0.2a}. For the base case $n=2$, we have by Definition \ref{dfn:16.17} that $|a_2|=|\frac{1}{2!}|=\frac{1}{2}=c_2$, which we may weaken to $|a_2|\leq c_2$, as desired. Now suppose inductively that we have demonstrated that $|a_n|\leq c_n$; we now seek to demonstrate that $|a_{n+1}|\leq c_{n+1}$. But
        \begin{align*}
            |a_{n+1}| &= \left| \frac{1}{(n+1)!} \right|\\
            &= \frac{1}{n+1}\cdot\frac{1}{n!}\tag*{Definition \ref{dfn:16.17}}\\
            &= \frac{1}{n+1}\cdot|a_n|\\
            &< \frac{1}{2}\cdot|a_n|\\
            &\leq \frac{1}{2}\cdot c_n\\
            &= \frac{1}{2}\cdot\left( \frac{1}{2} \right)^{n-1}\\
            &= \left( \frac{1}{2} \right)^{(n+1)-1}\\
            &= c_{n+1}
        \end{align*}
        which we may weaken to $|a_{n+1}|\leq c_{n+1}$, as desired.\par
        Since $-1<\frac{1}{2}<1$, Theorem \ref{trm:16.7} asserts that $\sum_{n=0}^\infty c_n$ converges. It follows by Lemma \ref{lem:16.2} that $\sum_{n=1}^\infty c_n$ converges, as desired.
    \end{proof}
\end{exercise}




\end{document}